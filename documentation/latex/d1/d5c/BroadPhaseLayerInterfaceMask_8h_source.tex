\doxysection{Broad\+Phase\+Layer\+Interface\+Mask.\+h}
\hypertarget{BroadPhaseLayerInterfaceMask_8h_source}{}\label{BroadPhaseLayerInterfaceMask_8h_source}\index{includes/jolt/Physics/Collision/BroadPhase/BroadPhaseLayerInterfaceMask.h@{includes/jolt/Physics/Collision/BroadPhase/BroadPhaseLayerInterfaceMask.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Jolt\ Physics\ Library\ (https://github.com/jrouwe/JoltPhysics)}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ SPDX-\/FileCopyrightText:\ 2023\ Jorrit\ Rouwe}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ SPDX-\/License-\/Identifier:\ MIT}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/BroadPhase/BroadPhaseLayer.h>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/ObjectLayerPairFilterMask.h>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ JPH\_NAMESPACE\_BEGIN}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classBroadPhaseLayerInterfaceMask}{BroadPhaseLayerInterfaceMask}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classBroadPhaseLayerInterface}{BroadPhaseLayerInterface}}}
\DoxyCodeLine{00018\ \{}
\DoxyCodeLine{00019\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00020\ \ \ \ \ JPH\_OVERRIDE\_NEW\_DELETE}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keyword}{explicit}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhaseLayerInterfaceMask}{BroadPhaseLayerInterfaceMask}}(uint\ inNumBroadPhaseLayers)}
\DoxyCodeLine{00023\ \ \ \ \ \{}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ JPH\_ASSERT(inNumBroadPhaseLayers\ >\ 0);}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ mMapping.resize(inNumBroadPhaseLayers);}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#if\ defined(JPH\_EXTERNAL\_PROFILE)\ ||\ defined(JPH\_PROFILE\_ENABLED)}}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ mBroadPhaseLayerNames.resize(inNumBroadPhaseLayers,\ \textcolor{stringliteral}{"{}Undefined"{}});}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ JPH\_EXTERNAL\_PROFILE\ ||\ JPH\_PROFILE\_ENABLED}}
\DoxyCodeLine{00030\ \ \ \ \ \}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{comment}{//\ Configures\ a\ broadphase\ layer.}}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ConfigureLayer(\mbox{\hyperlink{classBroadPhaseLayer}{BroadPhaseLayer}}\ inBroadPhaseLayer,\ uint32\ inGroupsToInclude,\ uint32\ inGroupsToExclude)}
\DoxyCodeLine{00034\ \ \ \ \ \{}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ JPH\_ASSERT((BroadPhaseLayer::Type)inBroadPhaseLayer\ <\ (uint)mMapping.size());}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ Mapping\ \&m\ =\ mMapping[(BroadPhaseLayer::Type)inBroadPhaseLayer];}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ m.mGroupsToInclude\ =\ inGroupsToInclude;}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ m.mGroupsToExclude\ =\ inGroupsToExclude;}
\DoxyCodeLine{00039\ \ \ \ \ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keyword}{virtual}\ uint\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhaseLayerInterfaceMask_a5c4d1d6ac5321a8bd30ddd54be36f24d}{GetNumBroadPhaseLayers}}()\textcolor{keyword}{\ const\ override}}
\DoxyCodeLine{00042\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (uint)mMapping.size();}
\DoxyCodeLine{00044\ \ \ \ \ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classBroadPhaseLayer}{BroadPhaseLayer}}\ \ \mbox{\hyperlink{classBroadPhaseLayerInterfaceMask_a75300021e8d32e840ec8eb0d4a292b5a}{GetBroadPhaseLayer}}(ObjectLayer\ inLayer)\textcolor{keyword}{\ const\ override}}
\DoxyCodeLine{00047\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Try\ to\ find\ the\ first\ broadphase\ layer\ that\ matches}}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ uint32\ group\ =\ \mbox{\hyperlink{classObjectLayerPairFilterMask_a3b6c480afe541160011ae06980a0a29c}{ObjectLayerPairFilterMask::sGetGroup}}(inLayer);}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ Mapping\ \&m\ :\ mMapping)}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((group\ \&\ m.mGroupsToInclude)\ !=\ 0\ \&\&\ (group\ \&\ m.mGroupsToExclude)\ ==\ 0)}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classBroadPhaseLayer}{BroadPhaseLayer}}(BroadPhaseLayer::Type(\&m\ -\/\ mMapping.data()));}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Fall\ back\ to\ the\ last\ broadphase\ layer}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classBroadPhaseLayer}{BroadPhaseLayer}}(BroadPhaseLayer::Type(mMapping.size()\ -\/\ 1));}
\DoxyCodeLine{00056\ \ \ \ \ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhaseLayerInterfaceMask_ae96ef540e10bbd5d1dbed4260d8d179a}{ShouldCollide}}(ObjectLayer\ inLayer1,\ \mbox{\hyperlink{classBroadPhaseLayer}{BroadPhaseLayer}}\ inLayer2)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00060\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ uint32\ mask\ =\ \mbox{\hyperlink{classObjectLayerPairFilterMask_aa81f6ca1410dca3bcbf434a72a9403fd}{ObjectLayerPairFilterMask::sGetMask}}(inLayer1);}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Mapping\ \&m\ =\ mMapping[(BroadPhaseLayer::Type)inLayer2];}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \&m\ ==\ \&mMapping.back()\ \textcolor{comment}{//\ Last\ layer\ may\ collide\ with\ anything}}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ ||\ (m.mGroupsToInclude\ \&\ mask)\ !=\ 0;\ \textcolor{comment}{//\ Mask\ allows\ it\ to\ collide\ with\ objects\ that\ could\ reside\ in\ this\ layer}}
\DoxyCodeLine{00065\ \ \ \ \ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#if\ defined(JPH\_EXTERNAL\_PROFILE)\ ||\ defined(JPH\_PROFILE\_ENABLED)}}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SetBroadPhaseLayerName(\mbox{\hyperlink{classBroadPhaseLayer}{BroadPhaseLayer}}\ inLayer,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *inName)}
\DoxyCodeLine{00069\ \ \ \ \ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ mBroadPhaseLayerNames[(BroadPhaseLayer::Type)inLayer]\ =\ inName;}
\DoxyCodeLine{00071\ \ \ \ \ \}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ \ \ \ GetBroadPhaseLayerName(\mbox{\hyperlink{classBroadPhaseLayer}{BroadPhaseLayer}}\ inLayer)\textcolor{keyword}{\ const\ override}}
\DoxyCodeLine{00074\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mBroadPhaseLayerNames[(BroadPhaseLayer::Type)inLayer];}
\DoxyCodeLine{00076\ \ \ \ \ \}}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ JPH\_EXTERNAL\_PROFILE\ ||\ JPH\_PROFILE\_ENABLED}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keyword}{struct\ }Mapping}
\DoxyCodeLine{00081\ \ \ \ \ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ uint32\ \ \ \ \ \ \ \ \ \ \ \ \ \ mGroupsToInclude\ =\ 0;}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ uint32\ \ \ \ \ \ \ \ \ \ \ \ \ \ mGroupsToExclude\ =\ \string~uint32(0);}
\DoxyCodeLine{00084\ \ \ \ \ \};}
\DoxyCodeLine{00085\ \ \ \ \ Array<Mapping>\ \ \ \ \ \ \ \ \ \ mMapping;}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \textcolor{preprocessor}{\#if\ defined(JPH\_EXTERNAL\_PROFILE)\ ||\ defined(JPH\_PROFILE\_ENABLED)}}
\DoxyCodeLine{00088\ \ \ \ \ Array<const\ char\ *>\ \ \ \ \ mBroadPhaseLayerNames;}
\DoxyCodeLine{00089\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ JPH\_EXTERNAL\_PROFILE\ ||\ JPH\_PROFILE\_ENABLED}}
\DoxyCodeLine{00090\ \};}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ JPH\_NAMESPACE\_END}

\end{DoxyCode}
