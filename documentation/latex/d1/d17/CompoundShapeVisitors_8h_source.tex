\doxysection{Compound\+Shape\+Visitors.\+h}
\hypertarget{CompoundShapeVisitors_8h_source}{}\label{CompoundShapeVisitors_8h_source}\index{includes/jolt/Physics/Collision/Shape/CompoundShapeVisitors.h@{includes/jolt/Physics/Collision/Shape/CompoundShapeVisitors.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Jolt\ Physics\ Library\ (https://github.com/jrouwe/JoltPhysics)}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ SPDX-\/FileCopyrightText:\ 2021\ Jorrit\ Rouwe}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ SPDX-\/License-\/Identifier:\ MIT}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/Shape/CompoundShape.h>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/Shape/SubShapeID.h>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/RayCast.h>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/CastResult.h>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/ShapeCast.h>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/TransformedShape.h>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/CollisionDispatch.h>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <Jolt/Geometry/RayAABox.h>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <Jolt/Geometry/AABox4.h>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <Jolt/Geometry/OrientedBox.h>}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ JPH\_NAMESPACE\_BEGIN}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structCompoundShape_1_1CastRayVisitor}{CompoundShape::CastRayVisitor}}}
\DoxyCodeLine{00021\ \{}
\DoxyCodeLine{00022\ \ \ \ \ JPH\_INLINE\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CastRayVisitor}{CastRayVisitor}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structRayCast}{RayCast}}\ \&inRay,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classCompoundShape}{CompoundShape}}\ *inShape,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \&inSubShapeIDCreator,\ \mbox{\hyperlink{classRayCastResult}{RayCastResult}}\ \&ioHit)\ :}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ mRay(inRay),}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ mHit(ioHit),}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ mSubShapeIDCreator(inSubShapeIDCreator),}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ mSubShapeBits(inShape-\/>\mbox{\hyperlink{classCompoundShape_a3f4a71f903b9b37eb61262257ca268f2}{GetSubShapeIDBits}}())}
\DoxyCodeLine{00027\ \ \ \ \ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Determine\ ray\ properties\ of\ cast}}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ mInvDirection.\mbox{\hyperlink{classRayInvDirection_ac9569874f14ade61e966744af2abdc79}{Set}}(inRay.\mbox{\hyperlink{structRayCastT_a7eb5c3b516f95411ede61d7fd282bbd9}{mDirection}});}
\DoxyCodeLine{00030\ \ \ \ \ \}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00033\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CastRayVisitor_a7668a1ea39d30feee8636f90626320c4}{ShouldAbort}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00034\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mHit.\mbox{\hyperlink{classBroadPhaseCastResult_a3336f4d32762bcbcb6bcfd2b6fcbf7fb}{mFraction}}\ <=\ 0.0f;}
\DoxyCodeLine{00036\ \ \ \ \ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00039\ \ \ \ \ JPH\_INLINE\ \mbox{\hyperlink{classVec4}{Vec4}}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CastRayVisitor_a45ca32b8515b057633bdea8c47f3f044}{TestBounds}}(\mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxZ)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00040\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ RayAABox4(mRay.\mbox{\hyperlink{structRayCastT_ae66dc4b0c20b242f17bcf70cb5507e51}{mOrigin}},\ mInvDirection,\ inBoundsMinX,\ inBoundsMinY,\ inBoundsMinZ,\ inBoundsMaxX,\ inBoundsMaxY,\ inBoundsMaxZ);}
\DoxyCodeLine{00042\ \ \ \ \ \}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00045\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{void}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CastRayVisitor_abcfb06db0c470f7b887bd1ccbdf293e9}{VisitShape}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structCompoundShape_1_1SubShape}{SubShape}}\ \&inSubShape,\ uint32\ inSubShapeIndex)}
\DoxyCodeLine{00046\ \ \ \ \ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ ID\ for\ sub\ shape}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ shape2\_sub\_shape\_id\ =\ mSubShapeIDCreator.\mbox{\hyperlink{classSubShapeIDCreator_a29997885833b2c9625bcbcba4548273d}{PushID}}(inSubShapeIndex,\ mSubShapeBits);}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Transform\ the\ ray}}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ transform\ =\ \mbox{\hyperlink{classMat44_ac8be820a7eeb44bf570abb8dc01f4c59}{Mat44::sInverseRotationTranslation}}(inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_a13d700b0e7064e9ecdf99afdc0262eae}{GetRotation}}(),\ inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_ac3fea8705474011f4f5681c18fcdaaa2}{GetPositionCOM}}());}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structRayCast}{RayCast}}\ ray\ =\ mRay.\mbox{\hyperlink{structRayCastT_a89d5ea77b4b5f8c92e1ec515ea70d14b}{Transformed}}(transform);}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inSubShape.mShape-\/>\mbox{\hyperlink{classShape_a955ec1953bc94c6c910dc4dc16114732}{CastRay}}(ray,\ shape2\_sub\_shape\_id,\ mHit))}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ mReturnValue\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00055\ \ \ \ \ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{classRayInvDirection}{RayInvDirection}}\ \ \ \ \ \ mInvDirection;}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structRayCast}{RayCast}}\ \&\ \ \ \ \ \ mRay;}
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{classRayCastResult}{RayCastResult}}\ \&\ \ \ \ \ \ \ \ mHit;}
\DoxyCodeLine{00060\ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \ mSubShapeIDCreator;}
\DoxyCodeLine{00061\ \ \ \ \ uint\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mSubShapeBits;}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mReturnValue\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00063\ \};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structCompoundShape_1_1CastRayVisitorCollector}{CompoundShape::CastRayVisitorCollector}}}
\DoxyCodeLine{00066\ \{}
\DoxyCodeLine{00067\ \ \ \ \ JPH\_INLINE\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CastRayVisitorCollector}{CastRayVisitorCollector}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structRayCast}{RayCast}}\ \&inRay,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRayCastSettings}{RayCastSettings}}\ \&inRayCastSettings,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classCompoundShape}{CompoundShape}}\ *inShape,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \&inSubShapeIDCreator,\ \mbox{\hyperlink{classCollisionCollector}{CastRayCollector}}\ \&ioCollector,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeFilter}{ShapeFilter}}\ \&inShapeFilter)\ :}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ mRay(inRay),}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ mCollector(ioCollector),}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ mSubShapeIDCreator(inSubShapeIDCreator),}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ mSubShapeBits(inShape-\/>\mbox{\hyperlink{classCompoundShape_a3f4a71f903b9b37eb61262257ca268f2}{GetSubShapeIDBits}}()),}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ mRayCastSettings(inRayCastSettings),}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ mShapeFilter(inShapeFilter)}
\DoxyCodeLine{00074\ \ \ \ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Determine\ ray\ properties\ of\ cast}}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ mInvDirection.\mbox{\hyperlink{classRayInvDirection_ac9569874f14ade61e966744af2abdc79}{Set}}(inRay.\mbox{\hyperlink{structRayCastT_a7eb5c3b516f95411ede61d7fd282bbd9}{mDirection}});}
\DoxyCodeLine{00077\ \ \ \ \ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00080\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CastRayVisitorCollector_adcc33d30649befa932d49742db59986d}{ShouldAbort}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00081\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mCollector.\mbox{\hyperlink{classCollisionCollector_a45cb1cfbb5ec957d3c66b65d2333d825}{ShouldEarlyOut}}();}
\DoxyCodeLine{00083\ \ \ \ \ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00086\ \ \ \ \ JPH\_INLINE\ \mbox{\hyperlink{classVec4}{Vec4}}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CastRayVisitorCollector_a814152f9307136c005f19c36131746d2}{TestBounds}}(\mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxZ)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00087\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ RayAABox4(mRay.\mbox{\hyperlink{structRayCastT_ae66dc4b0c20b242f17bcf70cb5507e51}{mOrigin}},\ mInvDirection,\ inBoundsMinX,\ inBoundsMinY,\ inBoundsMinZ,\ inBoundsMaxX,\ inBoundsMaxY,\ inBoundsMaxZ);}
\DoxyCodeLine{00089\ \ \ \ \ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00092\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{void}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CastRayVisitorCollector_a295365cb216ebe0c673cddae6fe7fcc6}{VisitShape}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structCompoundShape_1_1SubShape}{SubShape}}\ \&inSubShape,\ uint32\ inSubShapeIndex)}
\DoxyCodeLine{00093\ \ \ \ \ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ ID\ for\ sub\ shape}}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ shape2\_sub\_shape\_id\ =\ mSubShapeIDCreator.\mbox{\hyperlink{classSubShapeIDCreator_a29997885833b2c9625bcbcba4548273d}{PushID}}(inSubShapeIndex,\ mSubShapeBits);}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Transform\ the\ ray}}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ transform\ =\ \mbox{\hyperlink{classMat44_ac8be820a7eeb44bf570abb8dc01f4c59}{Mat44::sInverseRotationTranslation}}(inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_a13d700b0e7064e9ecdf99afdc0262eae}{GetRotation}}(),\ inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_ac3fea8705474011f4f5681c18fcdaaa2}{GetPositionCOM}}());}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structRayCast}{RayCast}}\ ray\ =\ mRay.\mbox{\hyperlink{structRayCastT_a89d5ea77b4b5f8c92e1ec515ea70d14b}{Transformed}}(transform);}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ inSubShape.mShape-\/>\mbox{\hyperlink{classShape_a955ec1953bc94c6c910dc4dc16114732}{CastRay}}(ray,\ mRayCastSettings,\ shape2\_sub\_shape\_id,\ mCollector,\ mShapeFilter);}
\DoxyCodeLine{00101\ \ \ \ \ \}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{classRayInvDirection}{RayInvDirection}}\ \ \ \ \ \ mInvDirection;}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structRayCast}{RayCast}}\ \&\ \ \ \ \ \ mRay;}
\DoxyCodeLine{00105\ \ \ \ \ \mbox{\hyperlink{classCollisionCollector}{CastRayCollector}}\ \&\ \ mCollector;}
\DoxyCodeLine{00106\ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \ mSubShapeIDCreator;}
\DoxyCodeLine{00107\ \ \ \ \ uint\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mSubShapeBits;}
\DoxyCodeLine{00108\ \ \ \ \ \mbox{\hyperlink{classRayCastSettings}{RayCastSettings}}\ \ \ \ \ \ mRayCastSettings;}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeFilter}{ShapeFilter}}\ \&\ \ mShapeFilter;}
\DoxyCodeLine{00110\ \};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structCompoundShape_1_1CollidePointVisitor}{CompoundShape::CollidePointVisitor}}}
\DoxyCodeLine{00113\ \{}
\DoxyCodeLine{00114\ \ \ \ \ JPH\_INLINE\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollidePointVisitor}{CollidePointVisitor}}(\mbox{\hyperlink{classVec3}{Vec3Arg}}\ inPoint,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classCompoundShape}{CompoundShape}}\ *inShape,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \&inSubShapeIDCreator,\ \mbox{\hyperlink{classCollisionCollector}{CollidePointCollector}}\ \&ioCollector,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeFilter}{ShapeFilter}}\ \&inShapeFilter)\ :}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ mPoint(inPoint),}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ mSubShapeIDCreator(inSubShapeIDCreator),}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ mCollector(ioCollector),}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ mSubShapeBits(inShape-\/>\mbox{\hyperlink{classCompoundShape_a3f4a71f903b9b37eb61262257ca268f2}{GetSubShapeIDBits}}()),}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ mShapeFilter(inShapeFilter)}
\DoxyCodeLine{00120\ \ \ \ \ \{}
\DoxyCodeLine{00121\ \ \ \ \ \}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00124\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollidePointVisitor_aab907c8ad14bf917323ed88160cd861d}{ShouldAbort}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00125\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mCollector.\mbox{\hyperlink{classCollisionCollector_a45cb1cfbb5ec957d3c66b65d2333d825}{ShouldEarlyOut}}();}
\DoxyCodeLine{00127\ \ \ \ \ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00130\ \ \ \ \ JPH\_INLINE\ \mbox{\hyperlink{classUVec4}{UVec4}}\ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollidePointVisitor_a462fecb2d7a11225bc4b89015a4c6e9b}{TestBounds}}(\mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxZ)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00131\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ AABox4VsPoint(mPoint,\ inBoundsMinX,\ inBoundsMinY,\ inBoundsMinZ,\ inBoundsMaxX,\ inBoundsMaxY,\ inBoundsMaxZ);}
\DoxyCodeLine{00133\ \ \ \ \ \}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00136\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{void}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollidePointVisitor_aeeb14c482931fed4f18e825ee8bba908}{VisitShape}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structCompoundShape_1_1SubShape}{SubShape}}\ \&inSubShape,\ uint32\ inSubShapeIndex)}
\DoxyCodeLine{00137\ \ \ \ \ \{}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ ID\ for\ sub\ shape}}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ shape2\_sub\_shape\_id\ =\ mSubShapeIDCreator.\mbox{\hyperlink{classSubShapeIDCreator_a29997885833b2c9625bcbcba4548273d}{PushID}}(inSubShapeIndex,\ mSubShapeBits);}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Transform\ the\ point}}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ transform\ =\ \mbox{\hyperlink{classMat44_ac8be820a7eeb44bf570abb8dc01f4c59}{Mat44::sInverseRotationTranslation}}(inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_a13d700b0e7064e9ecdf99afdc0262eae}{GetRotation}}(),\ inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_ac3fea8705474011f4f5681c18fcdaaa2}{GetPositionCOM}}());}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ inSubShape.mShape-\/>\mbox{\hyperlink{classShape_af6e77d16736434769d72152bf059a126}{CollidePoint}}(transform\ *\ mPoint,\ shape2\_sub\_shape\_id,\ mCollector,\ mShapeFilter);}
\DoxyCodeLine{00144\ \ \ \ \ \}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mPoint;}
\DoxyCodeLine{00147\ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \ \ \ \ \ \ \ \ \ mSubShapeIDCreator;}
\DoxyCodeLine{00148\ \ \ \ \ \mbox{\hyperlink{classCollisionCollector}{CollidePointCollector}}\ \&\ \ \ \ \ \ \ \ mCollector;}
\DoxyCodeLine{00149\ \ \ \ \ uint\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mSubShapeBits;}
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeFilter}{ShapeFilter}}\ \&\ \ \ \ \ \ \ \ \ \ mShapeFilter;}
\DoxyCodeLine{00151\ \};}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structCompoundShape_1_1CastShapeVisitor}{CompoundShape::CastShapeVisitor}}}
\DoxyCodeLine{00154\ \{}
\DoxyCodeLine{00155\ \ \ \ \ JPH\_INLINE\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CastShapeVisitor}{CastShapeVisitor}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structShapeCast}{ShapeCast}}\ \&inShapeCast,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeCastSettings}{ShapeCastSettings}}\ \&inShapeCastSettings,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classCompoundShape}{CompoundShape}}\ *inShape,\ \mbox{\hyperlink{classVec3}{Vec3Arg}}\ inScale,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeFilter}{ShapeFilter}}\ \&inShapeFilter,\ \mbox{\hyperlink{classMat44}{Mat44Arg}}\ inCenterOfMassTransform2,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \&inSubShapeIDCreator1,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \&inSubShapeIDCreator2,\ \mbox{\hyperlink{classCollisionCollector}{CastShapeCollector}}\ \&ioCollector)\ :}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ mBoxCenter(inShapeCast.\mbox{\hyperlink{structShapeCastT_aef82ae03a83e2026e3af3d2f18d9710c}{mShapeWorldBounds}}.\mbox{\hyperlink{classAABox_ae39e3c3fee87093735787b4c3fd58a8d}{GetCenter}}()),}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ mBoxExtent(inShapeCast.\mbox{\hyperlink{structShapeCastT_aef82ae03a83e2026e3af3d2f18d9710c}{mShapeWorldBounds}}.\mbox{\hyperlink{classAABox_a094a8548424826014024349fd7b96766}{GetExtent}}()),}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ mScale(inScale),}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ mShapeCast(inShapeCast),}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ mShapeCastSettings(inShapeCastSettings),}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ mShapeFilter(inShapeFilter),}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ mCollector(ioCollector),}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ mCenterOfMassTransform2(inCenterOfMassTransform2),}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ mSubShapeIDCreator1(inSubShapeIDCreator1),}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ mSubShapeIDCreator2(inSubShapeIDCreator2),}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ mSubShapeBits(inShape-\/>\mbox{\hyperlink{classCompoundShape_a3f4a71f903b9b37eb61262257ca268f2}{GetSubShapeIDBits}}())}
\DoxyCodeLine{00167\ \ \ \ \ \{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Determine\ ray\ properties\ of\ cast}}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ mInvDirection.\mbox{\hyperlink{classRayInvDirection_ac9569874f14ade61e966744af2abdc79}{Set}}(inShapeCast.\mbox{\hyperlink{structShapeCastT_a4b45c3421b2f87e1553bb3325ca64752}{mDirection}});}
\DoxyCodeLine{00170\ \ \ \ \ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00173\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CastShapeVisitor_a11687e8851b02a264d77bfa665822398}{ShouldAbort}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00174\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mCollector.\mbox{\hyperlink{classCollisionCollector_a45cb1cfbb5ec957d3c66b65d2333d825}{ShouldEarlyOut}}();}
\DoxyCodeLine{00176\ \ \ \ \ \}}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00179\ \ \ \ \ JPH\_INLINE\ \mbox{\hyperlink{classVec4}{Vec4}}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CastShapeVisitor_aa89ca00f54a79ed5ead44eebbc25f41e}{TestBounds}}(\mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxZ)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00180\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Scale\ the\ bounding\ boxes}}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ bounds\_min\_x,\ bounds\_min\_y,\ bounds\_min\_z,\ bounds\_max\_x,\ bounds\_max\_y,\ bounds\_max\_z;}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ AABox4Scale(mScale,\ inBoundsMinX,\ inBoundsMinY,\ inBoundsMinZ,\ inBoundsMaxX,\ inBoundsMaxY,\ inBoundsMaxZ,\ bounds\_min\_x,\ bounds\_min\_y,\ bounds\_min\_z,\ bounds\_max\_x,\ bounds\_max\_y,\ bounds\_max\_z);}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Enlarge\ them\ by\ the\ casted\ shape's\ box\ extents}}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ AABox4EnlargeWithExtent(mBoxExtent,\ bounds\_min\_x,\ bounds\_min\_y,\ bounds\_min\_z,\ bounds\_max\_x,\ bounds\_max\_y,\ bounds\_max\_z);}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Test\ ray\ against\ the\ bounding\ boxes}}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ RayAABox4(mBoxCenter,\ mInvDirection,\ bounds\_min\_x,\ bounds\_min\_y,\ bounds\_min\_z,\ bounds\_max\_x,\ bounds\_max\_y,\ bounds\_max\_z);}
\DoxyCodeLine{00190\ \ \ \ \ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00193\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{void}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CastShapeVisitor_aa834797c904738fc3bee984367a46df4}{VisitShape}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structCompoundShape_1_1SubShape}{SubShape}}\ \&inSubShape,\ uint32\ inSubShapeIndex)}
\DoxyCodeLine{00194\ \ \ \ \ \{}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ JPH\_ASSERT(inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_a33448959f96311ef875a912b8a104dcf}{IsValidScale}}(mScale));}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ ID\ for\ sub\ shape}}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ shape2\_sub\_shape\_id\ =\ mSubShapeIDCreator2.\mbox{\hyperlink{classSubShapeIDCreator_a29997885833b2c9625bcbcba4548273d}{PushID}}(inSubShapeIndex,\ mSubShapeBits);}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ local\ transform\ for\ this\ sub\ shape}}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ local\_transform\ =\ \mbox{\hyperlink{classMat44_aba5427f45393b40263d52ec614cfa985}{Mat44::sRotationTranslation}}(inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_a13d700b0e7064e9ecdf99afdc0262eae}{GetRotation}}(),\ mScale\ *\ inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_ac3fea8705474011f4f5681c18fcdaaa2}{GetPositionCOM}}());}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Transform\ the\ center\ of\ mass\ of\ 2}}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ center\_of\_mass\_transform2\ =\ mCenterOfMassTransform2\ *\ local\_transform;}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Transform\ the\ shape\ cast}}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structShapeCast}{ShapeCast}}\ shape\_cast\ =\ mShapeCast.\mbox{\hyperlink{structShapeCastT_ab07dbf4278d79895fb480781d24db2f3}{PostTransformed}}(local\_transform.\mbox{\hyperlink{classMat44_af962ad0ed20cb6112f8249cb9573c233}{InversedRotationTranslation}}());}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionDispatch_a684c783f79569805d64cd436800b1d2a}{CollisionDispatch::sCastShapeVsShapeLocalSpace}}(shape\_cast,\ mShapeCastSettings,\ inSubShape.mShape,\ inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_a92de7326e077355d680f2d6ce860d7fc}{TransformScale}}(mScale),\ mShapeFilter,\ center\_of\_mass\_transform2,\ mSubShapeIDCreator1,\ shape2\_sub\_shape\_id,\ mCollector);}
\DoxyCodeLine{00210\ \ \ \ \ \}}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \ \ \mbox{\hyperlink{classRayInvDirection}{RayInvDirection}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ mInvDirection;}
\DoxyCodeLine{00213\ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mBoxCenter;}
\DoxyCodeLine{00214\ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mBoxExtent;}
\DoxyCodeLine{00215\ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mScale;}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structShapeCast}{ShapeCast}}\ \&\ \ \ \ \ \ \ \ \ \ mShapeCast;}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeCastSettings}{ShapeCastSettings}}\ \&\ \ mShapeCastSettings;}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeFilter}{ShapeFilter}}\ \&\ \ \ \ \ \ \ \ \ \ mShapeFilter;}
\DoxyCodeLine{00219\ \ \ \ \ \mbox{\hyperlink{classCollisionCollector}{CastShapeCollector}}\ \&\ \ \ \ \ \ mCollector;}
\DoxyCodeLine{00220\ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mCenterOfMassTransform2;}
\DoxyCodeLine{00221\ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \ \ \ \ \ \ \ \ \ mSubShapeIDCreator1;}
\DoxyCodeLine{00222\ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \ \ \ \ \ \ \ \ \ mSubShapeIDCreator2;}
\DoxyCodeLine{00223\ \ \ \ \ uint\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mSubShapeBits;}
\DoxyCodeLine{00224\ \};}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structCompoundShape_1_1CollectTransformedShapesVisitor}{CompoundShape::CollectTransformedShapesVisitor}}}
\DoxyCodeLine{00227\ \{}
\DoxyCodeLine{00228\ \ \ \ \ JPH\_INLINE\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollectTransformedShapesVisitor}{CollectTransformedShapesVisitor}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classAABox}{AABox}}\ \&inBox,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classCompoundShape}{CompoundShape}}\ *inShape,\ \mbox{\hyperlink{classVec3}{Vec3Arg}}\ inPositionCOM,\ \mbox{\hyperlink{classQuat}{QuatArg}}\ inRotation,\ \mbox{\hyperlink{classVec3}{Vec3Arg}}\ inScale,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \&inSubShapeIDCreator,\ \mbox{\hyperlink{classCollisionCollector}{TransformedShapeCollector}}\ \&ioCollector,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeFilter}{ShapeFilter}}\ \&inShapeFilter)\ :}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ mBox(inBox),}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ mLocalBox(\mbox{\hyperlink{classMat44_ac8be820a7eeb44bf570abb8dc01f4c59}{Mat44::sInverseRotationTranslation}}(inRotation,\ inPositionCOM),\ inBox),}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ mPositionCOM(inPositionCOM),}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ mRotation(inRotation),}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ mScale(inScale),}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ mSubShapeIDCreator(inSubShapeIDCreator),}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ mCollector(ioCollector),}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ mSubShapeBits(inShape-\/>\mbox{\hyperlink{classCompoundShape_a3f4a71f903b9b37eb61262257ca268f2}{GetSubShapeIDBits}}()),}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ mShapeFilter(inShapeFilter)}
\DoxyCodeLine{00238\ \ \ \ \ \{}
\DoxyCodeLine{00239\ \ \ \ \ \}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00242\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollectTransformedShapesVisitor_a0514f8498006d248fc1ca54e5420ba41}{ShouldAbort}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00243\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mCollector.\mbox{\hyperlink{classCollisionCollector_a45cb1cfbb5ec957d3c66b65d2333d825}{ShouldEarlyOut}}();}
\DoxyCodeLine{00245\ \ \ \ \ \}}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00248\ \ \ \ \ JPH\_INLINE\ \mbox{\hyperlink{classUVec4}{UVec4}}\ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollectTransformedShapesVisitor_ae2e78802ce43915c117bc1e0d91d08b5}{TestBounds}}(\mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxZ)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00249\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Scale\ the\ bounding\ boxes\ of\ this\ node}}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ bounds\_min\_x,\ bounds\_min\_y,\ bounds\_min\_z,\ bounds\_max\_x,\ bounds\_max\_y,\ bounds\_max\_z;}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ AABox4Scale(mScale,\ inBoundsMinX,\ inBoundsMinY,\ inBoundsMinZ,\ inBoundsMaxX,\ inBoundsMaxY,\ inBoundsMaxZ,\ bounds\_min\_x,\ bounds\_min\_y,\ bounds\_min\_z,\ bounds\_max\_x,\ bounds\_max\_y,\ bounds\_max\_z);}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Test\ which\ nodes\ collide}}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ AABox4VsBox(mLocalBox,\ bounds\_min\_x,\ bounds\_min\_y,\ bounds\_min\_z,\ bounds\_max\_x,\ bounds\_max\_y,\ bounds\_max\_z);}
\DoxyCodeLine{00256\ \ \ \ \ \}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00259\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{void}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollectTransformedShapesVisitor_a40155b16c19875b30971665976d2b3be}{VisitShape}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structCompoundShape_1_1SubShape}{SubShape}}\ \&inSubShape,\ uint32\ inSubShapeIndex)}
\DoxyCodeLine{00260\ \ \ \ \ \{}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ JPH\_ASSERT(inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_a33448959f96311ef875a912b8a104dcf}{IsValidScale}}(mScale));}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ ID\ for\ sub\ shape}}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ sub\_shape\_id\ =\ mSubShapeIDCreator.\mbox{\hyperlink{classSubShapeIDCreator_a29997885833b2c9625bcbcba4548273d}{PushID}}(inSubShapeIndex,\ mSubShapeBits);}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Calculate\ world\ transform\ for\ sub\ shape}}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ position\ =\ mPositionCOM\ +\ mRotation\ *\ (mScale\ *\ inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_ac3fea8705474011f4f5681c18fcdaaa2}{GetPositionCOM}}());}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classQuat}{Quat}}\ rotation\ =\ mRotation\ *\ inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_a13d700b0e7064e9ecdf99afdc0262eae}{GetRotation}}();}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Recurse\ to\ sub\ shape}}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ inSubShape.mShape-\/>\mbox{\hyperlink{classShape_a878715858fc2494068183d9eb82d16b0}{CollectTransformedShapes}}(mBox,\ position,\ rotation,\ inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_a92de7326e077355d680f2d6ce860d7fc}{TransformScale}}(mScale),\ sub\_shape\_id,\ mCollector,\ mShapeFilter);}
\DoxyCodeLine{00272\ \ \ \ \ \}}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \ \ \ \ \mbox{\hyperlink{classAABox}{AABox}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mBox;}
\DoxyCodeLine{00275\ \ \ \ \ \mbox{\hyperlink{classOrientedBox}{OrientedBox}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mLocalBox;}
\DoxyCodeLine{00276\ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mPositionCOM;}
\DoxyCodeLine{00277\ \ \ \ \ \mbox{\hyperlink{classQuat}{Quat}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mRotation;}
\DoxyCodeLine{00278\ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mScale;}
\DoxyCodeLine{00279\ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ mSubShapeIDCreator;}
\DoxyCodeLine{00280\ \ \ \ \ \mbox{\hyperlink{classCollisionCollector}{TransformedShapeCollector}}\ \&\ \ \ \ \ \ \ \ mCollector;}
\DoxyCodeLine{00281\ \ \ \ \ uint\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mSubShapeBits;}
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeFilter}{ShapeFilter}}\ \&\ \ \ \ \ \ \ \ \ \ \ \ \ \ mShapeFilter;}
\DoxyCodeLine{00283\ \};}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00285\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structCompoundShape_1_1CollideCompoundVsShapeVisitor}{CompoundShape::CollideCompoundVsShapeVisitor}}}
\DoxyCodeLine{00286\ \{}
\DoxyCodeLine{00287\ \ \ \ \ JPH\_INLINE\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollideCompoundVsShapeVisitor}{CollideCompoundVsShapeVisitor}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classCompoundShape}{CompoundShape}}\ *inShape1,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShape}{Shape}}\ *inShape2,\ \mbox{\hyperlink{classVec3}{Vec3Arg}}\ inScale1,\ \mbox{\hyperlink{classVec3}{Vec3Arg}}\ inScale2,\ \mbox{\hyperlink{classMat44}{Mat44Arg}}\ inCenterOfMassTransform1,\ \mbox{\hyperlink{classMat44}{Mat44Arg}}\ inCenterOfMassTransform2,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \&inSubShapeIDCreator1,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \&inSubShapeIDCreator2,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classCollideShapeSettings}{CollideShapeSettings}}\ \&inCollideShapeSettings,\ \mbox{\hyperlink{classCollisionCollector}{CollideShapeCollector}}\ \&ioCollector,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeFilter}{ShapeFilter}}\ \&inShapeFilter)\ :}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ mCollideShapeSettings(inCollideShapeSettings),}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ mCollector(ioCollector),}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ mShape2(inShape2),}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ mScale1(inScale1),}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ mScale2(inScale2),}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ mTransform1(inCenterOfMassTransform1),}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ mTransform2(inCenterOfMassTransform2),}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ mSubShapeIDCreator1(inSubShapeIDCreator1),}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ mSubShapeIDCreator2(inSubShapeIDCreator2),}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ mSubShapeBits(inShape1-\/>\mbox{\hyperlink{classCompoundShape_a3f4a71f903b9b37eb61262257ca268f2}{GetSubShapeIDBits}}()),}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ mShapeFilter(inShapeFilter)}
\DoxyCodeLine{00299\ \ \ \ \ \{}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ transform\ from\ shape\ 2\ to\ shape\ 1}}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ transform2\_to\_1\ =\ inCenterOfMassTransform1.\mbox{\hyperlink{classMat44_af962ad0ed20cb6112f8249cb9573c233}{InversedRotationTranslation}}()\ *\ inCenterOfMassTransform2;}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Convert\ bounding\ box\ of\ 2\ into\ space\ of\ 1}}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ mBoundsOf2InSpaceOf1\ =\ inShape2-\/>\mbox{\hyperlink{classShape_a30ea165596e01df087f6e4980ed6b0cb}{GetLocalBounds}}().\mbox{\hyperlink{classAABox_a31ebfa8ddbf9f09cb16aee086e0bbffc}{Scaled}}(inScale2).\mbox{\hyperlink{classAABox_abd7316d2e960c1a365acc924b1492ff3}{Transformed}}(transform2\_to\_1);}
\DoxyCodeLine{00305\ \ \ \ \ \}}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00308\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollideCompoundVsShapeVisitor_a135fbf1825c7dfbfc0556005b92bc5c1}{ShouldAbort}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00309\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mCollector.\mbox{\hyperlink{classCollisionCollector_a45cb1cfbb5ec957d3c66b65d2333d825}{ShouldEarlyOut}}();}
\DoxyCodeLine{00311\ \ \ \ \ \}}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00314\ \ \ \ \ JPH\_INLINE\ \mbox{\hyperlink{classUVec4}{UVec4}}\ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollideCompoundVsShapeVisitor_af43a759ff857d5f3ee1246425e146851}{TestBounds}}(\mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxZ)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00315\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Scale\ the\ bounding\ boxes}}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ bounds\_min\_x,\ bounds\_min\_y,\ bounds\_min\_z,\ bounds\_max\_x,\ bounds\_max\_y,\ bounds\_max\_z;}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ AABox4Scale(mScale1,\ inBoundsMinX,\ inBoundsMinY,\ inBoundsMinZ,\ inBoundsMaxX,\ inBoundsMaxY,\ inBoundsMaxZ,\ bounds\_min\_x,\ bounds\_min\_y,\ bounds\_min\_z,\ bounds\_max\_x,\ bounds\_max\_y,\ bounds\_max\_z);}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Test\ which\ boxes\ collide}}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ AABox4VsBox(mBoundsOf2InSpaceOf1,\ bounds\_min\_x,\ bounds\_min\_y,\ bounds\_min\_z,\ bounds\_max\_x,\ bounds\_max\_y,\ bounds\_max\_z);}
\DoxyCodeLine{00322\ \ \ \ \ \}}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00325\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{void}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollideCompoundVsShapeVisitor_af575d07fd175a53c7c9039c9b91a060a}{VisitShape}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structCompoundShape_1_1SubShape}{SubShape}}\ \&inSubShape,\ uint32\ inSubShapeIndex)}
\DoxyCodeLine{00326\ \ \ \ \ \{}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ world\ transform\ of\ 1}}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ transform1\ =\ mTransform1\ *\ inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_a18ba22cc1d5ad095bce61a7fcfcbcc25}{GetLocalTransformNoScale}}(mScale1);}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ ID\ for\ sub\ shape}}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ shape1\_sub\_shape\_id\ =\ mSubShapeIDCreator1.\mbox{\hyperlink{classSubShapeIDCreator_a29997885833b2c9625bcbcba4548273d}{PushID}}(inSubShapeIndex,\ mSubShapeBits);}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionDispatch_a29634d08db5d24ce7c0d5c44b547c075}{CollisionDispatch::sCollideShapeVsShape}}(inSubShape.mShape,\ mShape2,\ inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_a92de7326e077355d680f2d6ce860d7fc}{TransformScale}}(mScale1),\ mScale2,\ transform1,\ mTransform2,\ shape1\_sub\_shape\_id,\ mSubShapeIDCreator2,\ mCollideShapeSettings,\ mCollector,\ mShapeFilter);}
\DoxyCodeLine{00334\ \ \ \ \ \}}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classCollideShapeSettings}{CollideShapeSettings}}\ \&\ \ \ \ mCollideShapeSettings;}
\DoxyCodeLine{00337\ \ \ \ \ \mbox{\hyperlink{classCollisionCollector}{CollideShapeCollector}}\ \&\ \ \ \ \ \ \ \ \ \ \ \ mCollector;}
\DoxyCodeLine{00338\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShape}{Shape}}\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mShape2;}
\DoxyCodeLine{00339\ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mScale1;}
\DoxyCodeLine{00340\ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mScale2;}
\DoxyCodeLine{00341\ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mTransform1;}
\DoxyCodeLine{00342\ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mTransform2;}
\DoxyCodeLine{00343\ \ \ \ \ \mbox{\hyperlink{classAABox}{AABox}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mBoundsOf2InSpaceOf1;}
\DoxyCodeLine{00344\ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ mSubShapeIDCreator1;}
\DoxyCodeLine{00345\ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ mSubShapeIDCreator2;}
\DoxyCodeLine{00346\ \ \ \ \ uint\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mSubShapeBits;}
\DoxyCodeLine{00347\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeFilter}{ShapeFilter}}\ \&\ \ \ \ \ \ \ \ \ \ \ \ \ \ mShapeFilter;}
\DoxyCodeLine{00348\ \};}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structCompoundShape_1_1CollideShapeVsCompoundVisitor}{CompoundShape::CollideShapeVsCompoundVisitor}}}
\DoxyCodeLine{00351\ \{}
\DoxyCodeLine{00352\ \ \ \ \ JPH\_INLINE\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollideShapeVsCompoundVisitor}{CollideShapeVsCompoundVisitor}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classShape}{Shape}}\ *inShape1,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classCompoundShape}{CompoundShape}}\ *inShape2,\ \mbox{\hyperlink{classVec3}{Vec3Arg}}\ inScale1,\ \mbox{\hyperlink{classVec3}{Vec3Arg}}\ inScale2,\ \mbox{\hyperlink{classMat44}{Mat44Arg}}\ inCenterOfMassTransform1,\ \mbox{\hyperlink{classMat44}{Mat44Arg}}\ inCenterOfMassTransform2,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \&inSubShapeIDCreator1,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \&inSubShapeIDCreator2,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classCollideShapeSettings}{CollideShapeSettings}}\ \&inCollideShapeSettings,\ \mbox{\hyperlink{classCollisionCollector}{CollideShapeCollector}}\ \&ioCollector,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeFilter}{ShapeFilter}}\ \&inShapeFilter)\ :}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ mCollideShapeSettings(inCollideShapeSettings),}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ mCollector(ioCollector),}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ mShape1(inShape1),}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ mScale1(inScale1),}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ mScale2(inScale2),}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ mTransform1(inCenterOfMassTransform1),}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ mTransform2(inCenterOfMassTransform2),}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ mSubShapeIDCreator1(inSubShapeIDCreator1),}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ mSubShapeIDCreator2(inSubShapeIDCreator2),}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ mSubShapeBits(inShape2-\/>\mbox{\hyperlink{classCompoundShape_a3f4a71f903b9b37eb61262257ca268f2}{GetSubShapeIDBits}}()),}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ mShapeFilter(inShapeFilter)}
\DoxyCodeLine{00364\ \ \ \ \ \{}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ transform\ from\ shape\ 1\ to\ shape\ 2}}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ transform1\_to\_2\ =\ inCenterOfMassTransform2.\mbox{\hyperlink{classMat44_af962ad0ed20cb6112f8249cb9573c233}{InversedRotationTranslation}}()\ *\ inCenterOfMassTransform1;}
\DoxyCodeLine{00367\ }
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Convert\ bounding\ box\ of\ 1\ into\ space\ of\ 2}}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ mBoundsOf1InSpaceOf2\ =\ inShape1-\/>\mbox{\hyperlink{classShape_a30ea165596e01df087f6e4980ed6b0cb}{GetLocalBounds}}().\mbox{\hyperlink{classAABox_a31ebfa8ddbf9f09cb16aee086e0bbffc}{Scaled}}(inScale1).\mbox{\hyperlink{classAABox_abd7316d2e960c1a365acc924b1492ff3}{Transformed}}(transform1\_to\_2);}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ mBoundsOf1InSpaceOf2.\mbox{\hyperlink{classAABox_a7023c1c28f073fa0d14ecee0f5fc8ee8}{ExpandBy}}(\mbox{\hyperlink{classVec3_ad6be51ce14811d6c196784d20cb39b98}{Vec3::sReplicate}}(inCollideShapeSettings.\mbox{\hyperlink{classCollideShapeSettings_a511c99470c2fe3b2e82d06ffe26c52c1}{mMaxSeparationDistance}}));}
\DoxyCodeLine{00371\ \ \ \ \ \}}
\DoxyCodeLine{00372\ }
\DoxyCodeLine{00374\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollideShapeVsCompoundVisitor_a017c33d9b6a4dee82d757dc499999c01}{ShouldAbort}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00375\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mCollector.\mbox{\hyperlink{classCollisionCollector_a45cb1cfbb5ec957d3c66b65d2333d825}{ShouldEarlyOut}}();}
\DoxyCodeLine{00377\ \ \ \ \ \}}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00380\ \ \ \ \ JPH\_INLINE\ \mbox{\hyperlink{classUVec4}{UVec4}}\ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollideShapeVsCompoundVisitor_a7ee379618c3c642c3b84b1bdb6be6bb1}{TestBounds}}(\mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxZ)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00381\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Scale\ the\ bounding\ boxes}}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ bounds\_min\_x,\ bounds\_min\_y,\ bounds\_min\_z,\ bounds\_max\_x,\ bounds\_max\_y,\ bounds\_max\_z;}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ AABox4Scale(mScale2,\ inBoundsMinX,\ inBoundsMinY,\ inBoundsMinZ,\ inBoundsMaxX,\ inBoundsMaxY,\ inBoundsMaxZ,\ bounds\_min\_x,\ bounds\_min\_y,\ bounds\_min\_z,\ bounds\_max\_x,\ bounds\_max\_y,\ bounds\_max\_z);}
\DoxyCodeLine{00385\ }
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Test\ which\ bounding\ boxes\ collide}}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ AABox4VsBox(mBoundsOf1InSpaceOf2,\ bounds\_min\_x,\ bounds\_min\_y,\ bounds\_min\_z,\ bounds\_max\_x,\ bounds\_max\_y,\ bounds\_max\_z);}
\DoxyCodeLine{00388\ \ \ \ \ \}}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00391\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{void}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1CollideShapeVsCompoundVisitor_ac29444555250eaf5cafdf944efadde2f}{VisitShape}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structCompoundShape_1_1SubShape}{SubShape}}\ \&inSubShape,\ uint32\ inSubShapeIndex)}
\DoxyCodeLine{00392\ \ \ \ \ \{}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ ID\ for\ sub\ shape}}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ shape2\_sub\_shape\_id\ =\ mSubShapeIDCreator2.\mbox{\hyperlink{classSubShapeIDCreator_a29997885833b2c9625bcbcba4548273d}{PushID}}(inSubShapeIndex,\ mSubShapeBits);}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ world\ transform\ of\ 2}}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ transform2\ =\ mTransform2\ *\ inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_a18ba22cc1d5ad095bce61a7fcfcbcc25}{GetLocalTransformNoScale}}(mScale2);}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionDispatch_a29634d08db5d24ce7c0d5c44b547c075}{CollisionDispatch::sCollideShapeVsShape}}(mShape1,\ inSubShape.mShape,\ mScale1,\ inSubShape.\mbox{\hyperlink{structCompoundShape_1_1SubShape_a92de7326e077355d680f2d6ce860d7fc}{TransformScale}}(mScale2),\ mTransform1,\ transform2,\ mSubShapeIDCreator1,\ shape2\_sub\_shape\_id,\ mCollideShapeSettings,\ mCollector,\ mShapeFilter);}
\DoxyCodeLine{00400\ \ \ \ \ \}}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00402\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classCollideShapeSettings}{CollideShapeSettings}}\ \&\ \ \ \ mCollideShapeSettings;}
\DoxyCodeLine{00403\ \ \ \ \ \mbox{\hyperlink{classCollisionCollector}{CollideShapeCollector}}\ \&\ \ \ \ \ \ \ \ \ \ \ \ mCollector;}
\DoxyCodeLine{00404\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShape}{Shape}}\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mShape1;}
\DoxyCodeLine{00405\ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mScale1;}
\DoxyCodeLine{00406\ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mScale2;}
\DoxyCodeLine{00407\ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mTransform1;}
\DoxyCodeLine{00408\ \ \ \ \ \mbox{\hyperlink{classMat44}{Mat44}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mTransform2;}
\DoxyCodeLine{00409\ \ \ \ \ \mbox{\hyperlink{classAABox}{AABox}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mBoundsOf1InSpaceOf2;}
\DoxyCodeLine{00410\ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ mSubShapeIDCreator1;}
\DoxyCodeLine{00411\ \ \ \ \ \mbox{\hyperlink{classSubShapeIDCreator}{SubShapeIDCreator}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ mSubShapeIDCreator2;}
\DoxyCodeLine{00412\ \ \ \ \ uint\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mSubShapeBits;}
\DoxyCodeLine{00413\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classShapeFilter}{ShapeFilter}}\ \&\ \ \ \ \ \ \ \ \ \ \ \ \ \ mShapeFilter;}
\DoxyCodeLine{00414\ \};}
\DoxyCodeLine{00415\ }
\DoxyCodeLine{00416\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ BoxType>}
\DoxyCodeLine{00417\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structCompoundShape_1_1GetIntersectingSubShapesVisitor}{CompoundShape::GetIntersectingSubShapesVisitor}}}
\DoxyCodeLine{00418\ \{}
\DoxyCodeLine{00419\ \ \ \ \ JPH\_INLINE\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1GetIntersectingSubShapesVisitor}{GetIntersectingSubShapesVisitor}}(\textcolor{keyword}{const}\ BoxType\ \&inBox,\ uint\ *outSubShapeIndices,\ \textcolor{keywordtype}{int}\ inMaxSubShapeIndices)\ :}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ mBox(inBox),}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ mSubShapeIndices(outSubShapeIndices),}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ mMaxSubShapeIndices(inMaxSubShapeIndices)}
\DoxyCodeLine{00423\ \ \ \ \ \{}
\DoxyCodeLine{00424\ \ \ \ \ \}}
\DoxyCodeLine{00425\ }
\DoxyCodeLine{00427\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1GetIntersectingSubShapesVisitor_a0747547a9895a7dc598391e602ae67e6}{ShouldAbort}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00428\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mNumResults\ >=\ mMaxSubShapeIndices;}
\DoxyCodeLine{00430\ \ \ \ \ \}}
\DoxyCodeLine{00431\ }
\DoxyCodeLine{00433\ \ \ \ \ JPH\_INLINE\ \mbox{\hyperlink{classUVec4}{UVec4}}\ \ \ \mbox{\hyperlink{structCompoundShape_1_1GetIntersectingSubShapesVisitor_a0271b87f4c7610b317b82a77d7d255c6}{TestBounds}}(\mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoundsMaxZ)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00434\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Test\ which\ bounding\ boxes\ collide}}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ AABox4VsBox(mBox,\ inBoundsMinX,\ inBoundsMinY,\ inBoundsMinZ,\ inBoundsMaxX,\ inBoundsMaxY,\ inBoundsMaxZ);}
\DoxyCodeLine{00437\ \ \ \ \ \}}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00440\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{void}\ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1GetIntersectingSubShapesVisitor_a611d2a998517551ba3d1ad3355033135}{VisitShape}}([[maybe\_unused]]\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structCompoundShape_1_1SubShape}{SubShape}}\ \&inSubShape,\ uint32\ inSubShapeIndex)}
\DoxyCodeLine{00441\ \ \ \ \ \{}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ JPH\_ASSERT(mNumResults\ <\ mMaxSubShapeIndices);}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ *mSubShapeIndices++\ =\ inSubShapeIndex;}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ mNumResults++;}
\DoxyCodeLine{00445\ \ \ \ \ \}}
\DoxyCodeLine{00446\ }
\DoxyCodeLine{00448\ \ \ \ \ JPH\_INLINE\ \textcolor{keywordtype}{int}\ \ \ \ \ \ \mbox{\hyperlink{structCompoundShape_1_1GetIntersectingSubShapesVisitor_a61d8a2add21106dc7b21b46cab11bc93}{GetNumResults}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00449\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mNumResults;}
\DoxyCodeLine{00451\ \ \ \ \ \}}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00453\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00454\ \ \ \ \ BoxType\ \ \ \ \ \ \ \ \ \ \ \ \ mBox;}
\DoxyCodeLine{00455\ \ \ \ \ uint\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ mSubShapeIndices;}
\DoxyCodeLine{00456\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mMaxSubShapeIndices;}
\DoxyCodeLine{00457\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mNumResults\ =\ 0;}
\DoxyCodeLine{00458\ \};}
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00460\ JPH\_NAMESPACE\_END}

\end{DoxyCode}
