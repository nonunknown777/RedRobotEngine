\doxysection{Independent\+Axis\+Constraint\+Part Class Reference}
\hypertarget{classIndependentAxisConstraintPart}{}\label{classIndependentAxisConstraintPart}\index{IndependentAxisConstraintPart@{IndependentAxisConstraintPart}}


{\ttfamily \#include $<$Independent\+Axis\+Constraint\+Part.\+h$>$}



Collaboration diagram for Independent\+Axis\+Constraint\+Part\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{d7/d5f/classIndependentAxisConstraintPart__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classIndependentAxisConstraintPart_a0b42c35e39bcfe122954e5a2052dfafd}{Calculate\+Constraint\+Properties}} (const \mbox{\hyperlink{classBody}{Body}} \&in\+Body1, const \mbox{\hyperlink{classBody}{Body}} \&in\+Body2, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+R1, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N1, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+R2, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N2, float in\+Ratio)
\item 
\Hypertarget{classIndependentAxisConstraintPart_a75a0e94426831c24d9a05022788a33a0}\label{classIndependentAxisConstraintPart_a75a0e94426831c24d9a05022788a33a0} 
void {\bfseries Deactivate} ()
\begin{DoxyCompactList}\small\item\em Deactivate this constraint. \end{DoxyCompactList}\item 
\Hypertarget{classIndependentAxisConstraintPart_a564752c8c4a381de55000c66debc8b0f}\label{classIndependentAxisConstraintPart_a564752c8c4a381de55000c66debc8b0f} 
bool {\bfseries Is\+Active} () const
\begin{DoxyCompactList}\small\item\em Check if constraint is active. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classIndependentAxisConstraintPart_a6ec13ff5361ad148d405ee79bbaedc6c}{Warm\+Start}} (\mbox{\hyperlink{classBody}{Body}} \&io\+Body1, \mbox{\hyperlink{classBody}{Body}} \&io\+Body2, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N1, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N2, float in\+Ratio, float in\+Warm\+Start\+Impulse\+Ratio)
\item 
bool \mbox{\hyperlink{classIndependentAxisConstraintPart_a715a99f78d1e0f0cb03752d4279b4d05}{Solve\+Velocity\+Constraint}} (\mbox{\hyperlink{classBody}{Body}} \&io\+Body1, \mbox{\hyperlink{classBody}{Body}} \&io\+Body2, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N1, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N2, float in\+Ratio, float in\+Min\+Lambda, float in\+Max\+Lambda)
\item 
\Hypertarget{classIndependentAxisConstraintPart_a14a6dfff54b12cacff9f4794c5fa4fa8}\label{classIndependentAxisConstraintPart_a14a6dfff54b12cacff9f4794c5fa4fa8} 
float {\bfseries Get\+Total\+Lambda} () const
\begin{DoxyCompactList}\small\item\em Return lagrange multiplier. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classIndependentAxisConstraintPart_a75f7e8a6d760c806d8aadc911965ecce}{Solve\+Position\+Constraint}} (\mbox{\hyperlink{classBody}{Body}} \&io\+Body1, \mbox{\hyperlink{classBody}{Body}} \&io\+Body2, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N1, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N2, float in\+Ratio, float inC, float in\+Baumgarte) const
\item 
\Hypertarget{classIndependentAxisConstraintPart_a8982c9bb0de919245c5a463880877a32}\label{classIndependentAxisConstraintPart_a8982c9bb0de919245c5a463880877a32} 
void {\bfseries Save\+State} (\mbox{\hyperlink{classStateRecorder}{State\+Recorder}} \&in\+Stream) const
\begin{DoxyCompactList}\small\item\em Save state of this constraint part. \end{DoxyCompactList}\item 
\Hypertarget{classIndependentAxisConstraintPart_a1b5d7adfe5abea0da836a725b91d4f85}\label{classIndependentAxisConstraintPart_a1b5d7adfe5abea0da836a725b91d4f85} 
void {\bfseries Restore\+State} (\mbox{\hyperlink{classStateRecorder}{State\+Recorder}} \&in\+Stream)
\begin{DoxyCompactList}\small\item\em Restore state of this constraint part. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{classConstraint}{Constraint} part to an \doxylink{classAxisConstraintPart}{Axis\+Constraint\+Part} but both bodies have an independent axis on which the force is applied.

\doxylink{classConstraint}{Constraint} equation\+:

\[C = (x_1 + r_1 - f_1) . n_1 + r (x_2 + r_2 - f_2) \cdot n_2\]

Calculating the Jacobian\+:

\[dC/dt = (v_1 + w_1 \times r_1) \cdot n_1 + (x_1 + r_1 - f_1) \cdot d n_1/dt + r (v_2 + w_2 \times r_2) \cdot n_2 + r (x_2 + r_2 - f_2) \cdot d n_2/dt\]

Assuming that d n1/dt and d n2/dt are small this becomes\+:

\[(v_1 + w_1 \times r_1) \cdot n_1 + r (v_2 + w_2 \times r_2) \cdot n_2\] \[= v_1 \cdot n_1 + r_1 \times n_1 \cdot w_1 + r v_2 \cdot n_2 + r r_2 \times n_2 \cdot w_2\]

Jacobian\+:

\[J = \begin{bmatrix}n_1 & r_1 \times n_1 & r n_2 & r r_2 \times n_2\end{bmatrix}\]

Effective mass\+:

\[K = m_1^{-1} + r_1 \times n_1 I_1^{-1} r_1 \times n_1 + r^2 m_2^{-1} + r^2 r_2 \times n_2 I_2^{-1} r_2 \times n_2\]

Used terms (here and below, everything in world space)\+:~\newline
n1 = (x1 + r1 -\/ f1) / \texorpdfstring{$\vert$}{|}x1 + r1 -\/ f1\texorpdfstring{$\vert$}{|}, axis along which the force is applied for body 1~\newline
n2 = (x2 + r2 -\/ f2) / \texorpdfstring{$\vert$}{|}x2 + r2 -\/ f2\texorpdfstring{$\vert$}{|}, axis along which the force is applied for body 2~\newline
r = ratio how forces are applied between bodies.~\newline
x1, x2 = center of mass for the bodies.~\newline
v = \mbox{[}v1, w1, v2, w2\mbox{]}.~\newline
v1, v2 = linear velocity of body 1 and 2.~\newline
w1, w2 = angular velocity of body 1 and 2.~\newline
M = mass matrix, a diagonal matrix of the mass and inertia with diagonal \mbox{[}m1, I1, m2, I2\mbox{]}.~\newline
 $K^{-1} = \left( J M^{-1} J^T \right)^{-1}$ = effective mass.~\newline
b = velocity bias.~\newline
 $\beta$ = baumgarte constant. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classIndependentAxisConstraintPart_a0b42c35e39bcfe122954e5a2052dfafd}\label{classIndependentAxisConstraintPart_a0b42c35e39bcfe122954e5a2052dfafd} 
\index{IndependentAxisConstraintPart@{IndependentAxisConstraintPart}!CalculateConstraintProperties@{CalculateConstraintProperties}}
\index{CalculateConstraintProperties@{CalculateConstraintProperties}!IndependentAxisConstraintPart@{IndependentAxisConstraintPart}}
\doxysubsubsection{\texorpdfstring{CalculateConstraintProperties()}{CalculateConstraintProperties()}}
{\footnotesize\ttfamily void Independent\+Axis\+Constraint\+Part\+::\+Calculate\+Constraint\+Properties (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classBody}{Body}} \&}]{in\+Body1,  }\item[{const \mbox{\hyperlink{classBody}{Body}} \&}]{in\+Body2,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+R1,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N1,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+R2,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N2,  }\item[{float}]{in\+Ratio }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Calculate properties used during the functions below 
\begin{DoxyParams}{Parameters}
{\em in\+Body1} & The first body that this constraint is attached to \\
\hline
{\em in\+Body2} & The second body that this constraint is attached to \\
\hline
{\em in\+R1} & The position on which the constraint operates on body 1 relative to COM \\
\hline
{\em in\+N1} & The world space normal in which the constraint operates for body 1 \\
\hline
{\em in\+R2} & The position on which the constraint operates on body 1 relative to COM \\
\hline
{\em in\+N2} & The world space normal in which the constraint operates for body 2 \\
\hline
{\em in\+Ratio} & The ratio how forces are applied between bodies \\
\hline
\end{DoxyParams}
\Hypertarget{classIndependentAxisConstraintPart_a75f7e8a6d760c806d8aadc911965ecce}\label{classIndependentAxisConstraintPart_a75f7e8a6d760c806d8aadc911965ecce} 
\index{IndependentAxisConstraintPart@{IndependentAxisConstraintPart}!SolvePositionConstraint@{SolvePositionConstraint}}
\index{SolvePositionConstraint@{SolvePositionConstraint}!IndependentAxisConstraintPart@{IndependentAxisConstraintPart}}
\doxysubsubsection{\texorpdfstring{SolvePositionConstraint()}{SolvePositionConstraint()}}
{\footnotesize\ttfamily bool Independent\+Axis\+Constraint\+Part\+::\+Solve\+Position\+Constraint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body1,  }\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body2,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N1,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N2,  }\item[{float}]{in\+Ratio,  }\item[{float}]{inC,  }\item[{float}]{in\+Baumgarte }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Iteratively update the position constraint. Makes sure C(...) == 0. 
\begin{DoxyParams}{Parameters}
{\em io\+Body1} & The first body that this constraint is attached to \\
\hline
{\em io\+Body2} & The second body that this constraint is attached to \\
\hline
{\em in\+N1} & The world space normal in which the constraint operates for body 1 \\
\hline
{\em in\+N2} & The world space normal in which the constraint operates for body 2 \\
\hline
{\em in\+Ratio} & The ratio how forces are applied between bodies \\
\hline
{\em inC} & Value of the constraint equation (C) \\
\hline
{\em in\+Baumgarte} & Baumgarte constant (fraction of the error to correct) \\
\hline
\end{DoxyParams}
\Hypertarget{classIndependentAxisConstraintPart_a715a99f78d1e0f0cb03752d4279b4d05}\label{classIndependentAxisConstraintPart_a715a99f78d1e0f0cb03752d4279b4d05} 
\index{IndependentAxisConstraintPart@{IndependentAxisConstraintPart}!SolveVelocityConstraint@{SolveVelocityConstraint}}
\index{SolveVelocityConstraint@{SolveVelocityConstraint}!IndependentAxisConstraintPart@{IndependentAxisConstraintPart}}
\doxysubsubsection{\texorpdfstring{SolveVelocityConstraint()}{SolveVelocityConstraint()}}
{\footnotesize\ttfamily bool Independent\+Axis\+Constraint\+Part\+::\+Solve\+Velocity\+Constraint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body1,  }\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body2,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N1,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N2,  }\item[{float}]{in\+Ratio,  }\item[{float}]{in\+Min\+Lambda,  }\item[{float}]{in\+Max\+Lambda }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Iteratively update the velocity constraint. Makes sure d/dt C(...) = 0, where C is the constraint equation. 
\begin{DoxyParams}{Parameters}
{\em io\+Body1} & The first body that this constraint is attached to \\
\hline
{\em io\+Body2} & The second body that this constraint is attached to \\
\hline
{\em in\+N1} & The world space normal in which the constraint operates for body 1 \\
\hline
{\em in\+N2} & The world space normal in which the constraint operates for body 2 \\
\hline
{\em in\+Ratio} & The ratio how forces are applied between bodies \\
\hline
{\em in\+Min\+Lambda} & Minimum angular impulse to apply (N m s) \\
\hline
{\em in\+Max\+Lambda} & Maximum angular impulse to apply (N m s) \\
\hline
\end{DoxyParams}
\Hypertarget{classIndependentAxisConstraintPart_a6ec13ff5361ad148d405ee79bbaedc6c}\label{classIndependentAxisConstraintPart_a6ec13ff5361ad148d405ee79bbaedc6c} 
\index{IndependentAxisConstraintPart@{IndependentAxisConstraintPart}!WarmStart@{WarmStart}}
\index{WarmStart@{WarmStart}!IndependentAxisConstraintPart@{IndependentAxisConstraintPart}}
\doxysubsubsection{\texorpdfstring{WarmStart()}{WarmStart()}}
{\footnotesize\ttfamily void Independent\+Axis\+Constraint\+Part\+::\+Warm\+Start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body1,  }\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body2,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N1,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N2,  }\item[{float}]{in\+Ratio,  }\item[{float}]{in\+Warm\+Start\+Impulse\+Ratio }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Must be called from the Warm\+Start\+Velocity\+Constraint call to apply the previous frame\textquotesingle{}s impulses 
\begin{DoxyParams}{Parameters}
{\em io\+Body1} & The first body that this constraint is attached to \\
\hline
{\em io\+Body2} & The second body that this constraint is attached to \\
\hline
{\em in\+N1} & The world space normal in which the constraint operates for body 1 \\
\hline
{\em in\+N2} & The world space normal in which the constraint operates for body 2 \\
\hline
{\em in\+Ratio} & The ratio how forces are applied between bodies \\
\hline
{\em in\+Warm\+Start\+Impulse\+Ratio} & Ratio of new step to old time step (dt\+\_\+new / dt\+\_\+old) for scaling the lagrange multiplier of the previous frame \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
includes/jolt/\+Physics/\+Constraints/\+Constraint\+Part/Independent\+Axis\+Constraint\+Part.\+h\end{DoxyCompactItemize}
