\doxysection{Dual\+Axis\+Constraint\+Part Class Reference}
\hypertarget{classDualAxisConstraintPart}{}\label{classDualAxisConstraintPart}\index{DualAxisConstraintPart@{DualAxisConstraintPart}}


{\ttfamily \#include $<$Dual\+Axis\+Constraint\+Part.\+h$>$}



Collaboration diagram for Dual\+Axis\+Constraint\+Part\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{d6/d28/classDualAxisConstraintPart__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classDualAxisConstraintPart_a6eab2fd65edd7457de26d07cd77f4797}\label{classDualAxisConstraintPart_a6eab2fd65edd7457de26d07cd77f4797} 
using {\bfseries Vec2} = \mbox{\hyperlink{classVector}{Vector}}$<$ 2 $>$
\item 
\Hypertarget{classDualAxisConstraintPart_a435800bba261861cda7de7879cfb7259}\label{classDualAxisConstraintPart_a435800bba261861cda7de7879cfb7259} 
using {\bfseries Mat22} = \mbox{\hyperlink{classMatrix}{Matrix}}$<$ 2, 2 $>$
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classDualAxisConstraintPart_af13f5a570f5b9f26edf310cf4eab5f23}{Calculate\+Constraint\+Properties}} (const \mbox{\hyperlink{classBody}{Body}} \&in\+Body1, \mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Rotation1, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+R1\+PlusU, const \mbox{\hyperlink{classBody}{Body}} \&in\+Body2, \mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Rotation2, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+R2, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N1, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N2)
\item 
\Hypertarget{classDualAxisConstraintPart_ad42c35a8c5bd8b609c1a3910a71194f6}\label{classDualAxisConstraintPart_ad42c35a8c5bd8b609c1a3910a71194f6} 
void {\bfseries Deactivate} ()
\begin{DoxyCompactList}\small\item\em Deactivate this constraint. \end{DoxyCompactList}\item 
\Hypertarget{classDualAxisConstraintPart_abb7c86b1b65526e284e71c3b126a53e1}\label{classDualAxisConstraintPart_abb7c86b1b65526e284e71c3b126a53e1} 
bool {\bfseries Is\+Active} () const
\begin{DoxyCompactList}\small\item\em Check if constraint is active. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classDualAxisConstraintPart_a5eb24d0267626b638b94b33f09efa53b}{Warm\+Start}} (\mbox{\hyperlink{classBody}{Body}} \&io\+Body1, \mbox{\hyperlink{classBody}{Body}} \&io\+Body2, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N1, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N2, float in\+Warm\+Start\+Impulse\+Ratio)
\item 
bool \mbox{\hyperlink{classDualAxisConstraintPart_a05cd7b92a7bdf55e64e1e924fe941a29}{Solve\+Velocity\+Constraint}} (\mbox{\hyperlink{classBody}{Body}} \&io\+Body1, \mbox{\hyperlink{classBody}{Body}} \&io\+Body2, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N1, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N2)
\item 
bool \mbox{\hyperlink{classDualAxisConstraintPart_a61414f76e664b04fc7b99b4a96cfe032}{Solve\+Position\+Constraint}} (\mbox{\hyperlink{classBody}{Body}} \&io\+Body1, \mbox{\hyperlink{classBody}{Body}} \&io\+Body2, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} inU, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N1, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+N2, float in\+Baumgarte) const
\item 
\Hypertarget{classDualAxisConstraintPart_ab75b06acf448414fefc7001524167795}\label{classDualAxisConstraintPart_ab75b06acf448414fefc7001524167795} 
void {\bfseries Set\+Total\+Lambda} (const \mbox{\hyperlink{classVector}{Vec2}} \&in\+Lambda)
\begin{DoxyCompactList}\small\item\em Override total lagrange multiplier, can be used to set the initial value for warm starting. \end{DoxyCompactList}\item 
\Hypertarget{classDualAxisConstraintPart_a89e53a1884747a98a2b2e8647f219c2c}\label{classDualAxisConstraintPart_a89e53a1884747a98a2b2e8647f219c2c} 
const \mbox{\hyperlink{classVector}{Vec2}} \& {\bfseries Get\+Total\+Lambda} () const
\begin{DoxyCompactList}\small\item\em Return lagrange multiplier. \end{DoxyCompactList}\item 
\Hypertarget{classDualAxisConstraintPart_a88aa1c3d00a9b0bcdcbbb3fa964dd18f}\label{classDualAxisConstraintPart_a88aa1c3d00a9b0bcdcbbb3fa964dd18f} 
void {\bfseries Save\+State} (\mbox{\hyperlink{classStateRecorder}{State\+Recorder}} \&in\+Stream) const
\begin{DoxyCompactList}\small\item\em Save state of this constraint part. \end{DoxyCompactList}\item 
\Hypertarget{classDualAxisConstraintPart_a06562f096c62e631bb4e8571a731ffb0}\label{classDualAxisConstraintPart_a06562f096c62e631bb4e8571a731ffb0} 
void {\bfseries Restore\+State} (\mbox{\hyperlink{classStateRecorder}{State\+Recorder}} \&in\+Stream)
\begin{DoxyCompactList}\small\item\em Restore state of this constraint part. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Constrains movement on 2 axis

\begin{DoxySeeAlso}{See also}
"{}\+Constraints Derivation for Rigid Body Simulation in 3\+D"{} -\/ Daniel Chappuis, section 2.\+3.\+1
\end{DoxySeeAlso}
\doxylink{classConstraint}{Constraint} equation (eq 51)\+:

\[C = \begin{bmatrix} (p_2 - p_1) \cdot n_1 \\ (p_2 - p_1) \cdot n_2\end{bmatrix}\]

Jacobian (transposed) (eq 55)\+:

\[J^T = \begin{bmatrix}
-n_1                    & -n_2                  \\
-(r_1 + u) \times n_1   & -(r_1 + u) \times n_2 \\
n_1                     & n_2                   \\
r_2 \times n_1          & r_2 \times n_2
\end{bmatrix}\]

Used terms (here and below, everything in world space)\+:~\newline
n1, n2 = constraint axis (normalized).~\newline
p1, p2 = constraint points.~\newline
r1 = p1 -\/ x1.~\newline
r2 = p2 -\/ x2.~\newline
u = x2 + r2 -\/ x1 -\/ r1 = p2 -\/ p1.~\newline
x1, x2 = center of mass for the bodies.~\newline
v = \mbox{[}v1, w1, v2, w2\mbox{]}.~\newline
v1, v2 = linear velocity of body 1 and 2.~\newline
w1, w2 = angular velocity of body 1 and 2.~\newline
M = mass matrix, a diagonal matrix of the mass and inertia with diagonal \mbox{[}m1, I1, m2, I2\mbox{]}.~\newline
 $K^{-1} = \left( J M^{-1} J^T \right)^{-1}$ = effective mass.~\newline
b = velocity bias.~\newline
 $\beta$ = baumgarte constant. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classDualAxisConstraintPart_af13f5a570f5b9f26edf310cf4eab5f23}\label{classDualAxisConstraintPart_af13f5a570f5b9f26edf310cf4eab5f23} 
\index{DualAxisConstraintPart@{DualAxisConstraintPart}!CalculateConstraintProperties@{CalculateConstraintProperties}}
\index{CalculateConstraintProperties@{CalculateConstraintProperties}!DualAxisConstraintPart@{DualAxisConstraintPart}}
\doxysubsubsection{\texorpdfstring{CalculateConstraintProperties()}{CalculateConstraintProperties()}}
{\footnotesize\ttfamily void Dual\+Axis\+Constraint\+Part\+::\+Calculate\+Constraint\+Properties (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classBody}{Body}} \&}]{in\+Body1,  }\item[{\mbox{\hyperlink{classMat44}{Mat44\+Arg}}}]{in\+Rotation1,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+R1\+PlusU,  }\item[{const \mbox{\hyperlink{classBody}{Body}} \&}]{in\+Body2,  }\item[{\mbox{\hyperlink{classMat44}{Mat44\+Arg}}}]{in\+Rotation2,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+R2,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N1,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N2 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Calculate properties used during the functions below All input vectors are in world space \Hypertarget{classDualAxisConstraintPart_a61414f76e664b04fc7b99b4a96cfe032}\label{classDualAxisConstraintPart_a61414f76e664b04fc7b99b4a96cfe032} 
\index{DualAxisConstraintPart@{DualAxisConstraintPart}!SolvePositionConstraint@{SolvePositionConstraint}}
\index{SolvePositionConstraint@{SolvePositionConstraint}!DualAxisConstraintPart@{DualAxisConstraintPart}}
\doxysubsubsection{\texorpdfstring{SolvePositionConstraint()}{SolvePositionConstraint()}}
{\footnotesize\ttfamily bool Dual\+Axis\+Constraint\+Part\+::\+Solve\+Position\+Constraint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body1,  }\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body2,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{inU,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N1,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N2,  }\item[{float}]{in\+Baumgarte }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Iteratively update the position constraint. Makes sure C(...) = 0. All input vectors are in world space \Hypertarget{classDualAxisConstraintPart_a05cd7b92a7bdf55e64e1e924fe941a29}\label{classDualAxisConstraintPart_a05cd7b92a7bdf55e64e1e924fe941a29} 
\index{DualAxisConstraintPart@{DualAxisConstraintPart}!SolveVelocityConstraint@{SolveVelocityConstraint}}
\index{SolveVelocityConstraint@{SolveVelocityConstraint}!DualAxisConstraintPart@{DualAxisConstraintPart}}
\doxysubsubsection{\texorpdfstring{SolveVelocityConstraint()}{SolveVelocityConstraint()}}
{\footnotesize\ttfamily bool Dual\+Axis\+Constraint\+Part\+::\+Solve\+Velocity\+Constraint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body1,  }\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body2,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N1,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N2 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Iteratively update the velocity constraint. Makes sure d/dt C(...) = 0, where C is the constraint equation. All input vectors are in world space \Hypertarget{classDualAxisConstraintPart_a5eb24d0267626b638b94b33f09efa53b}\label{classDualAxisConstraintPart_a5eb24d0267626b638b94b33f09efa53b} 
\index{DualAxisConstraintPart@{DualAxisConstraintPart}!WarmStart@{WarmStart}}
\index{WarmStart@{WarmStart}!DualAxisConstraintPart@{DualAxisConstraintPart}}
\doxysubsubsection{\texorpdfstring{WarmStart()}{WarmStart()}}
{\footnotesize\ttfamily void Dual\+Axis\+Constraint\+Part\+::\+Warm\+Start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body1,  }\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body2,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N1,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+N2,  }\item[{float}]{in\+Warm\+Start\+Impulse\+Ratio }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Must be called from the Warm\+Start\+Velocity\+Constraint call to apply the previous frame\textquotesingle{}s impulses All input vectors are in world space 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
includes/jolt/\+Physics/\+Constraints/\+Constraint\+Part/Dual\+Axis\+Constraint\+Part.\+h\end{DoxyCompactItemize}
