\doxysection{Point\+Constraint\+Part Class Reference}
\hypertarget{classPointConstraintPart}{}\label{classPointConstraintPart}\index{PointConstraintPart@{PointConstraintPart}}


{\ttfamily \#include $<$Point\+Constraint\+Part.\+h$>$}



Collaboration diagram for Point\+Constraint\+Part\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{de/d81/classPointConstraintPart__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classPointConstraintPart_abd3afc9ccf62aea6e07029b35d718a75}{Calculate\+Constraint\+Properties}} (const \mbox{\hyperlink{classBody}{Body}} \&in\+Body1, \mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Rotation1, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+R1, const \mbox{\hyperlink{classBody}{Body}} \&in\+Body2, \mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Rotation2, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+R2)
\item 
\Hypertarget{classPointConstraintPart_a79eddd21eea247c5560ab8208a627019}\label{classPointConstraintPart_a79eddd21eea247c5560ab8208a627019} 
void {\bfseries Deactivate} ()
\begin{DoxyCompactList}\small\item\em Deactivate this constraint. \end{DoxyCompactList}\item 
\Hypertarget{classPointConstraintPart_a9b183e233b8fc258ab72f447499c5ad8}\label{classPointConstraintPart_a9b183e233b8fc258ab72f447499c5ad8} 
bool {\bfseries Is\+Active} () const
\begin{DoxyCompactList}\small\item\em Check if constraint is active. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classPointConstraintPart_a5d4d5fcf514dd0d2ea3b26e2071ee75e}{Warm\+Start}} (\mbox{\hyperlink{classBody}{Body}} \&io\+Body1, \mbox{\hyperlink{classBody}{Body}} \&io\+Body2, float in\+Warm\+Start\+Impulse\+Ratio)
\item 
bool \mbox{\hyperlink{classPointConstraintPart_a217800970665e456d24664aad0b860a6}{Solve\+Velocity\+Constraint}} (\mbox{\hyperlink{classBody}{Body}} \&io\+Body1, \mbox{\hyperlink{classBody}{Body}} \&io\+Body2)
\item 
bool \mbox{\hyperlink{classPointConstraintPart_a123b2fd3e83ea307dfd8a946f6b7a449}{Solve\+Position\+Constraint}} (\mbox{\hyperlink{classBody}{Body}} \&io\+Body1, \mbox{\hyperlink{classBody}{Body}} \&io\+Body2, float in\+Baumgarte) const
\item 
\Hypertarget{classPointConstraintPart_a268ba07c6a229a0b8d2c3504566c355d}\label{classPointConstraintPart_a268ba07c6a229a0b8d2c3504566c355d} 
\mbox{\hyperlink{classVec3}{Vec3}} {\bfseries Get\+Total\+Lambda} () const
\begin{DoxyCompactList}\small\item\em Return lagrange multiplier. \end{DoxyCompactList}\item 
\Hypertarget{classPointConstraintPart_ae6cd6fa33d18b3f7123a2a093a976257}\label{classPointConstraintPart_ae6cd6fa33d18b3f7123a2a093a976257} 
void {\bfseries Save\+State} (\mbox{\hyperlink{classStateRecorder}{State\+Recorder}} \&in\+Stream) const
\begin{DoxyCompactList}\small\item\em Save state of this constraint part. \end{DoxyCompactList}\item 
\Hypertarget{classPointConstraintPart_a019489117b367decab440da408e316b8}\label{classPointConstraintPart_a019489117b367decab440da408e316b8} 
void {\bfseries Restore\+State} (\mbox{\hyperlink{classStateRecorder}{State\+Recorder}} \&in\+Stream)
\begin{DoxyCompactList}\small\item\em Restore state of this constraint part. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Constrains movement along 3 axis

\begin{DoxySeeAlso}{See also}
"{}\+Constraints Derivation for Rigid Body Simulation in 3\+D"{} -\/ Daniel Chappuis, section 2.\+2.\+1
\end{DoxySeeAlso}
\doxylink{classConstraint}{Constraint} equation (eq 45)\+:

\[C = p_2 - p_1\]

Jacobian (transposed) (eq 47)\+:

\[J^T = \begin{bmatrix}-E & r1x & E & -r2x^T\end{bmatrix}
= \begin{bmatrix}-E^T \\ r1x^T \\ E^T \\ -r2x^T\end{bmatrix}
= \begin{bmatrix}-E \\ -r1x \\ E \\ r2x\end{bmatrix}\]

Used terms (here and below, everything in world space)\+:~\newline
p1, p2 = constraint points.~\newline
r1 = p1 -\/ x1.~\newline
r2 = p2 -\/ x2.~\newline
r1x = 3x3 matrix for which r1x v = r1 x v (cross product).~\newline
x1, x2 = center of mass for the bodies.~\newline
v = \mbox{[}v1, w1, v2, w2\mbox{]}.~\newline
v1, v2 = linear velocity of body 1 and 2.~\newline
w1, w2 = angular velocity of body 1 and 2.~\newline
M = mass matrix, a diagonal matrix of the mass and inertia with diagonal \mbox{[}m1, I1, m2, I2\mbox{]}.~\newline
 $K^{-1} = \left( J M^{-1} J^T \right)^{-1}$ = effective mass.~\newline
b = velocity bias.~\newline
 $\beta$ = baumgarte constant.~\newline
E = identity matrix. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classPointConstraintPart_abd3afc9ccf62aea6e07029b35d718a75}\label{classPointConstraintPart_abd3afc9ccf62aea6e07029b35d718a75} 
\index{PointConstraintPart@{PointConstraintPart}!CalculateConstraintProperties@{CalculateConstraintProperties}}
\index{CalculateConstraintProperties@{CalculateConstraintProperties}!PointConstraintPart@{PointConstraintPart}}
\doxysubsubsection{\texorpdfstring{CalculateConstraintProperties()}{CalculateConstraintProperties()}}
{\footnotesize\ttfamily void Point\+Constraint\+Part\+::\+Calculate\+Constraint\+Properties (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classBody}{Body}} \&}]{in\+Body1,  }\item[{\mbox{\hyperlink{classMat44}{Mat44\+Arg}}}]{in\+Rotation1,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+R1,  }\item[{const \mbox{\hyperlink{classBody}{Body}} \&}]{in\+Body2,  }\item[{\mbox{\hyperlink{classMat44}{Mat44\+Arg}}}]{in\+Rotation2,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+R2 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Calculate properties used during the functions below 
\begin{DoxyParams}{Parameters}
{\em in\+Body1} & The first body that this constraint is attached to \\
\hline
{\em in\+Body2} & The second body that this constraint is attached to \\
\hline
{\em in\+Rotation1} & The 3x3 rotation matrix for body 1 (translation part is ignored) \\
\hline
{\em in\+Rotation2} & The 3x3 rotation matrix for body 2 (translation part is ignored) \\
\hline
{\em in\+R1} & Local space vector from center of mass to constraint point for body 1 \\
\hline
{\em in\+R2} & Local space vector from center of mass to constraint point for body 2 \\
\hline
\end{DoxyParams}
\Hypertarget{classPointConstraintPart_a123b2fd3e83ea307dfd8a946f6b7a449}\label{classPointConstraintPart_a123b2fd3e83ea307dfd8a946f6b7a449} 
\index{PointConstraintPart@{PointConstraintPart}!SolvePositionConstraint@{SolvePositionConstraint}}
\index{SolvePositionConstraint@{SolvePositionConstraint}!PointConstraintPart@{PointConstraintPart}}
\doxysubsubsection{\texorpdfstring{SolvePositionConstraint()}{SolvePositionConstraint()}}
{\footnotesize\ttfamily bool Point\+Constraint\+Part\+::\+Solve\+Position\+Constraint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body1,  }\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body2,  }\item[{float}]{in\+Baumgarte }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Iteratively update the position constraint. Makes sure C(...) = 0. 
\begin{DoxyParams}{Parameters}
{\em io\+Body1} & The first body that this constraint is attached to \\
\hline
{\em io\+Body2} & The second body that this constraint is attached to \\
\hline
{\em in\+Baumgarte} & Baumgarte constant (fraction of the error to correct) \\
\hline
\end{DoxyParams}
\Hypertarget{classPointConstraintPart_a217800970665e456d24664aad0b860a6}\label{classPointConstraintPart_a217800970665e456d24664aad0b860a6} 
\index{PointConstraintPart@{PointConstraintPart}!SolveVelocityConstraint@{SolveVelocityConstraint}}
\index{SolveVelocityConstraint@{SolveVelocityConstraint}!PointConstraintPart@{PointConstraintPart}}
\doxysubsubsection{\texorpdfstring{SolveVelocityConstraint()}{SolveVelocityConstraint()}}
{\footnotesize\ttfamily bool Point\+Constraint\+Part\+::\+Solve\+Velocity\+Constraint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body1,  }\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body2 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Iteratively update the velocity constraint. Makes sure d/dt C(...) = 0, where C is the constraint equation. 
\begin{DoxyParams}{Parameters}
{\em io\+Body1} & The first body that this constraint is attached to \\
\hline
{\em io\+Body2} & The second body that this constraint is attached to \\
\hline
\end{DoxyParams}
\Hypertarget{classPointConstraintPart_a5d4d5fcf514dd0d2ea3b26e2071ee75e}\label{classPointConstraintPart_a5d4d5fcf514dd0d2ea3b26e2071ee75e} 
\index{PointConstraintPart@{PointConstraintPart}!WarmStart@{WarmStart}}
\index{WarmStart@{WarmStart}!PointConstraintPart@{PointConstraintPart}}
\doxysubsubsection{\texorpdfstring{WarmStart()}{WarmStart()}}
{\footnotesize\ttfamily void Point\+Constraint\+Part\+::\+Warm\+Start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body1,  }\item[{\mbox{\hyperlink{classBody}{Body}} \&}]{io\+Body2,  }\item[{float}]{in\+Warm\+Start\+Impulse\+Ratio }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Must be called from the Warm\+Start\+Velocity\+Constraint call to apply the previous frame\textquotesingle{}s impulses 
\begin{DoxyParams}{Parameters}
{\em io\+Body1} & The first body that this constraint is attached to \\
\hline
{\em io\+Body2} & The second body that this constraint is attached to \\
\hline
{\em in\+Warm\+Start\+Impulse\+Ratio} & Ratio of new step to old time step (dt\+\_\+new / dt\+\_\+old) for scaling the lagrange multiplier of the previous frame \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
includes/jolt/\+Physics/\+Constraints/\+Constraint\+Part/Point\+Constraint\+Part.\+h\end{DoxyCompactItemize}
