\doxysection{Decorated\+Shape Class Reference}
\hypertarget{classDecoratedShape}{}\label{classDecoratedShape}\index{DecoratedShape@{DecoratedShape}}


Base class for shapes that decorate another shape with extra functionality (e.\+g. scale, translation etc.)  




{\ttfamily \#include $<$Decorated\+Shape.\+h$>$}



Inheritance diagram for Decorated\+Shape\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{de/d31/classDecoratedShape__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Decorated\+Shape\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d5/d9b/classDecoratedShape__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classDecoratedShape_a9619e07b18da28f6c4cb04bf931e4c15}\label{classDecoratedShape_a9619e07b18da28f6c4cb04bf931e4c15} 
JPH\+\_\+\+OVERRIDE\+\_\+\+NEW\+\_\+\+DELETE {\bfseries Decorated\+Shape} (EShape\+Sub\+Type in\+Sub\+Type)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\Hypertarget{classDecoratedShape_abacdd80b00fe8afc00c50db7eac53a28}\label{classDecoratedShape_abacdd80b00fe8afc00c50db7eac53a28} 
{\bfseries Decorated\+Shape} (EShape\+Sub\+Type in\+Sub\+Type, const \mbox{\hyperlink{classShape}{Shape}} \texorpdfstring{$\ast$}{*}in\+Inner\+Shape)
\item 
\Hypertarget{classDecoratedShape_a1c95daf857b7433b85e88da194e53147}\label{classDecoratedShape_a1c95daf857b7433b85e88da194e53147} 
{\bfseries Decorated\+Shape} (EShape\+Sub\+Type in\+Sub\+Type, const \mbox{\hyperlink{classDecoratedShapeSettings}{Decorated\+Shape\+Settings}} \&in\+Settings, \mbox{\hyperlink{classResult}{Shape\+Result}} \&out\+Result)
\item 
\Hypertarget{classDecoratedShape_a23b4182bc69407c3c9f6e33419a8cbed}\label{classDecoratedShape_a23b4182bc69407c3c9f6e33419a8cbed} 
const \mbox{\hyperlink{classShape}{Shape}} \texorpdfstring{$\ast$}{*} {\bfseries Get\+Inner\+Shape} () const
\begin{DoxyCompactList}\small\item\em Access to the decorated inner shape. \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{classDecoratedShape_ae68d25802b5bbe3e86cb3cb71698b78b}{Must\+Be\+Static}} () const override
\begin{DoxyCompactList}\small\item\em Check if this shape can only be used to create a static body or if it can also be dynamic/kinematic. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classVec3}{Vec3}} \mbox{\hyperlink{classDecoratedShape_aa17a9fb29ce78eafc01cc8140d754dd6}{Get\+Center\+Of\+Mass}} () const override
\begin{DoxyCompactList}\small\item\em All shapes are centered around their center of mass. This function returns the center of mass position that needs to be applied to transform the shape to where it was created. \end{DoxyCompactList}\item 
virtual uint \mbox{\hyperlink{classDecoratedShape_a0369b0f4e52b29f3625022bfd98a6924}{Get\+Sub\+Shape\+IDBits\+Recursive}} () const override
\begin{DoxyCompactList}\small\item\em Get the max number of sub shape ID bits that are needed to be able to address any leaf shape in this shape. Used mainly for checking that it is smaller or equal than \doxylink{classSubShapeID_a74d6785fe41b99c0d783fb6e66c39f4d}{Sub\+Shape\+ID\+::\+Max\+Bits}. \end{DoxyCompactList}\item 
virtual const \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classDecoratedShape_a97f8a35cfcd4cbd10b38496e120927e3}{Get\+Material}} (const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&in\+Sub\+Shape\+ID) const override
\begin{DoxyCompactList}\small\item\em Get the material assigned to a particular sub shape ID. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classDecoratedShape_a9d0a86dfa09850e01080bd9a53266682}{Get\+Supporting\+Face}} (const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&in\+Sub\+Shape\+ID, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Direction, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale, \mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classShape_a95d3060318d33c1ef314c5b856a70cb8}{Supporting\+Face}} \&out\+Vertices) const override
\item 
virtual uint64 \mbox{\hyperlink{classDecoratedShape_a629d49dce1a2aeeea9d1bf3c22a4e7d6}{Get\+Sub\+Shape\+User\+Data}} (const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&in\+Sub\+Shape\+ID) const override
\begin{DoxyCompactList}\small\item\em Get the user data of a particular sub shape ID. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classDecoratedShape_aac5abd00667b3f3e769a565a6833f442}{Save\+Sub\+Shape\+State}} (Shape\+List \&out\+Sub\+Shapes) const override
\begin{DoxyCompactList}\small\item\em Outputs the shape references that this shape has to out\+Sub\+Shapes. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classDecoratedShape_a74637476937867e42c8113cdad9e6768}{Restore\+Sub\+Shape\+State}} (const \mbox{\hyperlink{classRefConst}{Shape\+RefC}} \texorpdfstring{$\ast$}{*}in\+Sub\+Shapes, uint in\+Num\+Shapes) override
\begin{DoxyCompactList}\small\item\em Restore the shape references after calling s\+Restore\+From\+Binary\+State. Note that the exact same shapes need to be provided in the same order as returned by Save\+Sub\+Shape\+State. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{structShape_1_1Stats}{Stats}} \mbox{\hyperlink{classDecoratedShape_a07df7fa95d30497b42009ab41cfcb095}{Get\+Stats\+Recursive}} (Visited\+Shapes \&io\+Visited\+Shapes) const override
\begin{DoxyCompactList}\small\item\em Volume of this shape (m\texorpdfstring{$^\wedge$}{\string^}3). Note that for compound shapes the volume may be incorrect since child shapes can overlap which is not accounted for. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classShape}{Shape}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Shape} (EShape\+Type in\+Type, EShape\+Sub\+Type in\+Sub\+Type)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
{\bfseries Shape} (EShape\+Type in\+Type, EShape\+Sub\+Type in\+Sub\+Type, const \mbox{\hyperlink{classShapeSettings}{Shape\+Settings}} \&in\+Settings, \mbox{\hyperlink{classResult}{Shape\+Result}} \&out\+Result)
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+Shape} ()=default
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
EShape\+Type {\bfseries Get\+Type} () const
\begin{DoxyCompactList}\small\item\em Get type. \end{DoxyCompactList}\item 
EShape\+Sub\+Type {\bfseries Get\+Sub\+Type} () const
\item 
uint64 {\bfseries Get\+User\+Data} () const
\begin{DoxyCompactList}\small\item\em User data (to be used freely by the application) \end{DoxyCompactList}\item 
void {\bfseries Set\+User\+Data} (uint64 in\+User\+Data)
\item 
virtual \mbox{\hyperlink{classAABox}{AABox}} \mbox{\hyperlink{classShape_a30ea165596e01df087f6e4980ed6b0cb}{Get\+Local\+Bounds}} () const =0
\begin{DoxyCompactList}\small\item\em Get local bounding box including convex radius, this box is centered around the center of mass rather than the world transform. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classAABox}{AABox}} \mbox{\hyperlink{classShape_a9f8379fa338802436700b86a07fab3be}{Get\+World\+Space\+Bounds}} (\mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale) const
\item 
\mbox{\hyperlink{classAABox}{AABox}} {\bfseries Get\+World\+Space\+Bounds} (\mbox{\hyperlink{classDMat44}{DMat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale) const
\begin{DoxyCompactList}\small\item\em Get world space bounds including convex radius. \end{DoxyCompactList}\item 
virtual float \mbox{\hyperlink{classShape_a249fa4e0fc7fdd25071be9f45db6a25a}{Get\+Inner\+Radius}} () const =0
\item 
virtual \mbox{\hyperlink{classMassProperties}{Mass\+Properties}} \mbox{\hyperlink{classShape_a00d0953c120d9e175960c9e6629f108f}{Get\+Mass\+Properties}} () const =0
\begin{DoxyCompactList}\small\item\em Calculate the mass and inertia of this shape. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classVec3}{Vec3}} \mbox{\hyperlink{classShape_adc7c6aeed1cde2ae1be099a4a5a4bd0c}{Get\+Surface\+Normal}} (const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&in\+Sub\+Shape\+ID, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Local\+Surface\+Position) const =0
\item 
virtual \mbox{\hyperlink{classTransformedShape}{Transformed\+Shape}} \mbox{\hyperlink{classShape_a80ec65fef5853ea01cad86e528bdca5d}{Get\+Sub\+Shape\+Transformed\+Shape}} (const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&in\+Sub\+Shape\+ID, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Position\+COM, \mbox{\hyperlink{classQuat}{Quat\+Arg}} in\+Rotation, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale, \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&out\+Remainder) const
\item 
virtual void \mbox{\hyperlink{classShape_ab3ab834243d410f4074036264928f0ff}{Get\+Submerged\+Volume}} (\mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale, const \mbox{\hyperlink{classPlane}{Plane}} \&in\+Surface, float \&out\+Total\+Volume, float \&out\+Submerged\+Volume, \mbox{\hyperlink{classVec3}{Vec3}} \&out\+Center\+Of\+Buoyancy) const =0
\item 
virtual bool \mbox{\hyperlink{classShape_a955ec1953bc94c6c910dc4dc16114732}{Cast\+Ray}} (const \mbox{\hyperlink{structRayCast}{Ray\+Cast}} \&in\+Ray, const \mbox{\hyperlink{classSubShapeIDCreator}{Sub\+Shape\+IDCreator}} \&in\+Sub\+Shape\+IDCreator, \mbox{\hyperlink{classRayCastResult}{Ray\+Cast\+Result}} \&io\+Hit) const =0
\item 
virtual void \mbox{\hyperlink{classShape_a54b33219a3685aa4b964f6b69a2cfa7d}{Cast\+Ray}} (const \mbox{\hyperlink{structRayCast}{Ray\+Cast}} \&in\+Ray, const \mbox{\hyperlink{classRayCastSettings}{Ray\+Cast\+Settings}} \&in\+Ray\+Cast\+Settings, const \mbox{\hyperlink{classSubShapeIDCreator}{Sub\+Shape\+IDCreator}} \&in\+Sub\+Shape\+IDCreator, \mbox{\hyperlink{classCollisionCollector}{Cast\+Ray\+Collector}} \&io\+Collector, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter=\{ \}) const =0
\item 
virtual void \mbox{\hyperlink{classShape_af6e77d16736434769d72152bf059a126}{Collide\+Point}} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Point, const \mbox{\hyperlink{classSubShapeIDCreator}{Sub\+Shape\+IDCreator}} \&in\+Sub\+Shape\+IDCreator, \mbox{\hyperlink{classCollisionCollector}{Collide\+Point\+Collector}} \&io\+Collector, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter=\{ \}) const =0
\item 
virtual void \mbox{\hyperlink{classShape_ac351f347171376cd988ec415748a78ff}{Collide\+Soft\+Body\+Vertices}} (\mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale, \mbox{\hyperlink{classSoftBodyVertex}{Soft\+Body\+Vertex}} \texorpdfstring{$\ast$}{*}io\+Vertices, uint in\+Num\+Vertices, float in\+Delta\+Time, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Displacement\+Due\+To\+Gravity, int in\+Colliding\+Shape\+Index) const =0
\item 
virtual void \mbox{\hyperlink{classShape_a878715858fc2494068183d9eb82d16b0}{Collect\+Transformed\+Shapes}} (const \mbox{\hyperlink{classAABox}{AABox}} \&in\+Box, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Position\+COM, \mbox{\hyperlink{classQuat}{Quat\+Arg}} in\+Rotation, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale, const \mbox{\hyperlink{classSubShapeIDCreator}{Sub\+Shape\+IDCreator}} \&in\+Sub\+Shape\+IDCreator, \mbox{\hyperlink{classCollisionCollector}{Transformed\+Shape\+Collector}} \&io\+Collector, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter) const
\item 
virtual void \mbox{\hyperlink{classShape_afad198eea6c3e9e08a5e8f8d646817a0}{Transform\+Shape}} (\mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classCollisionCollector}{Transformed\+Shape\+Collector}} \&io\+Collector) const
\item 
\mbox{\hyperlink{classResult}{Shape\+Result}} \mbox{\hyperlink{classShape_aca293aaf9bb3c999ad09687e11bfd70f}{Scale\+Shape}} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale) const
\item 
virtual void \mbox{\hyperlink{classShape_a703f5419cf3f3cb216cbe0433ce1a625}{Get\+Triangles\+Start}} (\mbox{\hyperlink{structShape_1_1GetTrianglesContext}{Get\+Triangles\+Context}} \&io\+Context, const \mbox{\hyperlink{classAABox}{AABox}} \&in\+Box, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Position\+COM, \mbox{\hyperlink{classQuat}{Quat\+Arg}} in\+Rotation, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale) const =0
\item 
virtual int \mbox{\hyperlink{classShape_a4b6ba637f676d38c24bdb5da9a2f345f}{Get\+Triangles\+Next}} (\mbox{\hyperlink{structShape_1_1GetTrianglesContext}{Get\+Triangles\+Context}} \&io\+Context, int in\+Max\+Triangles\+Requested, \mbox{\hyperlink{classFloat3}{Float3}} \texorpdfstring{$\ast$}{*}out\+Triangle\+Vertices, const \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}out\+Materials=nullptr) const =0
\item 
virtual \mbox{\hyperlink{structShape_1_1Stats}{Stats}} \mbox{\hyperlink{classShape_a87ae161e649ab6af75a60fe130dd195b}{Get\+Stats}} () const =0
\begin{DoxyCompactList}\small\item\em Get stats of this shape. Use for logging / data collection purposes only. Does not add values from child shapes, use Get\+Stats\+Recursive for this. \end{DoxyCompactList}\item 
virtual float {\bfseries Get\+Volume} () const =0
\item 
virtual bool \mbox{\hyperlink{classShape_a705685386feede5b6e0473ee00f5cdc1}{Is\+Valid\+Scale}} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classShape_aa77d38652e25d56dc473e19e9cc2f8ad}{Save\+Binary\+State}} (\mbox{\hyperlink{classStreamOut}{Stream\+Out}} \&in\+Stream) const
\begin{DoxyCompactList}\small\item\em Saves the contents of the shape in binary form to in\+Stream. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual void {\bfseries Save\+Material\+State} (Physics\+Material\+List \&out\+Materials) const
\begin{DoxyCompactList}\small\item\em Outputs the material references that this shape has to out\+Materials. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classShape_a6e823e7198f22ec824cacf9998d9904c}{Restore\+Material\+State}} (const \mbox{\hyperlink{classRefConst}{Physics\+Material\+RefC}} \texorpdfstring{$\ast$}{*}in\+Materials, uint in\+Num\+Materials)
\begin{DoxyCompactList}\small\item\em Restore the material references after calling s\+Restore\+From\+Binary\+State. Note that the exact same materials need to be provided in the same order as returned by Save\+Material\+State. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
void {\bfseries Save\+With\+Children} (\mbox{\hyperlink{classStreamOut}{Stream\+Out}} \&in\+Stream, Shape\+To\+IDMap \&io\+Shape\+Map, Material\+To\+IDMap \&io\+Material\+Map) const
\begin{DoxyCompactList}\small\item\em Save this shape, all its children and its materials. Pass in an empty map in io\+Shape\+Map / io\+Material\+Map or reuse the same map while saving multiple shapes to the same stream in order to avoid writing duplicates. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classRefTarget}{Ref\+Target$<$ Shape $>$}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Ref\+Target} ()=default
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
{\bfseries Ref\+Target} (const \mbox{\hyperlink{classRefTarget}{Ref\+Target}} \&)
\item 
{\bfseries \texorpdfstring{$\sim$}{\string~}\+Ref\+Target} ()
\begin{DoxyCompactList}\small\item\em assert no one is referencing us \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classRefTarget_a3befa746ea517453572f6f4f5fc3b099}{Set\+Embedded}} () const
\item 
\mbox{\hyperlink{classRefTarget}{Ref\+Target}} \& {\bfseries operator=} (const \mbox{\hyperlink{classRefTarget}{Ref\+Target}} \&)
\begin{DoxyCompactList}\small\item\em Assignment operator. \end{DoxyCompactList}\item 
uint32 {\bfseries Get\+Ref\+Count} () const
\begin{DoxyCompactList}\small\item\em Get current refcount of this object. \end{DoxyCompactList}\item 
void {\bfseries Add\+Ref} () const
\begin{DoxyCompactList}\small\item\em Add or release a reference to this object. \end{DoxyCompactList}\item 
void {\bfseries Release} () const
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classNonCopyable}{Non\+Copyable}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Non\+Copyable} (const \mbox{\hyperlink{classNonCopyable}{Non\+Copyable}} \&)=delete
\item 
void {\bfseries operator=} (const \mbox{\hyperlink{classNonCopyable}{Non\+Copyable}} \&)=delete
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classDecoratedShape_a776a5391c3d5f4a78f2e81934bc19110}\label{classDecoratedShape_a776a5391c3d5f4a78f2e81934bc19110} 
\mbox{\hyperlink{classRefConst}{Ref\+Const}}$<$ \mbox{\hyperlink{classShape}{Shape}} $>$ {\bfseries m\+Inner\+Shape}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classRefTarget}{Ref\+Target$<$ Shape $>$}}}
\begin{DoxyCompactItemize}
\item 
atomic$<$ uint32 $>$ {\bfseries m\+Ref\+Count}
\begin{DoxyCompactList}\small\item\em Current reference count. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{classShape}{Shape}}}
\begin{DoxyCompactItemize}
\item 
using {\bfseries Shape\+Result} = \mbox{\hyperlink{classResult}{Shape\+Settings\+::\+Shape\+Result}}
\item 
using {\bfseries Supporting\+Face} = \mbox{\hyperlink{classStaticArray}{Static\+Array}}$<$ \mbox{\hyperlink{classVec3}{Vec3}}, 32 $>$
\begin{DoxyCompactList}\small\item\em Type definition for a supporting face. \end{DoxyCompactList}\item 
using {\bfseries Visited\+Shapes} = Unordered\+Set$<$ const \mbox{\hyperlink{classShape}{Shape}} \texorpdfstring{$\ast$}{*} $>$
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
using {\bfseries Shape\+To\+IDMap} = Stream\+Utils\+::\+Object\+To\+IDMap$<$ \mbox{\hyperlink{classShape}{Shape}} $>$
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
using {\bfseries IDTo\+Shape\+Map} = Stream\+Utils\+::\+IDTo\+Object\+Map$<$ \mbox{\hyperlink{classShape}{Shape}} $>$
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
using {\bfseries Material\+To\+IDMap} = Stream\+Utils\+::\+Object\+To\+IDMap$<$ \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} $>$
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
using {\bfseries IDTo\+Material\+Map} = Stream\+Utils\+::\+IDTo\+Object\+Map$<$ \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} $>$
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions inherited from \mbox{\hyperlink{classShape}{Shape}}}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classResult}{Shape\+Result}} {\bfseries s\+Restore\+From\+Binary\+State} (\mbox{\hyperlink{classStreamIn}{Stream\+In}} \&in\+Stream)
\begin{DoxyCompactList}\small\item\em Creates a \doxylink{classShape}{Shape} of the correct type and restores its contents from the binary stream in\+Stream. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classResult}{Shape\+Result}} {\bfseries s\+Restore\+With\+Children} (\mbox{\hyperlink{classStreamIn}{Stream\+In}} \&in\+Stream, IDTo\+Shape\+Map \&io\+Shape\+Map, IDTo\+Material\+Map \&io\+Material\+Map)
\begin{DoxyCompactList}\small\item\em Restore a shape, all its children and materials. Pass in an empty map in io\+Shape\+Map / io\+Material\+Map or reuse the same map while reading multiple shapes from the same stream in order to restore duplicates. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions inherited from \mbox{\hyperlink{classRefTarget}{Ref\+Target$<$ Shape $>$}}}
\begin{DoxyCompactItemize}
\item 
static int {\bfseries s\+Internal\+Get\+Ref\+Count\+Offset} ()
\begin{DoxyCompactList}\small\item\em INTERNAL HELPER FUNCTION USED BY SERIALIZATION. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes inherited from \mbox{\hyperlink{classShape}{Shape}}}
\begin{DoxyCompactItemize}
\item 
static constexpr int {\bfseries c\+Get\+Triangles\+Min\+Triangles\+Requested} = 32
\begin{DoxyCompactList}\small\item\em This is the minimum amount of triangles that should be requested through Get\+Triangles\+Next. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classShape}{Shape}}}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classShape_ac5e363e4fab915e43c78bd43ea8a51e3}{Restore\+Binary\+State}} (\mbox{\hyperlink{classStreamIn}{Stream\+In}} \&in\+Stream)
\begin{DoxyCompactList}\small\item\em This function should not be called directly, it is used by s\+Restore\+From\+Binary\+State. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Protected Member Functions inherited from \mbox{\hyperlink{classShape}{Shape}}}
\begin{DoxyCompactItemize}
\item 
static void {\bfseries s\+Collide\+Point\+Using\+Ray\+Cast} (const \mbox{\hyperlink{classShape}{Shape}} \&in\+Shape, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Point, const \mbox{\hyperlink{classSubShapeIDCreator}{Sub\+Shape\+IDCreator}} \&in\+Sub\+Shape\+IDCreator, \mbox{\hyperlink{classCollisionCollector}{Collide\+Point\+Collector}} \&io\+Collector, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter)
\begin{DoxyCompactList}\small\item\em A fallback version of Collide\+Point that uses a ray cast and counts the number of hits to determine if the point is inside the shape. Odd number of hits means inside, even number of hits means outside. \end{DoxyCompactList}\item 
static void {\bfseries s\+Collide\+Soft\+Body\+Vertices\+Using\+Ray\+Cast} (const \mbox{\hyperlink{classShape}{Shape}} \&in\+Shape, \mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale, \mbox{\hyperlink{classSoftBodyVertex}{Soft\+Body\+Vertex}} \texorpdfstring{$\ast$}{*}io\+Vertices, uint in\+Num\+Vertices, float in\+Delta\+Time, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Displacement\+Due\+To\+Gravity, int in\+Colliding\+Shape\+Index)
\begin{DoxyCompactList}\small\item\em A fallback version of Collide\+Soft\+Body\+Vertices that uses a raycast to collide the vertices with the shape. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Protected Attributes inherited from \mbox{\hyperlink{classRefTarget}{Ref\+Target$<$ Shape $>$}}}
\begin{DoxyCompactItemize}
\item 
static constexpr uint32 {\bfseries c\+Embedded}
\begin{DoxyCompactList}\small\item\em A large value that gets added to the refcount to mark the object as embedded. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Base class for shapes that decorate another shape with extra functionality (e.\+g. scale, translation etc.) 

\doxysubsection{Member Function Documentation}
\Hypertarget{classDecoratedShape_aa17a9fb29ce78eafc01cc8140d754dd6}\label{classDecoratedShape_aa17a9fb29ce78eafc01cc8140d754dd6} 
\index{DecoratedShape@{DecoratedShape}!GetCenterOfMass@{GetCenterOfMass}}
\index{GetCenterOfMass@{GetCenterOfMass}!DecoratedShape@{DecoratedShape}}
\doxysubsubsection{\texorpdfstring{GetCenterOfMass()}{GetCenterOfMass()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{classVec3}{Vec3}} Decorated\+Shape\+::\+Get\+Center\+Of\+Mass (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



All shapes are centered around their center of mass. This function returns the center of mass position that needs to be applied to transform the shape to where it was created. 



Reimplemented from \mbox{\hyperlink{classShape_a7e34b0626a40c31db0b2a761922adb1a}{Shape}}.



Reimplemented in \mbox{\hyperlink{classOffsetCenterOfMassShape_a9479ac77a9f53c5664f85b7a93135d95}{Offset\+Center\+Of\+Mass\+Shape}}, \mbox{\hyperlink{classRotatedTranslatedShape_a7d7b6b0edc6dd89125cab13d77eb3585}{Rotated\+Translated\+Shape}}, and \mbox{\hyperlink{classScaledShape_af9e8b8bdbc341d1b0f0caa497505d0f7}{Scaled\+Shape}}.

\Hypertarget{classDecoratedShape_a97f8a35cfcd4cbd10b38496e120927e3}\label{classDecoratedShape_a97f8a35cfcd4cbd10b38496e120927e3} 
\index{DecoratedShape@{DecoratedShape}!GetMaterial@{GetMaterial}}
\index{GetMaterial@{GetMaterial}!DecoratedShape@{DecoratedShape}}
\doxysubsubsection{\texorpdfstring{GetMaterial()}{GetMaterial()}}
{\footnotesize\ttfamily virtual const \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} \texorpdfstring{$\ast$}{*} Decorated\+Shape\+::\+Get\+Material (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&}]{in\+Sub\+Shape\+ID }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Get the material assigned to a particular sub shape ID. 



Implements \mbox{\hyperlink{classShape_a7f92a050d292158b83ef016eb5d3f168}{Shape}}.

\Hypertarget{classDecoratedShape_a07df7fa95d30497b42009ab41cfcb095}\label{classDecoratedShape_a07df7fa95d30497b42009ab41cfcb095} 
\index{DecoratedShape@{DecoratedShape}!GetStatsRecursive@{GetStatsRecursive}}
\index{GetStatsRecursive@{GetStatsRecursive}!DecoratedShape@{DecoratedShape}}
\doxysubsubsection{\texorpdfstring{GetStatsRecursive()}{GetStatsRecursive()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{structShape_1_1Stats}{Stats}} Decorated\+Shape\+::\+Get\+Stats\+Recursive (\begin{DoxyParamCaption}\item[{Visited\+Shapes \&}]{io\+Visited\+Shapes }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Volume of this shape (m\texorpdfstring{$^\wedge$}{\string^}3). Note that for compound shapes the volume may be incorrect since child shapes can overlap which is not accounted for. 

Get the combined stats of this shape and its children. 
\begin{DoxyParams}{Parameters}
{\em io\+Visited\+Shapes} & is used to track which shapes have already been visited, to avoid calculating the wrong memory size. \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classShape_acd7b07e3fae19adc5836905a138552bc}{Shape}}.

\Hypertarget{classDecoratedShape_a0369b0f4e52b29f3625022bfd98a6924}\label{classDecoratedShape_a0369b0f4e52b29f3625022bfd98a6924} 
\index{DecoratedShape@{DecoratedShape}!GetSubShapeIDBitsRecursive@{GetSubShapeIDBitsRecursive}}
\index{GetSubShapeIDBitsRecursive@{GetSubShapeIDBitsRecursive}!DecoratedShape@{DecoratedShape}}
\doxysubsubsection{\texorpdfstring{GetSubShapeIDBitsRecursive()}{GetSubShapeIDBitsRecursive()}}
{\footnotesize\ttfamily virtual uint Decorated\+Shape\+::\+Get\+Sub\+Shape\+IDBits\+Recursive (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Get the max number of sub shape ID bits that are needed to be able to address any leaf shape in this shape. Used mainly for checking that it is smaller or equal than \doxylink{classSubShapeID_a74d6785fe41b99c0d783fb6e66c39f4d}{Sub\+Shape\+ID\+::\+Max\+Bits}. 



Implements \mbox{\hyperlink{classShape_aee463ecaa01e871524f5396871b5e8c6}{Shape}}.

\Hypertarget{classDecoratedShape_a629d49dce1a2aeeea9d1bf3c22a4e7d6}\label{classDecoratedShape_a629d49dce1a2aeeea9d1bf3c22a4e7d6} 
\index{DecoratedShape@{DecoratedShape}!GetSubShapeUserData@{GetSubShapeUserData}}
\index{GetSubShapeUserData@{GetSubShapeUserData}!DecoratedShape@{DecoratedShape}}
\doxysubsubsection{\texorpdfstring{GetSubShapeUserData()}{GetSubShapeUserData()}}
{\footnotesize\ttfamily virtual uint64 Decorated\+Shape\+::\+Get\+Sub\+Shape\+User\+Data (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&}]{in\+Sub\+Shape\+ID }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Get the user data of a particular sub shape ID. 



Reimplemented from \mbox{\hyperlink{classShape_a29de5bb2f770d7e521f0d939436faa1b}{Shape}}.

\Hypertarget{classDecoratedShape_a9d0a86dfa09850e01080bd9a53266682}\label{classDecoratedShape_a9d0a86dfa09850e01080bd9a53266682} 
\index{DecoratedShape@{DecoratedShape}!GetSupportingFace@{GetSupportingFace}}
\index{GetSupportingFace@{GetSupportingFace}!DecoratedShape@{DecoratedShape}}
\doxysubsubsection{\texorpdfstring{GetSupportingFace()}{GetSupportingFace()}}
{\footnotesize\ttfamily virtual void Decorated\+Shape\+::\+Get\+Supporting\+Face (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&}]{in\+Sub\+Shape\+ID,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Direction,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Scale,  }\item[{\mbox{\hyperlink{classMat44}{Mat44\+Arg}}}]{in\+Center\+Of\+Mass\+Transform,  }\item[{\mbox{\hyperlink{classShape_a95d3060318d33c1ef314c5b856a70cb8}{Supporting\+Face}} \&}]{out\+Vertices }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Get the vertices of the face that faces in\+Direction the most (includes any convex radius). Note that this function can only return faces of convex shapes or triangles, which is why a sub shape ID to get to that leaf must be provided. 
\begin{DoxyParams}{Parameters}
{\em in\+Sub\+Shape\+ID} & Sub shape ID of target shape \\
\hline
{\em in\+Direction} & Direction that the face should be facing (in local space to this shape) \\
\hline
{\em in\+Center\+Of\+Mass\+Transform} & \doxylink{structTransform}{Transform} to transform out\+Vertices with \\
\hline
{\em in\+Scale} & Scale of this shape \\
\hline
{\em out\+Vertices} & Resulting face. The returned face can be empty if the shape doesn\textquotesingle{}t have polygons to return (e.\+g. because it\textquotesingle{}s a sphere). The face will be returned in world space. \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classShape_a4f6591e1a1329278568bc99b035c9928}{Shape}}.



Reimplemented in \mbox{\hyperlink{classOffsetCenterOfMassShape_a4896f09ca18efab9d00f9dbcc5b48115}{Offset\+Center\+Of\+Mass\+Shape}}, \mbox{\hyperlink{classRotatedTranslatedShape_a2813accfa0f09184a6f506d19eaf3720}{Rotated\+Translated\+Shape}}, and \mbox{\hyperlink{classScaledShape_a9a0874b467df5418dba93f3860cc804f}{Scaled\+Shape}}.

\Hypertarget{classDecoratedShape_ae68d25802b5bbe3e86cb3cb71698b78b}\label{classDecoratedShape_ae68d25802b5bbe3e86cb3cb71698b78b} 
\index{DecoratedShape@{DecoratedShape}!MustBeStatic@{MustBeStatic}}
\index{MustBeStatic@{MustBeStatic}!DecoratedShape@{DecoratedShape}}
\doxysubsubsection{\texorpdfstring{MustBeStatic()}{MustBeStatic()}}
{\footnotesize\ttfamily virtual bool Decorated\+Shape\+::\+Must\+Be\+Static (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Check if this shape can only be used to create a static body or if it can also be dynamic/kinematic. 



Reimplemented from \mbox{\hyperlink{classShape_a6abbf113475435c0c694d3199e352c3a}{Shape}}.

\Hypertarget{classDecoratedShape_a74637476937867e42c8113cdad9e6768}\label{classDecoratedShape_a74637476937867e42c8113cdad9e6768} 
\index{DecoratedShape@{DecoratedShape}!RestoreSubShapeState@{RestoreSubShapeState}}
\index{RestoreSubShapeState@{RestoreSubShapeState}!DecoratedShape@{DecoratedShape}}
\doxysubsubsection{\texorpdfstring{RestoreSubShapeState()}{RestoreSubShapeState()}}
{\footnotesize\ttfamily virtual void Decorated\+Shape\+::\+Restore\+Sub\+Shape\+State (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classRefConst}{Shape\+RefC}} \texorpdfstring{$\ast$}{*}}]{in\+Sub\+Shapes,  }\item[{uint}]{in\+Num\+Shapes }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Restore the shape references after calling s\+Restore\+From\+Binary\+State. Note that the exact same shapes need to be provided in the same order as returned by Save\+Sub\+Shape\+State. 



Reimplemented from \mbox{\hyperlink{classShape_ab4de39f5e4972919f1211ec73520b1d8}{Shape}}.

\Hypertarget{classDecoratedShape_aac5abd00667b3f3e769a565a6833f442}\label{classDecoratedShape_aac5abd00667b3f3e769a565a6833f442} 
\index{DecoratedShape@{DecoratedShape}!SaveSubShapeState@{SaveSubShapeState}}
\index{SaveSubShapeState@{SaveSubShapeState}!DecoratedShape@{DecoratedShape}}
\doxysubsubsection{\texorpdfstring{SaveSubShapeState()}{SaveSubShapeState()}}
{\footnotesize\ttfamily virtual void Decorated\+Shape\+::\+Save\+Sub\+Shape\+State (\begin{DoxyParamCaption}\item[{Shape\+List \&}]{out\+Sub\+Shapes }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Outputs the shape references that this shape has to out\+Sub\+Shapes. 



Reimplemented from \mbox{\hyperlink{classShape_a09215d250a425cca2e9b4bed32761bc4}{Shape}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
includes/jolt/\+Physics/\+Collision/\+Shape/Decorated\+Shape.\+h\end{DoxyCompactItemize}
