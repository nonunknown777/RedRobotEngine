\doxysection{Character\+Virtual Class Reference}
\hypertarget{classCharacterVirtual}{}\label{classCharacterVirtual}\index{CharacterVirtual@{CharacterVirtual}}


{\ttfamily \#include $<$Character\+Virtual.\+h$>$}



Inheritance diagram for Character\+Virtual\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d3/dc3/classCharacterVirtual__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Character\+Virtual\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/d47/classCharacterVirtual__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structCharacterVirtual_1_1Contact}{Contact}}
\item 
struct \mbox{\hyperlink{structCharacterVirtual_1_1ExtendedUpdateSettings}{Extended\+Update\+Settings}}
\begin{DoxyCompactList}\small\item\em Settings struct with settings for Extended\+Update. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classCharacterVirtual_a7688e6956c0077e94e8d37ec05caf725}\label{classCharacterVirtual_a7688e6956c0077e94e8d37ec05caf725} 
using {\bfseries Temp\+Contact\+List} = std\+::vector$<$ \mbox{\hyperlink{structCharacterVirtual_1_1Contact}{Contact}}, \mbox{\hyperlink{classSTLTempAllocator}{STLTemp\+Allocator}}$<$ \mbox{\hyperlink{structCharacterVirtual_1_1Contact}{Contact}} $>$ $>$
\item 
\Hypertarget{classCharacterVirtual_a8f4e50aacdfa032e1c4ce049c06703c0}\label{classCharacterVirtual_a8f4e50aacdfa032e1c4ce049c06703c0} 
using {\bfseries Contact\+List} = Array$<$ \mbox{\hyperlink{structCharacterVirtual_1_1Contact}{Contact}} $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{classCharacterBase}{Character\+Base}}}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{classCharacterBase_a82dfb80348cdbf3a08f97d54b225f77e}{EGround\+State}} \{ \mbox{\hyperlink{classCharacterBase_a82dfb80348cdbf3a08f97d54b225f77ea2b9beed57034f5727573d7ded76cf777}{On\+Ground}}
, \mbox{\hyperlink{classCharacterBase_a82dfb80348cdbf3a08f97d54b225f77ea50f80f8d96a6d65de73ba8a6b9910761}{On\+Steep\+Ground}}
, \mbox{\hyperlink{classCharacterBase_a82dfb80348cdbf3a08f97d54b225f77ea9ed2d871602556951e39f3cebd08d6cb}{Not\+Supported}}
, \mbox{\hyperlink{classCharacterBase_a82dfb80348cdbf3a08f97d54b225f77eaee4e669a07b061d70b9b79dfed9cb5e7}{In\+Air}}
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
JPH\+\_\+\+OVERRIDE\+\_\+\+NEW\+\_\+\+DELETE \mbox{\hyperlink{classCharacterVirtual_a2b5c96bb11bdc3fcfa5bfb97b5c365b3}{Character\+Virtual}} (const \mbox{\hyperlink{classCharacterVirtualSettings}{Character\+Virtual\+Settings}} \texorpdfstring{$\ast$}{*}in\+Settings, \mbox{\hyperlink{classVec3}{RVec3\+Arg}} in\+Position, \mbox{\hyperlink{classQuat}{Quat\+Arg}} in\+Rotation, \mbox{\hyperlink{classPhysicsSystem}{Physics\+System}} \texorpdfstring{$\ast$}{*}in\+System)
\item 
\Hypertarget{classCharacterVirtual_af7bfe39cc6f67eeb4cd8d4d453d8b179}\label{classCharacterVirtual_af7bfe39cc6f67eeb4cd8d4d453d8b179} 
void {\bfseries Set\+Listener} (\mbox{\hyperlink{classCharacterContactListener}{Character\+Contact\+Listener}} \texorpdfstring{$\ast$}{*}in\+Listener)
\begin{DoxyCompactList}\small\item\em Set the contact listener. \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_aacf19c0b42216d6dc497c20556b642e7}\label{classCharacterVirtual_aacf19c0b42216d6dc497c20556b642e7} 
\mbox{\hyperlink{classCharacterContactListener}{Character\+Contact\+Listener}} \texorpdfstring{$\ast$}{*} {\bfseries Get\+Listener} () const
\begin{DoxyCompactList}\small\item\em Get the current contact listener. \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_a9f8aca4dbbb9c926e52ca8b7337c4c71}\label{classCharacterVirtual_a9f8aca4dbbb9c926e52ca8b7337c4c71} 
\mbox{\hyperlink{classVec3}{Vec3}} {\bfseries Get\+Linear\+Velocity} () const
\begin{DoxyCompactList}\small\item\em Get the linear velocity of the character (m / s) \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_a25da7eb8e9ff5316e357cbf59027b57e}\label{classCharacterVirtual_a25da7eb8e9ff5316e357cbf59027b57e} 
void {\bfseries Set\+Linear\+Velocity} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Linear\+Velocity)
\begin{DoxyCompactList}\small\item\em Set the linear velocity of the character (m / s) \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_a24f025912ca62c15e830bd6213129d6b}\label{classCharacterVirtual_a24f025912ca62c15e830bd6213129d6b} 
\mbox{\hyperlink{classVec3}{RVec3}} {\bfseries Get\+Position} () const
\begin{DoxyCompactList}\small\item\em Get the position of the character. \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_af3622b341d017712981d6d26de99fe5c}\label{classCharacterVirtual_af3622b341d017712981d6d26de99fe5c} 
void {\bfseries Set\+Position} (\mbox{\hyperlink{classVec3}{RVec3\+Arg}} in\+Position)
\begin{DoxyCompactList}\small\item\em Set the position of the character. \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_afdec9f01a8b449ba9b29f39c42afe0d8}\label{classCharacterVirtual_afdec9f01a8b449ba9b29f39c42afe0d8} 
\mbox{\hyperlink{classQuat}{Quat}} {\bfseries Get\+Rotation} () const
\begin{DoxyCompactList}\small\item\em Get the rotation of the character. \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_ac0b74d1e4ec29a6a4853bc8cbb72578d}\label{classCharacterVirtual_ac0b74d1e4ec29a6a4853bc8cbb72578d} 
void {\bfseries Set\+Rotation} (\mbox{\hyperlink{classQuat}{Quat\+Arg}} in\+Rotation)
\begin{DoxyCompactList}\small\item\em Set the rotation of the character. \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_a36a2e0c44e55954fbc62aed4e030ab01}\label{classCharacterVirtual_a36a2e0c44e55954fbc62aed4e030ab01} 
\mbox{\hyperlink{classMat44}{RMat44}} {\bfseries Get\+World\+Transform} () const
\begin{DoxyCompactList}\small\item\em Calculate the world transform of the character. \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_aad9788892410b982d43bbd34ef8a016c}\label{classCharacterVirtual_aad9788892410b982d43bbd34ef8a016c} 
\mbox{\hyperlink{classMat44}{RMat44}} {\bfseries Get\+Center\+Of\+Mass\+Transform} () const
\begin{DoxyCompactList}\small\item\em Calculates the transform for this character\textquotesingle{}s center of mass. \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_a1ae032d5f31f955686e3c519abfaa1a4}\label{classCharacterVirtual_a1ae032d5f31f955686e3c519abfaa1a4} 
float {\bfseries Get\+Mass} () const
\begin{DoxyCompactList}\small\item\em \doxylink{classCharacter}{Character} mass (kg) \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_a93a6110e80e08ef092d7f010a45e3bb5}\label{classCharacterVirtual_a93a6110e80e08ef092d7f010a45e3bb5} 
void {\bfseries Set\+Mass} (float in\+Mass)
\item 
\Hypertarget{classCharacterVirtual_a6d11baa32abe7ab7f75100daca4fda2c}\label{classCharacterVirtual_a6d11baa32abe7ab7f75100daca4fda2c} 
float {\bfseries Get\+Max\+Strength} () const
\begin{DoxyCompactList}\small\item\em Maximum force with which the character can push other bodies (N) \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_a5e3e1a90e94534669194d929a4f15700}\label{classCharacterVirtual_a5e3e1a90e94534669194d929a4f15700} 
void {\bfseries Set\+Max\+Strength} (float in\+Max\+Strength)
\item 
\Hypertarget{classCharacterVirtual_a2407cd5fec2965214f0d9c3c27eb47ca}\label{classCharacterVirtual_a2407cd5fec2965214f0d9c3c27eb47ca} 
float {\bfseries Get\+Penetration\+Recovery\+Speed} () const
\begin{DoxyCompactList}\small\item\em This value governs how fast a penetration will be resolved, 0 = nothing is resolved, 1 = everything in one update. \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_ad767e40abd649085a9b2d8df813dbc8c}\label{classCharacterVirtual_ad767e40abd649085a9b2d8df813dbc8c} 
void {\bfseries Set\+Penetration\+Recovery\+Speed} (float in\+Speed)
\item 
\Hypertarget{classCharacterVirtual_a643ed04caa01ba9e4e4fc9d5058dc3d7}\label{classCharacterVirtual_a643ed04caa01ba9e4e4fc9d5058dc3d7} 
float {\bfseries Get\+Character\+Padding} () const
\begin{DoxyCompactList}\small\item\em \doxylink{classCharacter}{Character} padding. \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_a6b037237b95355079f9aca7904899004}\label{classCharacterVirtual_a6b037237b95355079f9aca7904899004} 
uint {\bfseries Get\+Max\+Num\+Hits} () const
\begin{DoxyCompactList}\small\item\em Max num hits to collect in order to avoid excess of contact points collection. \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_a683ab8265d9c39c512864b8041c675aa}\label{classCharacterVirtual_a683ab8265d9c39c512864b8041c675aa} 
void {\bfseries Set\+Max\+Num\+Hits} (uint in\+Max\+Hits)
\item 
\Hypertarget{classCharacterVirtual_ae8dcc6de2efd2ad646722e92ed1ba38a}\label{classCharacterVirtual_ae8dcc6de2efd2ad646722e92ed1ba38a} 
float {\bfseries Get\+Hit\+Reduction\+Cos\+Max\+Angle} () const
\begin{DoxyCompactList}\small\item\em Cos(angle) where angle is the maximum angle between two hits contact normals that are allowed to be merged during hit reduction. Default is around 2.\+5 degrees. Set to -\/1 to turn off. \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_ac74cd57b392ad9570e419251ce2d70c8}\label{classCharacterVirtual_ac74cd57b392ad9570e419251ce2d70c8} 
void {\bfseries Set\+Hit\+Reduction\+Cos\+Max\+Angle} (float in\+Cos\+Max\+Angle)
\item 
bool \mbox{\hyperlink{classCharacterVirtual_a4bcaf2938288d8a8cbf907f74851b109}{Get\+Max\+Hits\+Exceeded}} () const
\item 
\Hypertarget{classCharacterVirtual_ad36f1869421eeee298f3230d27841071}\label{classCharacterVirtual_ad36f1869421eeee298f3230d27841071} 
\mbox{\hyperlink{classVec3}{Vec3}} {\bfseries Get\+Shape\+Offset} () const
\begin{DoxyCompactList}\small\item\em An extra offset applied to the shape in local space. This allows applying an extra offset to the shape in local space. Note that setting it on the fly can cause the shape to teleport into collision. \end{DoxyCompactList}\item 
\Hypertarget{classCharacterVirtual_a6fd639e0938a0c068ff683a33ee613c9}\label{classCharacterVirtual_a6fd639e0938a0c068ff683a33ee613c9} 
void {\bfseries Set\+Shape\+Offset} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Shape\+Offset)
\item 
\mbox{\hyperlink{classVec3}{Vec3}} \mbox{\hyperlink{classCharacterVirtual_a1e8c56bb848a852be4e63806fe6a74c6}{Cancel\+Velocity\+Towards\+Steep\+Slopes}} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Desired\+Velocity) const
\item 
void \mbox{\hyperlink{classCharacterVirtual_ab9ce165035699a776a9d0b3e570def01}{Update}} (float in\+Delta\+Time, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Gravity, const \mbox{\hyperlink{classBroadPhaseLayerFilter}{Broad\+Phase\+Layer\+Filter}} \&in\+Broad\+Phase\+Layer\+Filter, const \mbox{\hyperlink{classObjectLayerFilter}{Object\+Layer\+Filter}} \&in\+Object\+Layer\+Filter, const \mbox{\hyperlink{classBodyFilter}{Body\+Filter}} \&in\+Body\+Filter, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter, \mbox{\hyperlink{classTempAllocator}{Temp\+Allocator}} \&in\+Allocator)
\item 
bool \mbox{\hyperlink{classCharacterVirtual_af44f8072c8e2687bbc20452b608fc5fe}{Can\+Walk\+Stairs}} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Linear\+Velocity) const
\item 
bool \mbox{\hyperlink{classCharacterVirtual_a7b92d577e9abb6193f971e26df9964f7}{Walk\+Stairs}} (float in\+Delta\+Time, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Step\+Up, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Step\+Forward, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Step\+Forward\+Test, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Step\+Down\+Extra, const \mbox{\hyperlink{classBroadPhaseLayerFilter}{Broad\+Phase\+Layer\+Filter}} \&in\+Broad\+Phase\+Layer\+Filter, const \mbox{\hyperlink{classObjectLayerFilter}{Object\+Layer\+Filter}} \&in\+Object\+Layer\+Filter, const \mbox{\hyperlink{classBodyFilter}{Body\+Filter}} \&in\+Body\+Filter, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter, \mbox{\hyperlink{classTempAllocator}{Temp\+Allocator}} \&in\+Allocator)
\item 
bool \mbox{\hyperlink{classCharacterVirtual_a994b7c0aa38c4930117253eafdd9c9b9}{Stick\+To\+Floor}} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Step\+Down, const \mbox{\hyperlink{classBroadPhaseLayerFilter}{Broad\+Phase\+Layer\+Filter}} \&in\+Broad\+Phase\+Layer\+Filter, const \mbox{\hyperlink{classObjectLayerFilter}{Object\+Layer\+Filter}} \&in\+Object\+Layer\+Filter, const \mbox{\hyperlink{classBodyFilter}{Body\+Filter}} \&in\+Body\+Filter, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter, \mbox{\hyperlink{classTempAllocator}{Temp\+Allocator}} \&in\+Allocator)
\item 
void \mbox{\hyperlink{classCharacterVirtual_ae03c43c12e8eb6496b8c8044c70b591f}{Extended\+Update}} (float in\+Delta\+Time, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Gravity, const \mbox{\hyperlink{structCharacterVirtual_1_1ExtendedUpdateSettings}{Extended\+Update\+Settings}} \&in\+Settings, const \mbox{\hyperlink{classBroadPhaseLayerFilter}{Broad\+Phase\+Layer\+Filter}} \&in\+Broad\+Phase\+Layer\+Filter, const \mbox{\hyperlink{classObjectLayerFilter}{Object\+Layer\+Filter}} \&in\+Object\+Layer\+Filter, const \mbox{\hyperlink{classBodyFilter}{Body\+Filter}} \&in\+Body\+Filter, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter, \mbox{\hyperlink{classTempAllocator}{Temp\+Allocator}} \&in\+Allocator)
\item 
\Hypertarget{classCharacterVirtual_a09ecc3efc44b912eca30d9dbc05cc558}\label{classCharacterVirtual_a09ecc3efc44b912eca30d9dbc05cc558} 
void {\bfseries Refresh\+Contacts} (const \mbox{\hyperlink{classBroadPhaseLayerFilter}{Broad\+Phase\+Layer\+Filter}} \&in\+Broad\+Phase\+Layer\+Filter, const \mbox{\hyperlink{classObjectLayerFilter}{Object\+Layer\+Filter}} \&in\+Object\+Layer\+Filter, const \mbox{\hyperlink{classBodyFilter}{Body\+Filter}} \&in\+Body\+Filter, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter, \mbox{\hyperlink{classTempAllocator}{Temp\+Allocator}} \&in\+Allocator)
\begin{DoxyCompactList}\small\item\em This function can be used after a character has teleported to determine the new contacts with the world. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classCharacterVirtual_a5817d937424e252d406f71f0ba8771da}{Update\+Ground\+Velocity}} ()
\item 
bool \mbox{\hyperlink{classCharacterVirtual_a8149fcb7a9f932dd5154e23588e20763}{Set\+Shape}} (const \mbox{\hyperlink{classShape}{Shape}} \texorpdfstring{$\ast$}{*}in\+Shape, float in\+Max\+Penetration\+Depth, const \mbox{\hyperlink{classBroadPhaseLayerFilter}{Broad\+Phase\+Layer\+Filter}} \&in\+Broad\+Phase\+Layer\+Filter, const \mbox{\hyperlink{classObjectLayerFilter}{Object\+Layer\+Filter}} \&in\+Object\+Layer\+Filter, const \mbox{\hyperlink{classBodyFilter}{Body\+Filter}} \&in\+Body\+Filter, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter, \mbox{\hyperlink{classTempAllocator}{Temp\+Allocator}} \&in\+Allocator)
\item 
void \mbox{\hyperlink{classCharacterVirtual_ae70222c609c35c1acd94b9fc24e03681}{Check\+Collision}} (\mbox{\hyperlink{classVec3}{RVec3\+Arg}} in\+Position, \mbox{\hyperlink{classQuat}{Quat\+Arg}} in\+Rotation, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Movement\+Direction, float in\+Max\+Separation\+Distance, const \mbox{\hyperlink{classShape}{Shape}} \texorpdfstring{$\ast$}{*}in\+Shape, \mbox{\hyperlink{classVec3}{RVec3\+Arg}} in\+Base\+Offset, \mbox{\hyperlink{classCollisionCollector}{Collide\+Shape\+Collector}} \&io\+Collector, const \mbox{\hyperlink{classBroadPhaseLayerFilter}{Broad\+Phase\+Layer\+Filter}} \&in\+Broad\+Phase\+Layer\+Filter, const \mbox{\hyperlink{classObjectLayerFilter}{Object\+Layer\+Filter}} \&in\+Object\+Layer\+Filter, const \mbox{\hyperlink{classBodyFilter}{Body\+Filter}} \&in\+Body\+Filter, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter) const
\begin{DoxyCompactList}\small\item\em Get all contacts for the character at a particular location. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classCharacterVirtual_ad8378a4748da25e4efb625c550ebd493}{Save\+State}} (\mbox{\hyperlink{classStateRecorder}{State\+Recorder}} \&in\+Stream) const override
\item 
virtual void \mbox{\hyperlink{classCharacterVirtual_a72a34ed9bfe19c48fe685ea09e44265e}{Restore\+State}} (\mbox{\hyperlink{classStateRecorder}{State\+Recorder}} \&in\+Stream) override
\item 
\Hypertarget{classCharacterVirtual_a2fcecdf5b3e0f584f2bb7ec5a128dbe6}\label{classCharacterVirtual_a2fcecdf5b3e0f584f2bb7ec5a128dbe6} 
const Contact\+List \& {\bfseries Get\+Active\+Contacts} () const
\begin{DoxyCompactList}\small\item\em Access to the internal list of contacts that the character has found. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classCharacterBase}{Character\+Base}}}
\begin{DoxyCompactItemize}
\item 
JPH\+\_\+\+OVERRIDE\+\_\+\+NEW\+\_\+\+DELETE {\bfseries Character\+Base} (const \mbox{\hyperlink{classCharacterBaseSettings}{Character\+Base\+Settings}} \texorpdfstring{$\ast$}{*}in\+Settings, \mbox{\hyperlink{classPhysicsSystem}{Physics\+System}} \texorpdfstring{$\ast$}{*}in\+System)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+Character\+Base} ()=default
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void {\bfseries Set\+Max\+Slope\+Angle} (float in\+Max\+Slope\+Angle)
\begin{DoxyCompactList}\small\item\em Set the maximum angle of slope that character can still walk on (radians) \end{DoxyCompactList}\item 
float {\bfseries Get\+Cos\+Max\+Slope\+Angle} () const
\item 
void {\bfseries Set\+Up} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Up)
\begin{DoxyCompactList}\small\item\em Set the up vector for the character. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classVec3}{Vec3}} {\bfseries Get\+Up} () const
\item 
bool {\bfseries Is\+Slope\+Too\+Steep} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Normal) const
\begin{DoxyCompactList}\small\item\em Check if the normal of the ground surface is too steep to walk on. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classShape}{Shape}} \texorpdfstring{$\ast$}{*} {\bfseries Get\+Shape} () const
\begin{DoxyCompactList}\small\item\em Get the current shape that the character is using. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classCharacterBase_a82dfb80348cdbf3a08f97d54b225f77e}{EGround\+State}} {\bfseries Get\+Ground\+State} () const
\begin{DoxyCompactList}\small\item\em Current ground state. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
bool {\bfseries Is\+Supported} () const
\begin{DoxyCompactList}\small\item\em Returns true if the player is supported by normal or steep ground. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classVec3}{RVec3}} {\bfseries Get\+Ground\+Position} () const
\begin{DoxyCompactList}\small\item\em Get the contact point with the ground. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classVec3}{Vec3}} {\bfseries Get\+Ground\+Normal} () const
\begin{DoxyCompactList}\small\item\em Get the contact normal with the ground. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classVec3}{Vec3}} {\bfseries Get\+Ground\+Velocity} () const
\begin{DoxyCompactList}\small\item\em Velocity in world space of ground. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} \texorpdfstring{$\ast$}{*} {\bfseries Get\+Ground\+Material} () const
\begin{DoxyCompactList}\small\item\em \doxylink{structMaterial}{Material} that the character is standing on. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classBodyID}{Body\+ID}} {\bfseries Get\+Ground\+Body\+ID} () const
\begin{DoxyCompactList}\small\item\em \doxylink{classBodyID}{Body\+ID} of the object the character is standing on. Note may have been removed! \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} {\bfseries Get\+Ground\+Sub\+Shape\+ID} () const
\begin{DoxyCompactList}\small\item\em Sub part of the body that we\textquotesingle{}re standing on. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
uint64 {\bfseries Get\+Ground\+User\+Data} () const
\begin{DoxyCompactList}\small\item\em User data value of the body that we\textquotesingle{}re standing on. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classRefTarget}{Ref\+Target$<$ Character\+Base $>$}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Ref\+Target} ()=default
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
{\bfseries Ref\+Target} (const \mbox{\hyperlink{classRefTarget}{Ref\+Target}} \&)
\item 
{\bfseries \texorpdfstring{$\sim$}{\string~}\+Ref\+Target} ()
\begin{DoxyCompactList}\small\item\em assert no one is referencing us \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classRefTarget_a3befa746ea517453572f6f4f5fc3b099}{Set\+Embedded}} () const
\item 
\mbox{\hyperlink{classRefTarget}{Ref\+Target}} \& {\bfseries operator=} (const \mbox{\hyperlink{classRefTarget}{Ref\+Target}} \&)
\begin{DoxyCompactList}\small\item\em Assignment operator. \end{DoxyCompactList}\item 
uint32 {\bfseries Get\+Ref\+Count} () const
\begin{DoxyCompactList}\small\item\em Get current refcount of this object. \end{DoxyCompactList}\item 
void {\bfseries Add\+Ref} () const
\begin{DoxyCompactList}\small\item\em Add or release a reference to this object. \end{DoxyCompactList}\item 
void {\bfseries Release} () const
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classNonCopyable}{Non\+Copyable}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Non\+Copyable} (const \mbox{\hyperlink{classNonCopyable}{Non\+Copyable}} \&)=delete
\item 
void {\bfseries operator=} (const \mbox{\hyperlink{classNonCopyable}{Non\+Copyable}} \&)=delete
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Static Public Member Functions inherited from \mbox{\hyperlink{classCharacterBase}{Character\+Base}}}
\begin{DoxyCompactItemize}
\item 
static const char \texorpdfstring{$\ast$}{*} {\bfseries s\+To\+String} (\mbox{\hyperlink{classCharacterBase_a82dfb80348cdbf3a08f97d54b225f77e}{EGround\+State}} in\+State)
\begin{DoxyCompactList}\small\item\em Debug function to convert enum values to string. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions inherited from \mbox{\hyperlink{classRefTarget}{Ref\+Target$<$ Character\+Base $>$}}}
\begin{DoxyCompactItemize}
\item 
static int {\bfseries s\+Internal\+Get\+Ref\+Count\+Offset} ()
\begin{DoxyCompactList}\small\item\em INTERNAL HELPER FUNCTION USED BY SERIALIZATION. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classCharacterBase}{Character\+Base}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classPhysicsSystem}{Physics\+System}} \texorpdfstring{$\ast$}{*} {\bfseries m\+System}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classRefConst}{Ref\+Const}}$<$ \mbox{\hyperlink{classShape}{Shape}} $>$ {\bfseries m\+Shape}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classVec3}{Vec3}} {\bfseries m\+Up}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classPlane}{Plane}} {\bfseries m\+Supporting\+Volume}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
float {\bfseries m\+Cos\+Max\+Slope\+Angle}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classCharacterBase_a82dfb80348cdbf3a08f97d54b225f77e}{EGround\+State}} {\bfseries m\+Ground\+State} = \mbox{\hyperlink{classCharacterBase_a82dfb80348cdbf3a08f97d54b225f77eaee4e669a07b061d70b9b79dfed9cb5e7}{EGround\+State\+::\+In\+Air}}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classBodyID}{Body\+ID}} {\bfseries m\+Ground\+Body\+ID}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} {\bfseries m\+Ground\+Body\+Sub\+Shape\+ID}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classVec3}{RVec3}} {\bfseries m\+Ground\+Position} = \mbox{\hyperlink{classVec3_ad03c52ab27761bc1e64e33c47632ba51}{RVec3\+::s\+Zero}}()
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classVec3}{Vec3}} {\bfseries m\+Ground\+Normal} = \mbox{\hyperlink{classVec3_ad03c52ab27761bc1e64e33c47632ba51}{Vec3\+::s\+Zero}}()
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classVec3}{Vec3}} {\bfseries m\+Ground\+Velocity} = \mbox{\hyperlink{classVec3_ad03c52ab27761bc1e64e33c47632ba51}{Vec3\+::s\+Zero}}()
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classRefConst}{Ref\+Const}}$<$ \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} $>$ {\bfseries m\+Ground\+Material} = \mbox{\hyperlink{classPhysicsMaterial_af53a233202a9b9e828cc7dcc346cf28f}{Physics\+Material\+::s\+Default}}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
uint64 {\bfseries m\+Ground\+User\+Data} = 0
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classRefTarget}{Ref\+Target$<$ Character\+Base $>$}}}
\begin{DoxyCompactItemize}
\item 
atomic$<$ uint32 $>$ {\bfseries m\+Ref\+Count}
\begin{DoxyCompactList}\small\item\em Current reference count. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Protected Attributes inherited from \mbox{\hyperlink{classCharacterBase}{Character\+Base}}}
\begin{DoxyCompactItemize}
\item 
static constexpr float {\bfseries c\+No\+Max\+Slope\+Angle} = 0.\+9999f
\end{DoxyCompactItemize}
\doxysubsection*{Static Protected Attributes inherited from \mbox{\hyperlink{classRefTarget}{Ref\+Target$<$ Character\+Base $>$}}}
\begin{DoxyCompactItemize}
\item 
static constexpr uint32 {\bfseries c\+Embedded}
\begin{DoxyCompactList}\small\item\em A large value that gets added to the refcount to mark the object as embedded. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Runtime character object. This object usually represents the player. Contrary to the \doxylink{classCharacter}{Character} class it doesn\textquotesingle{}t use a rigid body but moves doing collision checks only (hence the name virtual). The advantage of this is that you can determine when the character moves in the frame (usually this has to happen at a very particular point in the frame) but the downside is that other objects don\textquotesingle{}t see this virtual character. In order to make this work it is recommended to pair a \doxylink{classCharacterVirtual}{Character\+Virtual} with a \doxylink{classCharacter}{Character} that moves along. This \doxylink{classCharacter}{Character} should be keyframed (or at least have no gravity) and move along with the \doxylink{classCharacterVirtual}{Character\+Virtual} so that other rigid bodies can collide with it. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classCharacterVirtual_a2b5c96bb11bdc3fcfa5bfb97b5c365b3}\label{classCharacterVirtual_a2b5c96bb11bdc3fcfa5bfb97b5c365b3} 
\index{CharacterVirtual@{CharacterVirtual}!CharacterVirtual@{CharacterVirtual}}
\index{CharacterVirtual@{CharacterVirtual}!CharacterVirtual@{CharacterVirtual}}
\doxysubsubsection{\texorpdfstring{CharacterVirtual()}{CharacterVirtual()}}
{\footnotesize\ttfamily JPH\+\_\+\+OVERRIDE\+\_\+\+NEW\+\_\+\+DELETE Character\+Virtual\+::\+Character\+Virtual (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classCharacterVirtualSettings}{Character\+Virtual\+Settings}} \texorpdfstring{$\ast$}{*}}]{in\+Settings,  }\item[{\mbox{\hyperlink{classVec3}{RVec3\+Arg}}}]{in\+Position,  }\item[{\mbox{\hyperlink{classQuat}{Quat\+Arg}}}]{in\+Rotation,  }\item[{\mbox{\hyperlink{classPhysicsSystem}{Physics\+System}} \texorpdfstring{$\ast$}{*}}]{in\+System }\end{DoxyParamCaption})}

Constructor 
\begin{DoxyParams}{Parameters}
{\em in\+Settings} & The settings for the character \\
\hline
{\em in\+Position} & Initial position for the character \\
\hline
{\em in\+Rotation} & Initial rotation for the character (usually only around the up-\/axis) \\
\hline
{\em in\+System} & Physics system that this character will be added to later \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{classCharacterVirtual_a1e8c56bb848a852be4e63806fe6a74c6}\label{classCharacterVirtual_a1e8c56bb848a852be4e63806fe6a74c6} 
\index{CharacterVirtual@{CharacterVirtual}!CancelVelocityTowardsSteepSlopes@{CancelVelocityTowardsSteepSlopes}}
\index{CancelVelocityTowardsSteepSlopes@{CancelVelocityTowardsSteepSlopes}!CharacterVirtual@{CharacterVirtual}}
\doxysubsubsection{\texorpdfstring{CancelVelocityTowardsSteepSlopes()}{CancelVelocityTowardsSteepSlopes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classVec3}{Vec3}} Character\+Virtual\+::\+Cancel\+Velocity\+Towards\+Steep\+Slopes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Desired\+Velocity }\end{DoxyParamCaption}) const}

This function can be called prior to calling \doxylink{classCharacterVirtual_ab9ce165035699a776a9d0b3e570def01}{Update()} to convert a desired velocity into a velocity that won\textquotesingle{}t make the character move further onto steep slopes. This velocity can then be set on the character using \doxylink{classCharacterVirtual_a25da7eb8e9ff5316e357cbf59027b57e}{Set\+Linear\+Velocity()} 
\begin{DoxyParams}{Parameters}
{\em in\+Desired\+Velocity} & Velocity to clamp against steep walls \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A new velocity vector that won\textquotesingle{}t make the character move up steep slopes 
\end{DoxyReturn}
\Hypertarget{classCharacterVirtual_af44f8072c8e2687bbc20452b608fc5fe}\label{classCharacterVirtual_af44f8072c8e2687bbc20452b608fc5fe} 
\index{CharacterVirtual@{CharacterVirtual}!CanWalkStairs@{CanWalkStairs}}
\index{CanWalkStairs@{CanWalkStairs}!CharacterVirtual@{CharacterVirtual}}
\doxysubsubsection{\texorpdfstring{CanWalkStairs()}{CanWalkStairs()}}
{\footnotesize\ttfamily bool Character\+Virtual\+::\+Can\+Walk\+Stairs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Linear\+Velocity }\end{DoxyParamCaption}) const}

This function will return true if the character has moved into a slope that is too steep (e.\+g. a vertical wall). You would call Walk\+Stairs to attempt to step up stairs. 
\begin{DoxyParams}{Parameters}
{\em in\+Linear\+Velocity} & The linear velocity that the player desired. This is used to determine if we\textquotesingle{}re pusing into a step. \\
\hline
\end{DoxyParams}
\Hypertarget{classCharacterVirtual_ae70222c609c35c1acd94b9fc24e03681}\label{classCharacterVirtual_ae70222c609c35c1acd94b9fc24e03681} 
\index{CharacterVirtual@{CharacterVirtual}!CheckCollision@{CheckCollision}}
\index{CheckCollision@{CheckCollision}!CharacterVirtual@{CharacterVirtual}}
\doxysubsubsection{\texorpdfstring{CheckCollision()}{CheckCollision()}}
{\footnotesize\ttfamily void Character\+Virtual\+::\+Check\+Collision (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classVec3}{RVec3\+Arg}}}]{in\+Position,  }\item[{\mbox{\hyperlink{classQuat}{Quat\+Arg}}}]{in\+Rotation,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Movement\+Direction,  }\item[{float}]{in\+Max\+Separation\+Distance,  }\item[{const \mbox{\hyperlink{classShape}{Shape}} \texorpdfstring{$\ast$}{*}}]{in\+Shape,  }\item[{\mbox{\hyperlink{classVec3}{RVec3\+Arg}}}]{in\+Base\+Offset,  }\item[{\mbox{\hyperlink{classCollisionCollector}{Collide\+Shape\+Collector}} \&}]{io\+Collector,  }\item[{const \mbox{\hyperlink{classBroadPhaseLayerFilter}{Broad\+Phase\+Layer\+Filter}} \&}]{in\+Broad\+Phase\+Layer\+Filter,  }\item[{const \mbox{\hyperlink{classObjectLayerFilter}{Object\+Layer\+Filter}} \&}]{in\+Object\+Layer\+Filter,  }\item[{const \mbox{\hyperlink{classBodyFilter}{Body\+Filter}} \&}]{in\+Body\+Filter,  }\item[{const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&}]{in\+Shape\+Filter }\end{DoxyParamCaption}) const}



Get all contacts for the character at a particular location. 


\begin{DoxyParams}{Parameters}
{\em in\+Position} & Position to test, note that this position will be corrected for the character padding. \\
\hline
{\em in\+Rotation} & Rotation at which to test the shape. \\
\hline
{\em in\+Movement\+Direction} & A hint in which direction the character is moving, will be used to calculate a proper normal. \\
\hline
{\em in\+Max\+Separation\+Distance} & How much distance around the character you want to report contacts in (can be 0 to match the character exactly). \\
\hline
{\em in\+Shape} & \doxylink{classShape}{Shape} to test collision with. \\
\hline
{\em in\+Base\+Offset} & All hit results will be returned relative to this offset, can be zero to get results in world position, but when you\textquotesingle{}re testing far from the origin you get better precision by picking a position that\textquotesingle{}s closer e.\+g. \doxylink{classCharacterVirtual_a24f025912ca62c15e830bd6213129d6b}{Get\+Position()} since floats are most accurate near the origin \\
\hline
{\em io\+Collector} & Collision collector that receives the collision results. \\
\hline
{\em in\+Broad\+Phase\+Layer\+Filter} & Filter that is used to check if the character collides with something in the broadphase. \\
\hline
{\em in\+Object\+Layer\+Filter} & Filter that is used to check if a character collides with a layer. \\
\hline
{\em in\+Body\+Filter} & Filter that is used to check if a character collides with a body. \\
\hline
{\em in\+Shape\+Filter} & Filter that is used to check if a character collides with a subshape. \\
\hline
\end{DoxyParams}
\Hypertarget{classCharacterVirtual_ae03c43c12e8eb6496b8c8044c70b591f}\label{classCharacterVirtual_ae03c43c12e8eb6496b8c8044c70b591f} 
\index{CharacterVirtual@{CharacterVirtual}!ExtendedUpdate@{ExtendedUpdate}}
\index{ExtendedUpdate@{ExtendedUpdate}!CharacterVirtual@{CharacterVirtual}}
\doxysubsubsection{\texorpdfstring{ExtendedUpdate()}{ExtendedUpdate()}}
{\footnotesize\ttfamily void Character\+Virtual\+::\+Extended\+Update (\begin{DoxyParamCaption}\item[{float}]{in\+Delta\+Time,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Gravity,  }\item[{const \mbox{\hyperlink{structCharacterVirtual_1_1ExtendedUpdateSettings}{Extended\+Update\+Settings}} \&}]{in\+Settings,  }\item[{const \mbox{\hyperlink{classBroadPhaseLayerFilter}{Broad\+Phase\+Layer\+Filter}} \&}]{in\+Broad\+Phase\+Layer\+Filter,  }\item[{const \mbox{\hyperlink{classObjectLayerFilter}{Object\+Layer\+Filter}} \&}]{in\+Object\+Layer\+Filter,  }\item[{const \mbox{\hyperlink{classBodyFilter}{Body\+Filter}} \&}]{in\+Body\+Filter,  }\item[{const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&}]{in\+Shape\+Filter,  }\item[{\mbox{\hyperlink{classTempAllocator}{Temp\+Allocator}} \&}]{in\+Allocator }\end{DoxyParamCaption})}

This function combines Update, Stick\+To\+Floor and Walk\+Stairs. This function serves as an example of how these functions could be combined. Before calling, call Set\+Linear\+Velocity to update the horizontal/vertical speed of the character, typically this is\+:
\begin{DoxyItemize}
\item When on On\+Ground and not moving away from ground\+: velocity = \doxylink{classCharacterBase_a692578285569b48d19d53684360a5656}{Get\+Ground\+Velocity()} + horizontal speed as input by player + optional vertical jump velocity + delta time \texorpdfstring{$\ast$}{*} gravity
\item Else\+: velocity = current vertical velocity + horizontal speed as input by player + delta time \texorpdfstring{$\ast$}{*} gravity 
\begin{DoxyParams}{Parameters}
{\em in\+Delta\+Time} & Time step to simulate. \\
\hline
{\em in\+Gravity} & Gravity vector (m/s\texorpdfstring{$^\wedge$}{\string^}2). This gravity vector is only used when the character is standing on top of another object to apply downward force. \\
\hline
{\em in\+Settings} & A structure containing settings for the algorithm. \\
\hline
{\em in\+Broad\+Phase\+Layer\+Filter} & Filter that is used to check if the character collides with something in the broadphase. \\
\hline
{\em in\+Object\+Layer\+Filter} & Filter that is used to check if a character collides with a layer. \\
\hline
{\em in\+Body\+Filter} & Filter that is used to check if a character collides with a body. \\
\hline
{\em in\+Shape\+Filter} & Filter that is used to check if a character collides with a subshape. \\
\hline
{\em in\+Allocator} & An allocator for temporary allocations. All memory will be freed by the time this function returns. \\
\hline
\end{DoxyParams}

\end{DoxyItemize}\Hypertarget{classCharacterVirtual_a4bcaf2938288d8a8cbf907f74851b109}\label{classCharacterVirtual_a4bcaf2938288d8a8cbf907f74851b109} 
\index{CharacterVirtual@{CharacterVirtual}!GetMaxHitsExceeded@{GetMaxHitsExceeded}}
\index{GetMaxHitsExceeded@{GetMaxHitsExceeded}!CharacterVirtual@{CharacterVirtual}}
\doxysubsubsection{\texorpdfstring{GetMaxHitsExceeded()}{GetMaxHitsExceeded()}}
{\footnotesize\ttfamily bool Character\+Virtual\+::\+Get\+Max\+Hits\+Exceeded (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns if we exceeded the maximum number of hits during the last collision check and had to discard hits based on distance. This can be used to find areas that have too complex geometry for the character to navigate properly. To solve you can either increase the max number of hits or simplify the geometry. Note that the character simulation will try to do its best to select the most relevant contacts to avoid the character from getting stuck. \Hypertarget{classCharacterVirtual_a72a34ed9bfe19c48fe685ea09e44265e}\label{classCharacterVirtual_a72a34ed9bfe19c48fe685ea09e44265e} 
\index{CharacterVirtual@{CharacterVirtual}!RestoreState@{RestoreState}}
\index{RestoreState@{RestoreState}!CharacterVirtual@{CharacterVirtual}}
\doxysubsubsection{\texorpdfstring{RestoreState()}{RestoreState()}}
{\footnotesize\ttfamily virtual void Character\+Virtual\+::\+Restore\+State (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classStateRecorder}{State\+Recorder}} \&}]{in\+Stream }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classCharacterBase}{Character\+Base}}.

\Hypertarget{classCharacterVirtual_ad8378a4748da25e4efb625c550ebd493}\label{classCharacterVirtual_ad8378a4748da25e4efb625c550ebd493} 
\index{CharacterVirtual@{CharacterVirtual}!SaveState@{SaveState}}
\index{SaveState@{SaveState}!CharacterVirtual@{CharacterVirtual}}
\doxysubsubsection{\texorpdfstring{SaveState()}{SaveState()}}
{\footnotesize\ttfamily virtual void Character\+Virtual\+::\+Save\+State (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classStateRecorder}{State\+Recorder}} \&}]{in\+Stream }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classCharacterBase}{Character\+Base}}.

\Hypertarget{classCharacterVirtual_a8149fcb7a9f932dd5154e23588e20763}\label{classCharacterVirtual_a8149fcb7a9f932dd5154e23588e20763} 
\index{CharacterVirtual@{CharacterVirtual}!SetShape@{SetShape}}
\index{SetShape@{SetShape}!CharacterVirtual@{CharacterVirtual}}
\doxysubsubsection{\texorpdfstring{SetShape()}{SetShape()}}
{\footnotesize\ttfamily bool Character\+Virtual\+::\+Set\+Shape (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classShape}{Shape}} \texorpdfstring{$\ast$}{*}}]{in\+Shape,  }\item[{float}]{in\+Max\+Penetration\+Depth,  }\item[{const \mbox{\hyperlink{classBroadPhaseLayerFilter}{Broad\+Phase\+Layer\+Filter}} \&}]{in\+Broad\+Phase\+Layer\+Filter,  }\item[{const \mbox{\hyperlink{classObjectLayerFilter}{Object\+Layer\+Filter}} \&}]{in\+Object\+Layer\+Filter,  }\item[{const \mbox{\hyperlink{classBodyFilter}{Body\+Filter}} \&}]{in\+Body\+Filter,  }\item[{const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&}]{in\+Shape\+Filter,  }\item[{\mbox{\hyperlink{classTempAllocator}{Temp\+Allocator}} \&}]{in\+Allocator }\end{DoxyParamCaption})}

Switch the shape of the character (e.\+g. for stance). 
\begin{DoxyParams}{Parameters}
{\em in\+Shape} & The shape to switch to. \\
\hline
{\em in\+Max\+Penetration\+Depth} & When in\+Max\+Penetration\+Depth is not FLT\+\_\+\+MAX, it checks if the new shape collides before switching shape. This is the max penetration we\textquotesingle{}re willing to accept after the switch. \\
\hline
{\em in\+Broad\+Phase\+Layer\+Filter} & Filter that is used to check if the character collides with something in the broadphase. \\
\hline
{\em in\+Object\+Layer\+Filter} & Filter that is used to check if a character collides with a layer. \\
\hline
{\em in\+Body\+Filter} & Filter that is used to check if a character collides with a body. \\
\hline
{\em in\+Shape\+Filter} & Filter that is used to check if a character collides with a subshape. \\
\hline
{\em in\+Allocator} & An allocator for temporary allocations. All memory will be freed by the time this function returns. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns true if the switch succeeded. 
\end{DoxyReturn}
\Hypertarget{classCharacterVirtual_a994b7c0aa38c4930117253eafdd9c9b9}\label{classCharacterVirtual_a994b7c0aa38c4930117253eafdd9c9b9} 
\index{CharacterVirtual@{CharacterVirtual}!StickToFloor@{StickToFloor}}
\index{StickToFloor@{StickToFloor}!CharacterVirtual@{CharacterVirtual}}
\doxysubsubsection{\texorpdfstring{StickToFloor()}{StickToFloor()}}
{\footnotesize\ttfamily bool Character\+Virtual\+::\+Stick\+To\+Floor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Step\+Down,  }\item[{const \mbox{\hyperlink{classBroadPhaseLayerFilter}{Broad\+Phase\+Layer\+Filter}} \&}]{in\+Broad\+Phase\+Layer\+Filter,  }\item[{const \mbox{\hyperlink{classObjectLayerFilter}{Object\+Layer\+Filter}} \&}]{in\+Object\+Layer\+Filter,  }\item[{const \mbox{\hyperlink{classBodyFilter}{Body\+Filter}} \&}]{in\+Body\+Filter,  }\item[{const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&}]{in\+Shape\+Filter,  }\item[{\mbox{\hyperlink{classTempAllocator}{Temp\+Allocator}} \&}]{in\+Allocator }\end{DoxyParamCaption})}

This function can be used to artificially keep the character to the floor. Normally when a character is on a small step and starts moving horizontally, the character will lose contact with the floor because the initial vertical velocity is zero while the horizontal velocity is quite high. To prevent the character from losing contact with the floor, we do an additional collision check downwards and if we find the floor within a certain distance, we project the character onto the floor. 
\begin{DoxyParams}{Parameters}
{\em in\+Step\+Down} & Max amount to project the character downwards (if no floor is found within this distance, the function will return false) \\
\hline
{\em in\+Broad\+Phase\+Layer\+Filter} & Filter that is used to check if the character collides with something in the broadphase. \\
\hline
{\em in\+Object\+Layer\+Filter} & Filter that is used to check if a character collides with a layer. \\
\hline
{\em in\+Body\+Filter} & Filter that is used to check if a character collides with a body. \\
\hline
{\em in\+Shape\+Filter} & Filter that is used to check if a character collides with a subshape. \\
\hline
{\em in\+Allocator} & An allocator for temporary allocations. All memory will be freed by the time this function returns. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the character was successfully projected onto the floor. 
\end{DoxyReturn}
\Hypertarget{classCharacterVirtual_ab9ce165035699a776a9d0b3e570def01}\label{classCharacterVirtual_ab9ce165035699a776a9d0b3e570def01} 
\index{CharacterVirtual@{CharacterVirtual}!Update@{Update}}
\index{Update@{Update}!CharacterVirtual@{CharacterVirtual}}
\doxysubsubsection{\texorpdfstring{Update()}{Update()}}
{\footnotesize\ttfamily void Character\+Virtual\+::\+Update (\begin{DoxyParamCaption}\item[{float}]{in\+Delta\+Time,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Gravity,  }\item[{const \mbox{\hyperlink{classBroadPhaseLayerFilter}{Broad\+Phase\+Layer\+Filter}} \&}]{in\+Broad\+Phase\+Layer\+Filter,  }\item[{const \mbox{\hyperlink{classObjectLayerFilter}{Object\+Layer\+Filter}} \&}]{in\+Object\+Layer\+Filter,  }\item[{const \mbox{\hyperlink{classBodyFilter}{Body\+Filter}} \&}]{in\+Body\+Filter,  }\item[{const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&}]{in\+Shape\+Filter,  }\item[{\mbox{\hyperlink{classTempAllocator}{Temp\+Allocator}} \&}]{in\+Allocator }\end{DoxyParamCaption})}

This is the main update function. It moves the character according to its current velocity (the character is similar to a kinematic body in the sense that you set the velocity and the character will follow unless collision is blocking the way). Note it\textquotesingle{}s your own responsibility to apply gravity to the character velocity! Different surface materials (like ice) can be emulated by getting the ground material and adjusting the velocity and/or the max slope angle accordingly every frame. 
\begin{DoxyParams}{Parameters}
{\em in\+Delta\+Time} & Time step to simulate. \\
\hline
{\em in\+Gravity} & Gravity vector (m/s\texorpdfstring{$^\wedge$}{\string^}2). This gravity vector is only used when the character is standing on top of another object to apply downward force. \\
\hline
{\em in\+Broad\+Phase\+Layer\+Filter} & Filter that is used to check if the character collides with something in the broadphase. \\
\hline
{\em in\+Object\+Layer\+Filter} & Filter that is used to check if a character collides with a layer. \\
\hline
{\em in\+Body\+Filter} & Filter that is used to check if a character collides with a body. \\
\hline
{\em in\+Shape\+Filter} & Filter that is used to check if a character collides with a subshape. \\
\hline
{\em in\+Allocator} & An allocator for temporary allocations. All memory will be freed by the time this function returns. \\
\hline
\end{DoxyParams}
\Hypertarget{classCharacterVirtual_a5817d937424e252d406f71f0ba8771da}\label{classCharacterVirtual_a5817d937424e252d406f71f0ba8771da} 
\index{CharacterVirtual@{CharacterVirtual}!UpdateGroundVelocity@{UpdateGroundVelocity}}
\index{UpdateGroundVelocity@{UpdateGroundVelocity}!CharacterVirtual@{CharacterVirtual}}
\doxysubsubsection{\texorpdfstring{UpdateGroundVelocity()}{UpdateGroundVelocity()}}
{\footnotesize\ttfamily void Character\+Virtual\+::\+Update\+Ground\+Velocity (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Use the ground body ID to get an updated estimate of the ground velocity. This function can be used if the ground body has moved / changed velocity and you want a new estimate of the ground velocity. It will not perform collision detection, so is less accurate than Refresh\+Contacts but a lot faster. \Hypertarget{classCharacterVirtual_a7b92d577e9abb6193f971e26df9964f7}\label{classCharacterVirtual_a7b92d577e9abb6193f971e26df9964f7} 
\index{CharacterVirtual@{CharacterVirtual}!WalkStairs@{WalkStairs}}
\index{WalkStairs@{WalkStairs}!CharacterVirtual@{CharacterVirtual}}
\doxysubsubsection{\texorpdfstring{WalkStairs()}{WalkStairs()}}
{\footnotesize\ttfamily bool Character\+Virtual\+::\+Walk\+Stairs (\begin{DoxyParamCaption}\item[{float}]{in\+Delta\+Time,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Step\+Up,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Step\+Forward,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Step\+Forward\+Test,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Step\+Down\+Extra,  }\item[{const \mbox{\hyperlink{classBroadPhaseLayerFilter}{Broad\+Phase\+Layer\+Filter}} \&}]{in\+Broad\+Phase\+Layer\+Filter,  }\item[{const \mbox{\hyperlink{classObjectLayerFilter}{Object\+Layer\+Filter}} \&}]{in\+Object\+Layer\+Filter,  }\item[{const \mbox{\hyperlink{classBodyFilter}{Body\+Filter}} \&}]{in\+Body\+Filter,  }\item[{const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&}]{in\+Shape\+Filter,  }\item[{\mbox{\hyperlink{classTempAllocator}{Temp\+Allocator}} \&}]{in\+Allocator }\end{DoxyParamCaption})}

When stair walking is needed, you can call the Walk\+Stairs function to cast up, forward and down again to try to find a valid position 
\begin{DoxyParams}{Parameters}
{\em in\+Delta\+Time} & Time step to simulate. \\
\hline
{\em in\+Step\+Up} & The direction and distance to step up (this corresponds to the max step height) \\
\hline
{\em in\+Step\+Forward} & The direction and distance to step forward after the step up \\
\hline
{\em in\+Step\+Forward\+Test} & When running at a high frequency, in\+Step\+Forward can be very small and it\textquotesingle{}s likely that you hit the side of the stairs on the way down. This could produce a normal that violates the max slope angle. If this happens, we test again using this distance from the up position to see if we find a valid slope. \\
\hline
{\em in\+Step\+Down\+Extra} & An additional translation that is added when stepping down at the end. Allows you to step further down than up. Set to zero if you don\textquotesingle{}t want this. Should be in the opposite direction of up. \\
\hline
{\em in\+Broad\+Phase\+Layer\+Filter} & Filter that is used to check if the character collides with something in the broadphase. \\
\hline
{\em in\+Object\+Layer\+Filter} & Filter that is used to check if a character collides with a layer. \\
\hline
{\em in\+Body\+Filter} & Filter that is used to check if a character collides with a body. \\
\hline
{\em in\+Shape\+Filter} & Filter that is used to check if a character collides with a subshape. \\
\hline
{\em in\+Allocator} & An allocator for temporary allocations. All memory will be freed by the time this function returns. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the stair walk was successful 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
includes/jolt/\+Physics/\+Character/Character\+Virtual.\+h\end{DoxyCompactItemize}
