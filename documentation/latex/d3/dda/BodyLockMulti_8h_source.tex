\doxysection{Body\+Lock\+Multi.\+h}
\hypertarget{BodyLockMulti_8h_source}{}\label{BodyLockMulti_8h_source}\index{includes/jolt/Physics/Body/BodyLockMulti.h@{includes/jolt/Physics/Body/BodyLockMulti.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Jolt\ Physics\ Library\ (https://github.com/jrouwe/JoltPhysics)}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ SPDX-\/FileCopyrightText:\ 2021\ Jorrit\ Rouwe}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ SPDX-\/License-\/Identifier:\ MIT}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Body/BodyLockInterface.h>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ JPH\_NAMESPACE\_BEGIN}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ Write,\ \textcolor{keyword}{class}\ BodyType>}
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classBodyLockMultiBase}{BodyLockMultiBase}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classNonCopyable}{NonCopyable}}}
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classBodyLockMultiBase_aed093a87a311d01a99c7818f4e766570}{MutexMask}}\ =\ \mbox{\hyperlink{classBodyLockInterface_a771acdfb6a269ae145b3b7867b560ebb}{BodyLockInterface::MutexMask}};}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classBodyLockMultiBase_a64d2906481b4018d8394f0d8cb199cc8}{BodyLockMultiBase}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classBodyLockInterface}{BodyLockInterface}}\ \&inBodyLockInterface,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classBodyID}{BodyID}}\ *inBodyIDs,\ \textcolor{keywordtype}{int}\ inNumber)\ :}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ mBodyLockInterface(inBodyLockInterface),}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ mMutexMask(inBodyLockInterface.GetMutexMask(inBodyIDs,\ inNumber)),}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ mBodyIDs(inBodyIDs),}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ mNumBodyIDs(inNumber)}
\DoxyCodeLine{00025\ \ \ \ \ \{}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mMutexMask\ !=\ 0)}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ mutex}}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (Write)}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ inBodyLockInterface.LockWrite(mMutexMask);}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ inBodyLockInterface.LockRead(mMutexMask);}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00034\ \ \ \ \ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classBodyLockMultiBase_a609defeb89fbcc31c19ee6af88844601}{\string~BodyLockMultiBase}}()}
\DoxyCodeLine{00038\ \ \ \ \ \{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mMutexMask\ !=\ 0)}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (Write)}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mBodyLockInterface.UnlockWrite(mMutexMask);}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mBodyLockInterface.UnlockRead(mMutexMask);}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00046\ \ \ \ \ \}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keyword}{inline}\ BodyType\ *\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classBodyLockMultiBase_a4598ff93b693a8679203b4fc72965786}{GetBody}}(\textcolor{keywordtype}{int}\ inBodyIndex)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00050\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Range\ check}}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ JPH\_ASSERT(inBodyIndex\ >=\ 0\ \&\&\ inBodyIndex\ <\ mNumBodyIDs);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ body\ ID}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classBodyID}{BodyID}}\ \&body\_id\ =\ mBodyIDs[inBodyIndex];}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (body\_id.\mbox{\hyperlink{classBodyID_a0967deb4e1f200037bf32e14c4fec9e1}{IsInvalid}}())}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ a\ reference\ to\ the\ body\ or\ nullptr\ when\ it\ is\ no\ longer\ valid}}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mBodyLockInterface.\mbox{\hyperlink{classBodyLockInterface_a69aba1e1549e9bc55c1ccd4b68cc171a}{TryGetBody}}(body\_id);}
\DoxyCodeLine{00061\ \ \ \ \ \}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classBodyLockInterface}{BodyLockInterface}}\ \&\ \ mBodyLockInterface;}
\DoxyCodeLine{00065\ \ \ \ \ \mbox{\hyperlink{classBodyLockMultiBase_aed093a87a311d01a99c7818f4e766570}{MutexMask}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mMutexMask;}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classBodyID}{BodyID}}\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mBodyIDs;}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mNumBodyIDs;}
\DoxyCodeLine{00068\ \};}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00093\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classBodyLockMultiRead}{BodyLockMultiRead}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classBodyLockMultiBase}{BodyLockMultiBase}}<false,\ const\ Body>}
\DoxyCodeLine{00094\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classBodyLockMultiBase_a64d2906481b4018d8394f0d8cb199cc8}{BodyLockMultiBase::BodyLockMultiBase}};}
\DoxyCodeLine{00096\ \};}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00099\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classBodyLockMultiWrite}{BodyLockMultiWrite}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classBodyLockMultiBase}{BodyLockMultiBase}}<true,\ Body>}
\DoxyCodeLine{00100\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classBodyLockMultiBase_a64d2906481b4018d8394f0d8cb199cc8}{BodyLockMultiBase::BodyLockMultiBase}};}
\DoxyCodeLine{00102\ \};}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ JPH\_NAMESPACE\_END}

\end{DoxyCode}
