\doxysection{AABox4.\+h}
\hypertarget{AABox4_8h_source}{}\label{AABox4_8h_source}\index{includes/jolt/Geometry/AABox4.h@{includes/jolt/Geometry/AABox4.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Jolt\ Physics\ Library\ (https://github.com/jrouwe/JoltPhysics)}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ SPDX-\/FileCopyrightText:\ 2021\ Jorrit\ Rouwe}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ SPDX-\/License-\/Identifier:\ MIT}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <Jolt/Geometry/OrientedBox.h>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ JPH\_NAMESPACE\_BEGIN}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00013\ JPH\_INLINE\ \mbox{\hyperlink{classUVec4}{UVec4}}\ AABox4VsBox(\textcolor{keyword}{const}\ \mbox{\hyperlink{classAABox}{AABox}}\ \&inBox1,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBox2MinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBox2MinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBox2MinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBox2MaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBox2MaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBox2MaxZ)}
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{comment}{//\ Splat\ values\ of\ box\ 1}}
\DoxyCodeLine{00016\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ box1\_minx\ =\ inBox1.\mbox{\hyperlink{classAABox_a4082e61b6401d675d89d6b4944fd7911}{mMin}}.\mbox{\hyperlink{classVec3_a1b03f087ce2755a85ccba4ba56f1e64b}{SplatX}}();}
\DoxyCodeLine{00017\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ box1\_miny\ =\ inBox1.\mbox{\hyperlink{classAABox_a4082e61b6401d675d89d6b4944fd7911}{mMin}}.\mbox{\hyperlink{classVec3_aad5b4211a6d98be56362559eefd9b029}{SplatY}}();}
\DoxyCodeLine{00018\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ box1\_minz\ =\ inBox1.\mbox{\hyperlink{classAABox_a4082e61b6401d675d89d6b4944fd7911}{mMin}}.\mbox{\hyperlink{classVec3_a81f4448e17219aafda0e3b886709d1f4}{SplatZ}}();}
\DoxyCodeLine{00019\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ box1\_maxx\ =\ inBox1.mMax.\mbox{\hyperlink{classVec3_a1b03f087ce2755a85ccba4ba56f1e64b}{SplatX}}();}
\DoxyCodeLine{00020\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ box1\_maxy\ =\ inBox1.mMax.\mbox{\hyperlink{classVec3_aad5b4211a6d98be56362559eefd9b029}{SplatY}}();}
\DoxyCodeLine{00021\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ box1\_maxz\ =\ inBox1.mMax.\mbox{\hyperlink{classVec3_a81f4448e17219aafda0e3b886709d1f4}{SplatZ}}();}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{comment}{//\ Test\ separation\ over\ each\ axis}}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{classUVec4}{UVec4}}\ nooverlapx\ =\ \mbox{\hyperlink{classUVec4_a7a3a55e425174799fab88e508c62fa64}{UVec4::sOr}}(\mbox{\hyperlink{classVec4_a0f083eb84bb57838bafaa1074a5c292e}{Vec4::sGreater}}(box1\_minx,\ inBox2MaxX),\ \mbox{\hyperlink{classVec4_a0f083eb84bb57838bafaa1074a5c292e}{Vec4::sGreater}}(inBox2MinX,\ box1\_maxx));}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{classUVec4}{UVec4}}\ nooverlapy\ =\ \mbox{\hyperlink{classUVec4_a7a3a55e425174799fab88e508c62fa64}{UVec4::sOr}}(\mbox{\hyperlink{classVec4_a0f083eb84bb57838bafaa1074a5c292e}{Vec4::sGreater}}(box1\_miny,\ inBox2MaxY),\ \mbox{\hyperlink{classVec4_a0f083eb84bb57838bafaa1074a5c292e}{Vec4::sGreater}}(inBox2MinY,\ box1\_maxy));}
\DoxyCodeLine{00026\ \ \ \ \ \mbox{\hyperlink{classUVec4}{UVec4}}\ nooverlapz\ =\ \mbox{\hyperlink{classUVec4_a7a3a55e425174799fab88e508c62fa64}{UVec4::sOr}}(\mbox{\hyperlink{classVec4_a0f083eb84bb57838bafaa1074a5c292e}{Vec4::sGreater}}(box1\_minz,\ inBox2MaxZ),\ \mbox{\hyperlink{classVec4_a0f083eb84bb57838bafaa1074a5c292e}{Vec4::sGreater}}(inBox2MinZ,\ box1\_maxz));}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{comment}{//\ Return\ overlap}}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classUVec4_a089b92931aa8ae271a79f6c3684e647c}{UVec4::sNot}}(\mbox{\hyperlink{classUVec4_a7a3a55e425174799fab88e508c62fa64}{UVec4::sOr}}(\mbox{\hyperlink{classUVec4_a7a3a55e425174799fab88e508c62fa64}{UVec4::sOr}}(nooverlapx,\ nooverlapy),\ nooverlapz));}
\DoxyCodeLine{00030\ \}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00033\ JPH\_INLINE\ \textcolor{keywordtype}{void}\ AABox4Scale(\mbox{\hyperlink{classVec3}{Vec3Arg}}\ inScale,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxZ,\ \mbox{\hyperlink{classVec4}{Vec4}}\ \&outBoundsMinX,\ \mbox{\hyperlink{classVec4}{Vec4}}\ \&outBoundsMinY,\ \mbox{\hyperlink{classVec4}{Vec4}}\ \&outBoundsMinZ,\ \mbox{\hyperlink{classVec4}{Vec4}}\ \&outBoundsMaxX,\ \mbox{\hyperlink{classVec4}{Vec4}}\ \&outBoundsMaxY,\ \mbox{\hyperlink{classVec4}{Vec4}}\ \&outBoundsMaxZ)}
\DoxyCodeLine{00034\ \{}
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ scale\_x\ =\ inScale.\mbox{\hyperlink{classVec3_a1b03f087ce2755a85ccba4ba56f1e64b}{SplatX}}();}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ scaled\_min\_x\ =\ scale\_x\ *\ inBoxMinX;}
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ scaled\_max\_x\ =\ scale\_x\ *\ inBoxMaxX;}
\DoxyCodeLine{00038\ \ \ \ \ outBoundsMinX\ =\ \mbox{\hyperlink{classVec4_a85510ae45bcc02e079547de4bf4b6983}{Vec4::sMin}}(scaled\_min\_x,\ scaled\_max\_x);\ \textcolor{comment}{//\ Negative\ scale\ can\ flip\ min\ and\ max}}
\DoxyCodeLine{00039\ \ \ \ \ outBoundsMaxX\ =\ \mbox{\hyperlink{classVec4_ad41f746bf922376846050d932c0de23d}{Vec4::sMax}}(scaled\_min\_x,\ scaled\_max\_x);}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ scale\_y\ =\ inScale.\mbox{\hyperlink{classVec3_aad5b4211a6d98be56362559eefd9b029}{SplatY}}();}
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ scaled\_min\_y\ =\ scale\_y\ *\ inBoxMinY;}
\DoxyCodeLine{00043\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ scaled\_max\_y\ =\ scale\_y\ *\ inBoxMaxY;}
\DoxyCodeLine{00044\ \ \ \ \ outBoundsMinY\ =\ \mbox{\hyperlink{classVec4_a85510ae45bcc02e079547de4bf4b6983}{Vec4::sMin}}(scaled\_min\_y,\ scaled\_max\_y);}
\DoxyCodeLine{00045\ \ \ \ \ outBoundsMaxY\ =\ \mbox{\hyperlink{classVec4_ad41f746bf922376846050d932c0de23d}{Vec4::sMax}}(scaled\_min\_y,\ scaled\_max\_y);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ scale\_z\ =\ inScale.\mbox{\hyperlink{classVec3_a81f4448e17219aafda0e3b886709d1f4}{SplatZ}}();}
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ scaled\_min\_z\ =\ scale\_z\ *\ inBoxMinZ;}
\DoxyCodeLine{00049\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ scaled\_max\_z\ =\ scale\_z\ *\ inBoxMaxZ;}
\DoxyCodeLine{00050\ \ \ \ \ outBoundsMinZ\ =\ \mbox{\hyperlink{classVec4_a85510ae45bcc02e079547de4bf4b6983}{Vec4::sMin}}(scaled\_min\_z,\ scaled\_max\_z);}
\DoxyCodeLine{00051\ \ \ \ \ outBoundsMaxZ\ =\ \mbox{\hyperlink{classVec4_ad41f746bf922376846050d932c0de23d}{Vec4::sMax}}(scaled\_min\_z,\ scaled\_max\_z);}
\DoxyCodeLine{00052\ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00055\ JPH\_INLINE\ \textcolor{keywordtype}{void}\ AABox4EnlargeWithExtent(\mbox{\hyperlink{classVec3}{Vec3Arg}}\ inExtent,\ \mbox{\hyperlink{classVec4}{Vec4}}\ \&ioBoundsMinX,\ \mbox{\hyperlink{classVec4}{Vec4}}\ \&ioBoundsMinY,\ \mbox{\hyperlink{classVec4}{Vec4}}\ \&ioBoundsMinZ,\ \mbox{\hyperlink{classVec4}{Vec4}}\ \&ioBoundsMaxX,\ \mbox{\hyperlink{classVec4}{Vec4}}\ \&ioBoundsMaxY,\ \mbox{\hyperlink{classVec4}{Vec4}}\ \&ioBoundsMaxZ)}
\DoxyCodeLine{00056\ \{}
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ extent\_x\ =\ inExtent.\mbox{\hyperlink{classVec3_a1b03f087ce2755a85ccba4ba56f1e64b}{SplatX}}();}
\DoxyCodeLine{00058\ \ \ \ \ ioBoundsMinX\ -\/=\ extent\_x;}
\DoxyCodeLine{00059\ \ \ \ \ ioBoundsMaxX\ +=\ extent\_x;}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ extent\_y\ =\ inExtent.\mbox{\hyperlink{classVec3_aad5b4211a6d98be56362559eefd9b029}{SplatY}}();}
\DoxyCodeLine{00062\ \ \ \ \ ioBoundsMinY\ -\/=\ extent\_y;}
\DoxyCodeLine{00063\ \ \ \ \ ioBoundsMaxY\ +=\ extent\_y;}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ extent\_z\ =\ inExtent.\mbox{\hyperlink{classVec3_a81f4448e17219aafda0e3b886709d1f4}{SplatZ}}();}
\DoxyCodeLine{00066\ \ \ \ \ ioBoundsMinZ\ -\/=\ extent\_z;}
\DoxyCodeLine{00067\ \ \ \ \ ioBoundsMaxZ\ +=\ extent\_z;}
\DoxyCodeLine{00068\ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00071\ JPH\_INLINE\ \mbox{\hyperlink{classUVec4}{UVec4}}\ AABox4VsPoint(\mbox{\hyperlink{classVec3}{Vec3Arg}}\ inPoint,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxZ)}
\DoxyCodeLine{00072\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{comment}{//\ Splat\ point\ to\ 4\ component\ vectors}}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ point\_x\ =\ \mbox{\hyperlink{classVec4}{Vec4}}(inPoint).\mbox{\hyperlink{classVec4_a02525e7f8473c93268058324115eeb02}{SplatX}}();}
\DoxyCodeLine{00075\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ point\_y\ =\ \mbox{\hyperlink{classVec4}{Vec4}}(inPoint).\mbox{\hyperlink{classVec4_a7ea3bcf62a6055b45527f720a51d0005}{SplatY}}();}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ point\_z\ =\ \mbox{\hyperlink{classVec4}{Vec4}}(inPoint).\mbox{\hyperlink{classVec4_a8fcd8e6ed1b4cf308656cca7cf68d5ee}{SplatZ}}();}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{comment}{//\ Test\ if\ point\ overlaps\ with\ box}}
\DoxyCodeLine{00079\ \ \ \ \ \mbox{\hyperlink{classUVec4}{UVec4}}\ overlapx\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(\mbox{\hyperlink{classVec4_a81da488f59d4a7a84b8ad78fb9d9832d}{Vec4::sGreaterOrEqual}}(point\_x,\ inBoxMinX),\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}(point\_x,\ inBoxMaxX));}
\DoxyCodeLine{00080\ \ \ \ \ \mbox{\hyperlink{classUVec4}{UVec4}}\ overlapy\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(\mbox{\hyperlink{classVec4_a81da488f59d4a7a84b8ad78fb9d9832d}{Vec4::sGreaterOrEqual}}(point\_y,\ inBoxMinY),\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}(point\_y,\ inBoxMaxY));}
\DoxyCodeLine{00081\ \ \ \ \ \mbox{\hyperlink{classUVec4}{UVec4}}\ overlapz\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(\mbox{\hyperlink{classVec4_a81da488f59d4a7a84b8ad78fb9d9832d}{Vec4::sGreaterOrEqual}}(point\_z,\ inBoxMinZ),\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}(point\_z,\ inBoxMaxZ));}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{comment}{//\ Test\ if\ all\ are\ overlapping}}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(\mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(overlapx,\ overlapy),\ overlapz);}
\DoxyCodeLine{00085\ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00088\ JPH\_INLINE\ \mbox{\hyperlink{classUVec4}{UVec4}}\ AABox4VsBox(\mbox{\hyperlink{classMat44}{Mat44Arg}}\ inOrientation,\ \mbox{\hyperlink{classVec3}{Vec3Arg}}\ inHalfExtents,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxZ,\ \textcolor{keywordtype}{float}\ inEpsilon\ =\ 1.0e-\/6f)}
\DoxyCodeLine{00089\ \{}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{comment}{//\ Taken\ from:\ Real\ Time\ Collision\ Detection\ -\/\ Christer\ Ericson}}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{comment}{//\ Chapter\ 4.4.1,\ page\ 103-\/105.}}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{comment}{//\ Note\ that\ the\ code\ is\ swapped\ around:\ A\ is\ the\ aabox\ and\ B\ is\ the\ oriented\ box\ (this\ saves\ us\ from\ having\ to\ invert\ the\ orientation\ of\ the\ oriented\ box)}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//\ Compute\ translation\ vector\ t\ (the\ translation\ of\ B\ in\ the\ space\ of\ A)}}
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ t[3]\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ inOrientation.GetTranslation().\mbox{\hyperlink{classVec3_a1b03f087ce2755a85ccba4ba56f1e64b}{SplatX}}()\ -\/\ 0.5f\ *\ (inBoxMinX\ +\ inBoxMaxX),}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ inOrientation.GetTranslation().\mbox{\hyperlink{classVec3_aad5b4211a6d98be56362559eefd9b029}{SplatY}}()\ -\/\ 0.5f\ *\ (inBoxMinY\ +\ inBoxMaxY),}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ inOrientation.GetTranslation().\mbox{\hyperlink{classVec3_a81f4448e17219aafda0e3b886709d1f4}{SplatZ}}()\ -\/\ 0.5f\ *\ (inBoxMinZ\ +\ inBoxMaxZ)\ \};}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{comment}{//\ Compute\ common\ subexpressions.\ Add\ in\ an\ epsilon\ term\ to}}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{comment}{//\ counteract\ arithmetic\ errors\ when\ two\ edges\ are\ parallel\ and}}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ their\ cross\ product\ is\ (near)\ null\ (see\ text\ for\ details)}}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ epsilon\ =\ \mbox{\hyperlink{classVec3_ad6be51ce14811d6c196784d20cb39b98}{Vec3::sReplicate}}(inEpsilon);}
\DoxyCodeLine{00104\ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ abs\_r[3]\ \{\ inOrientation.\mbox{\hyperlink{classMat44_aa71942f9a684cf2e0e55f8c9ba8f5b99}{GetAxisX}}().\mbox{\hyperlink{classVec3_a60c863c1cdad322a1af54e77a4af8f02}{Abs}}()\ +\ epsilon,\ inOrientation.GetAxisY().\mbox{\hyperlink{classVec3_a60c863c1cdad322a1af54e77a4af8f02}{Abs}}()\ +\ epsilon,\ inOrientation.GetAxisZ().\mbox{\hyperlink{classVec3_a60c863c1cdad322a1af54e77a4af8f02}{Abs}}()\ +\ epsilon\ \};}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ Half\ extents\ for\ a}}
\DoxyCodeLine{00107\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ a\_half\_extents[3]\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ 0.5f\ *\ (inBoxMaxX\ -\/\ inBoxMinX),}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ 0.5f\ *\ (inBoxMaxY\ -\/\ inBoxMinY),}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ 0.5f\ *\ (inBoxMaxZ\ -\/\ inBoxMinZ)\ \};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{comment}{//\ Half\ extents\ of\ b}}
\DoxyCodeLine{00113\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ b\_half\_extents\_x\ =\ inHalfExtents.\mbox{\hyperlink{classVec3_a1b03f087ce2755a85ccba4ba56f1e64b}{SplatX}}();}
\DoxyCodeLine{00114\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ b\_half\_extents\_y\ =\ inHalfExtents.\mbox{\hyperlink{classVec3_aad5b4211a6d98be56362559eefd9b029}{SplatY}}();}
\DoxyCodeLine{00115\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ b\_half\_extents\_z\ =\ inHalfExtents.\mbox{\hyperlink{classVec3_a81f4448e17219aafda0e3b886709d1f4}{SplatZ}}();}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{comment}{//\ Each\ component\ corresponds\ to\ 1\ overlapping\ OBB\ vs\ ABB}}
\DoxyCodeLine{00118\ \ \ \ \ \mbox{\hyperlink{classUVec4}{UVec4}}\ overlaps\ =\ \mbox{\hyperlink{classUVec4}{UVec4}}(0xffffffff,\ 0xffffffff,\ 0xffffffff,\ 0xffffffff);}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{comment}{//\ Test\ axes\ L\ =\ A0,\ L\ =\ A1,\ L\ =\ A2}}
\DoxyCodeLine{00121\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ ra,\ rb;}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{00123\ \ \ \ \ \{}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ ra\ =\ a\_half\_extents[i];}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ rb\ =\ b\_half\_extents\_x\ *\ abs\_r[0][i]\ +\ b\_half\_extents\_y\ *\ abs\_r[1][i]\ +\ b\_half\_extents\_z\ *\ abs\_r[2][i];}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ overlaps\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(overlaps,\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}(t[i].Abs(),\ ra\ +\ rb));}
\DoxyCodeLine{00127\ \ \ \ \ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{comment}{//\ Test\ axes\ L\ =\ B0,\ L\ =\ B1,\ L\ =\ B2}}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{00131\ \ \ \ \ \{}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ ra\ =\ a\_half\_extents[0]\ *\ abs\_r[i][0]\ +\ a\_half\_extents[1]\ *\ abs\_r[i][1]\ +\ a\_half\_extents[2]\ *\ abs\_r[i][2];}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ rb\ =\ \mbox{\hyperlink{classVec4_af18f350dd2885dc48ff7e7cbf4b8bc9d}{Vec4::sReplicate}}(inHalfExtents[i]);}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ overlaps\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(overlaps,\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}((t[0]\ *\ inOrientation(0,\ i)\ +\ t[1]\ *\ inOrientation(1,\ i)\ +\ t[2]\ *\ inOrientation(2,\ i)).Abs(),\ ra\ +\ rb));}
\DoxyCodeLine{00135\ \ \ \ \ \}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{comment}{//\ Test\ axis\ L\ =\ A0\ x\ B0}}
\DoxyCodeLine{00138\ \ \ \ \ ra\ =\ a\_half\_extents[1]\ *\ abs\_r[0][2]\ +\ a\_half\_extents[2]\ *\ abs\_r[0][1];}
\DoxyCodeLine{00139\ \ \ \ \ rb\ =\ b\_half\_extents\_y\ *\ abs\_r[2][0]\ +\ b\_half\_extents\_z\ *\ abs\_r[1][0];}
\DoxyCodeLine{00140\ \ \ \ \ overlaps\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(overlaps,\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}((t[2]\ *\ inOrientation(1,\ 0)\ -\/\ t[1]\ *\ inOrientation(2,\ 0)).Abs(),\ ra\ +\ rb));}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{comment}{//\ Test\ axis\ L\ =\ A0\ x\ B1}}
\DoxyCodeLine{00143\ \ \ \ \ ra\ =\ a\_half\_extents[1]\ *\ abs\_r[1][2]\ +\ a\_half\_extents[2]\ *\ abs\_r[1][1];}
\DoxyCodeLine{00144\ \ \ \ \ rb\ =\ b\_half\_extents\_x\ *\ abs\_r[2][0]\ +\ b\_half\_extents\_z\ *\ abs\_r[0][0];}
\DoxyCodeLine{00145\ \ \ \ \ overlaps\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(overlaps,\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}((t[2]\ *\ inOrientation(1,\ 1)\ -\/\ t[1]\ *\ inOrientation(2,\ 1)).Abs(),\ ra\ +\ rb));}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{comment}{//\ Test\ axis\ L\ =\ A0\ x\ B2}}
\DoxyCodeLine{00148\ \ \ \ \ ra\ =\ a\_half\_extents[1]\ *\ abs\_r[2][2]\ +\ a\_half\_extents[2]\ *\ abs\_r[2][1];}
\DoxyCodeLine{00149\ \ \ \ \ rb\ =\ b\_half\_extents\_x\ *\ abs\_r[1][0]\ +\ b\_half\_extents\_y\ *\ abs\_r[0][0];}
\DoxyCodeLine{00150\ \ \ \ \ overlaps\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(overlaps,\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}((t[2]\ *\ inOrientation(1,\ 2)\ -\/\ t[1]\ *\ inOrientation(2,\ 2)).Abs(),\ ra\ +\ rb));}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{comment}{//\ Test\ axis\ L\ =\ A1\ x\ B0}}
\DoxyCodeLine{00153\ \ \ \ \ ra\ =\ a\_half\_extents[0]\ *\ abs\_r[0][2]\ +\ a\_half\_extents[2]\ *\ abs\_r[0][0];}
\DoxyCodeLine{00154\ \ \ \ \ rb\ =\ b\_half\_extents\_y\ *\ abs\_r[2][1]\ +\ b\_half\_extents\_z\ *\ abs\_r[1][1];}
\DoxyCodeLine{00155\ \ \ \ \ overlaps\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(overlaps,\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}((t[0]\ *\ inOrientation(2,\ 0)\ -\/\ t[2]\ *\ inOrientation(0,\ 0)).Abs(),\ ra\ +\ rb));}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{comment}{//\ Test\ axis\ L\ =\ A1\ x\ B1}}
\DoxyCodeLine{00158\ \ \ \ \ ra\ =\ a\_half\_extents[0]\ *\ abs\_r[1][2]\ +\ a\_half\_extents[2]\ *\ abs\_r[1][0];}
\DoxyCodeLine{00159\ \ \ \ \ rb\ =\ b\_half\_extents\_x\ *\ abs\_r[2][1]\ +\ b\_half\_extents\_z\ *\ abs\_r[0][1];}
\DoxyCodeLine{00160\ \ \ \ \ overlaps\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(overlaps,\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}((t[0]\ *\ inOrientation(2,\ 1)\ -\/\ t[2]\ *\ inOrientation(0,\ 1)).Abs(),\ ra\ +\ rb));}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{comment}{//\ Test\ axis\ L\ =\ A1\ x\ B2}}
\DoxyCodeLine{00163\ \ \ \ \ ra\ =\ a\_half\_extents[0]\ *\ abs\_r[2][2]\ +\ a\_half\_extents[2]\ *\ abs\_r[2][0];}
\DoxyCodeLine{00164\ \ \ \ \ rb\ =\ b\_half\_extents\_x\ *\ abs\_r[1][1]\ +\ b\_half\_extents\_y\ *\ abs\_r[0][1];}
\DoxyCodeLine{00165\ \ \ \ \ overlaps\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(overlaps,\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}((t[0]\ *\ inOrientation(2,\ 2)\ -\/\ t[2]\ *\ inOrientation(0,\ 2)).Abs(),\ ra\ +\ rb));}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{comment}{//\ Test\ axis\ L\ =\ A2\ x\ B0}}
\DoxyCodeLine{00168\ \ \ \ \ ra\ =\ a\_half\_extents[0]\ *\ abs\_r[0][1]\ +\ a\_half\_extents[1]\ *\ abs\_r[0][0];}
\DoxyCodeLine{00169\ \ \ \ \ rb\ =\ b\_half\_extents\_y\ *\ abs\_r[2][2]\ +\ b\_half\_extents\_z\ *\ abs\_r[1][2];}
\DoxyCodeLine{00170\ \ \ \ \ overlaps\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(overlaps,\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}((t[1]\ *\ inOrientation(0,\ 0)\ -\/\ t[0]\ *\ inOrientation(1,\ 0)).Abs(),\ ra\ +\ rb));}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{comment}{//\ Test\ axis\ L\ =\ A2\ x\ B1}}
\DoxyCodeLine{00173\ \ \ \ \ ra\ =\ a\_half\_extents[0]\ *\ abs\_r[1][1]\ +\ a\_half\_extents[1]\ *\ abs\_r[1][0];}
\DoxyCodeLine{00174\ \ \ \ \ rb\ =\ b\_half\_extents\_x\ *\ abs\_r[2][2]\ +\ b\_half\_extents\_z\ *\ abs\_r[0][2];}
\DoxyCodeLine{00175\ \ \ \ \ overlaps\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(overlaps,\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}((t[1]\ *\ inOrientation(0,\ 1)\ -\/\ t[0]\ *\ inOrientation(1,\ 1)).Abs(),\ ra\ +\ rb));}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{comment}{//\ Test\ axis\ L\ =\ A2\ x\ B2}}
\DoxyCodeLine{00178\ \ \ \ \ ra\ =\ a\_half\_extents[0]\ *\ abs\_r[2][1]\ +\ a\_half\_extents[1]\ *\ abs\_r[2][0];}
\DoxyCodeLine{00179\ \ \ \ \ rb\ =\ b\_half\_extents\_x\ *\ abs\_r[1][2]\ +\ b\_half\_extents\_y\ *\ abs\_r[0][2];}
\DoxyCodeLine{00180\ \ \ \ \ overlaps\ =\ \mbox{\hyperlink{classUVec4_a69a2126a24a31ead596e3316c1285145}{UVec4::sAnd}}(overlaps,\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}((t[1]\ *\ inOrientation(0,\ 2)\ -\/\ t[0]\ *\ inOrientation(1,\ 2)).Abs(),\ ra\ +\ rb));}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{comment}{//\ Return\ if\ the\ OBB\ vs\ AABBs\ are\ intersecting}}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordflow}{return}\ overlaps;}
\DoxyCodeLine{00184\ \}}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00187\ JPH\_INLINE\ \mbox{\hyperlink{classUVec4}{UVec4}}\ AABox4VsBox(\textcolor{keyword}{const}\ \mbox{\hyperlink{classOrientedBox}{OrientedBox}}\ \&inBox,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxZ,\ \textcolor{keywordtype}{float}\ inEpsilon\ =\ 1.0e-\/6f)}
\DoxyCodeLine{00188\ \{}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{keywordflow}{return}\ AABox4VsBox(inBox.\mbox{\hyperlink{classOrientedBox_a05fc57c2033ce0e75ef2bd9dbe0e0636}{mOrientation}},\ inBox.\mbox{\hyperlink{classOrientedBox_aea20adbf3c48427f78ea4c6dfa61fb60}{mHalfExtents}},\ inBoxMinX,\ inBoxMinY,\ inBoxMinZ,\ inBoxMaxX,\ inBoxMaxY,\ inBoxMaxZ,\ inEpsilon);}
\DoxyCodeLine{00190\ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00193\ JPH\_INLINE\ \mbox{\hyperlink{classUVec4}{UVec4}}\ AABox4VsSphere(\mbox{\hyperlink{classVec4}{Vec4Arg}}\ inCenterX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inCenterY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inCenterZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inRadiusSq,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxZ)}
\DoxyCodeLine{00194\ \{}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{comment}{//\ Get\ closest\ point\ on\ box}}
\DoxyCodeLine{00196\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ closest\_x\ =\ \mbox{\hyperlink{classVec4_a85510ae45bcc02e079547de4bf4b6983}{Vec4::sMin}}(\mbox{\hyperlink{classVec4_ad41f746bf922376846050d932c0de23d}{Vec4::sMax}}(inCenterX,\ inBoxMinX),\ inBoxMaxX);}
\DoxyCodeLine{00197\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ closest\_y\ =\ \mbox{\hyperlink{classVec4_a85510ae45bcc02e079547de4bf4b6983}{Vec4::sMin}}(\mbox{\hyperlink{classVec4_ad41f746bf922376846050d932c0de23d}{Vec4::sMax}}(inCenterY,\ inBoxMinY),\ inBoxMaxY);}
\DoxyCodeLine{00198\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ closest\_z\ =\ \mbox{\hyperlink{classVec4_a85510ae45bcc02e079547de4bf4b6983}{Vec4::sMin}}(\mbox{\hyperlink{classVec4_ad41f746bf922376846050d932c0de23d}{Vec4::sMax}}(inCenterZ,\ inBoxMinZ),\ inBoxMaxZ);}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{comment}{//\ Test\ the\ distance\ from\ the\ center\ of\ the\ sphere\ to\ the\ box\ is\ smaller\ than\ the\ radius}}
\DoxyCodeLine{00201\ \ \ \ \ \mbox{\hyperlink{classVec4}{Vec4}}\ distance\_sq\ =\ Square(closest\_x\ -\/\ inCenterX)\ +\ Square(closest\_y\ -\/\ inCenterY)\ +\ Square(closest\_z\ -\/\ inCenterZ);}
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classVec4_a4880dd63dffd8c23e5a692279d8a8762}{Vec4::sLessOrEqual}}(distance\_sq,\ inRadiusSq);}
\DoxyCodeLine{00203\ \}}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00206\ JPH\_INLINE\ \mbox{\hyperlink{classUVec4}{UVec4}}\ AABox4VsSphere(\mbox{\hyperlink{classVec3}{Vec3Arg}}\ inCenter,\ \textcolor{keywordtype}{float}\ inRadiusSq,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMinZ,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxX,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxY,\ \mbox{\hyperlink{classVec4}{Vec4Arg}}\ inBoxMaxZ)}
\DoxyCodeLine{00207\ \{}
\DoxyCodeLine{00208\ \ \ \ \ \textcolor{keywordflow}{return}\ AABox4VsSphere(inCenter.\mbox{\hyperlink{classVec3_a1b03f087ce2755a85ccba4ba56f1e64b}{SplatX}}(),\ inCenter.\mbox{\hyperlink{classVec3_aad5b4211a6d98be56362559eefd9b029}{SplatY}}(),\ inCenter.\mbox{\hyperlink{classVec3_a81f4448e17219aafda0e3b886709d1f4}{SplatZ}}(),\ \mbox{\hyperlink{classVec4_af18f350dd2885dc48ff7e7cbf4b8bc9d}{Vec4::sReplicate}}(inRadiusSq),\ inBoxMinX,\ inBoxMinY,\ inBoxMinZ,\ inBoxMaxX,\ inBoxMaxY,\ inBoxMaxZ);}
\DoxyCodeLine{00209\ \}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ JPH\_NAMESPACE\_END}

\end{DoxyCode}
