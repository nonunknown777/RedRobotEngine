\doxysection{Sphere.\+h}
\hypertarget{Sphere_8h_source}{}\label{Sphere_8h_source}\index{includes/jolt/Geometry/Sphere.h@{includes/jolt/Geometry/Sphere.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Jolt\ Physics\ Library\ (https://github.com/jrouwe/JoltPhysics)}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ SPDX-\/FileCopyrightText:\ 2021\ Jorrit\ Rouwe}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ SPDX-\/License-\/Identifier:\ MIT}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <Jolt/Geometry/AABox.h>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ JPH\_NAMESPACE\_BEGIN}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{class\ }[[nodiscard]]\ \mbox{\hyperlink{classSphere}{Sphere}}}
\DoxyCodeLine{00012\ \{}
\DoxyCodeLine{00013\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00014\ \ \ \ \ JPH\_OVERRIDE\_NEW\_DELETE}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{inline}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSphere_a1c4a9559681c92e3520ba68310805a06}{Sphere}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keyword}{inline}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSphere}{Sphere}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFloat3}{Float3}}\ \&inCenter,\ \textcolor{keywordtype}{float}\ inRadius)\ \ \ \ \ \ \ \ \ \ :\ mCenter(inCenter),\ mRadius(inRadius)\ \{\ \}}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keyword}{inline}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSphere}{Sphere}}(\mbox{\hyperlink{classVec3}{Vec3Arg}}\ inCenter,\ \textcolor{keywordtype}{float}\ inRadius)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ mRadius(inRadius)\ \{\ inCenter.\mbox{\hyperlink{classVec3_ab22c62c48d2de13947c0cd3413018364}{StoreFloat3}}(\&mCenter);\ \}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classVec3}{Vec3}}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSphere_a3ccfa118fbdbd2c7346d3f7f9d29595e}{GetSupport}}(\mbox{\hyperlink{classVec3}{Vec3Arg}}\ inDirection)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00023\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ length\ =\ inDirection.\mbox{\hyperlink{classVec3_a38a9efffc3f9413f3dd702abc73eb9a2}{Length}}();}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ length\ >\ 0.0f\ ?\ \mbox{\hyperlink{classVec3_aea30fe731618ffa249ecdcba2c66ab4e}{Vec3::sLoadFloat3Unsafe}}(mCenter)\ +\ (mRadius/\ length)\ *\ inDirection\ :\ \mbox{\hyperlink{classVec3_aea30fe731618ffa249ecdcba2c66ab4e}{Vec3::sLoadFloat3Unsafe}}(mCenter);}
\DoxyCodeLine{00026\ \ \ \ \ \}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{comment}{//\ Properties}}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classVec3}{Vec3}}\ \ \ \ \ \ \ \ \ GetCenter()\textcolor{keyword}{\ const\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classVec3_aea30fe731618ffa249ecdcba2c66ab4e}{Vec3::sLoadFloat3Unsafe}}(mCenter);\ \}}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{float}\ \ \ \ \ \ \ \ GetRadius()\textcolor{keyword}{\ const\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ mRadius;\ \}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSphere_a6aa30078ee8ea3742c9df2aa2cfbcb2c}{Overlaps}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classSphere}{Sphere}}\ \&inB)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00034\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classVec3_aea30fe731618ffa249ecdcba2c66ab4e}{Vec3::sLoadFloat3Unsafe}}(mCenter)\ -\/\ \mbox{\hyperlink{classVec3_aea30fe731618ffa249ecdcba2c66ab4e}{Vec3::sLoadFloat3Unsafe}}(inB.mCenter)).LengthSq()\ <=\ Square(mRadius\ +\ inB.mRadius);}
\DoxyCodeLine{00036\ \ \ \ \ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSphere_a0b2393b6b42f0efdf33ae666b3fac39f}{Overlaps}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classAABox}{AABox}}\ \&inOther)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00040\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ inOther.\mbox{\hyperlink{classAABox_a9d68bc754580c6a3055ce4e6a305460f}{GetSqDistanceTo}}(GetCenter())\ <=\ Square(mRadius);}
\DoxyCodeLine{00042\ \ \ \ \ \}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classSphere_ae662c4e0d3f338fe5c5bfa844aaa22ea}{EncapsulatePoint}}(\mbox{\hyperlink{classVec3}{Vec3Arg}}\ inPoint)}
\DoxyCodeLine{00046\ \ \ \ \ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Calculate\ distance\ between\ point\ and\ center}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ center\ =\ GetCenter();}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classVec3}{Vec3}}\ d\_vec\ =\ inPoint\ -\/\ center;}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ d\_sq\ =\ d\_vec.\mbox{\hyperlink{classVec3_aba501a6a474028084799f871c9083dc1}{LengthSq}}();}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (d\_sq\ >\ Square(mRadius))}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ It\ is\ further\ away\ than\ radius,\ we\ need\ to\ widen\ the\ sphere}}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ diameter\ of\ the\ new\ sphere\ is\ radius\ +\ d,\ so\ the\ new\ radius\ is\ half\ of\ that}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ d\ =\ sqrt(d\_sq);}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ radius\ =\ 0.5f\ *\ (mRadius\ +\ d);}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ center\ needs\ to\ shift\ by\ new\ radius\ -\/\ old\ radius\ in\ the\ direction\ of\ d}}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ center\ +=\ (radius\ -\/\ mRadius)\ /\ d\ *\ d\_vec;}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Store\ new\ sphere}}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ center.\mbox{\hyperlink{classVec3_ab22c62c48d2de13947c0cd3413018364}{StoreFloat3}}(\&mCenter);}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ mRadius\ =\ radius;}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00065\ \ \ \ \ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{classFloat3}{Float3}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mCenter;}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordtype}{float}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mRadius;}
\DoxyCodeLine{00070\ \};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ JPH\_NAMESPACE\_END}

\end{DoxyCode}
