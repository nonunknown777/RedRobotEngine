\doxysection{Height\+Field\+Shape Class Reference}
\hypertarget{classHeightFieldShape}{}\label{classHeightFieldShape}\index{HeightFieldShape@{HeightFieldShape}}


A height field shape. Cannot be used as a dynamic object.  




{\ttfamily \#include $<$Height\+Field\+Shape.\+h$>$}



Inheritance diagram for Height\+Field\+Shape\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d1/dfc/classHeightFieldShape__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Height\+Field\+Shape\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d3/dfc/classHeightFieldShape__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classHeightFieldShape_aa3defa4f1ee1a3e606a4dbe41cd6f515}\label{classHeightFieldShape_aa3defa4f1ee1a3e606a4dbe41cd6f515} 
JPH\+\_\+\+OVERRIDE\+\_\+\+NEW\+\_\+\+DELETE {\bfseries Height\+Field\+Shape} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\Hypertarget{classHeightFieldShape_a1f6a09590e095c6950e7afff423aa0a7}\label{classHeightFieldShape_a1f6a09590e095c6950e7afff423aa0a7} 
{\bfseries Height\+Field\+Shape} (const \mbox{\hyperlink{classHeightFieldShapeSettings}{Height\+Field\+Shape\+Settings}} \&in\+Settings, \mbox{\hyperlink{classResult}{Shape\+Result}} \&out\+Result)
\item 
virtual bool \mbox{\hyperlink{classHeightFieldShape_ab850b5af741a24d3abc431d4b73d7caf}{Must\+Be\+Static}} () const override
\begin{DoxyCompactList}\small\item\em Check if this shape can only be used to create a static body or if it can also be dynamic/kinematic. \end{DoxyCompactList}\item 
\Hypertarget{classHeightFieldShape_a574a78817c0d2bfe1b46dc7e1ca2c9a5}\label{classHeightFieldShape_a574a78817c0d2bfe1b46dc7e1ca2c9a5} 
uint {\bfseries Get\+Sample\+Count} () const
\begin{DoxyCompactList}\small\item\em Get the size of the height field. Note that this will always be rounded up to the nearest multiple of \doxylink{classHeightFieldShape_ad67c93d5bb0e12774afb528509767a7e}{Get\+Block\+Size()}. \end{DoxyCompactList}\item 
\Hypertarget{classHeightFieldShape_ad67c93d5bb0e12774afb528509767a7e}\label{classHeightFieldShape_ad67c93d5bb0e12774afb528509767a7e} 
uint {\bfseries Get\+Block\+Size} () const
\begin{DoxyCompactList}\small\item\em Get the size of a block. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classAABox}{AABox}} \mbox{\hyperlink{classHeightFieldShape_ac416d47a2e131dd7d490a6b13ab9cc74}{Get\+Local\+Bounds}} () const override
\begin{DoxyCompactList}\small\item\em Get local bounding box including convex radius, this box is centered around the center of mass rather than the world transform. \end{DoxyCompactList}\item 
virtual uint \mbox{\hyperlink{classHeightFieldShape_ab7c2e6fc0f60fa4290474d758473b3ab}{Get\+Sub\+Shape\+IDBits\+Recursive}} () const override
\begin{DoxyCompactList}\small\item\em Get the max number of sub shape ID bits that are needed to be able to address any leaf shape in this shape. Used mainly for checking that it is smaller or equal than \doxylink{classSubShapeID_a74d6785fe41b99c0d783fb6e66c39f4d}{Sub\+Shape\+ID\+::\+Max\+Bits}. \end{DoxyCompactList}\item 
virtual float \mbox{\hyperlink{classHeightFieldShape_a6546d622ca1ff86ea3c3cf7dc39753d3}{Get\+Inner\+Radius}} () const override
\item 
virtual \mbox{\hyperlink{classMassProperties}{Mass\+Properties}} \mbox{\hyperlink{classHeightFieldShape_acb87be8952e30539b4da5b219c1b0d05}{Get\+Mass\+Properties}} () const override
\begin{DoxyCompactList}\small\item\em Calculate the mass and inertia of this shape. \end{DoxyCompactList}\item 
virtual const \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classHeightFieldShape_a184fbdeea49ebc60dca382f0288e86e7}{Get\+Material}} (const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&in\+Sub\+Shape\+ID) const override
\begin{DoxyCompactList}\small\item\em Get the material assigned to a particular sub shape ID. \end{DoxyCompactList}\item 
\Hypertarget{classHeightFieldShape_aceccce9f2e21821c5e4f34c6f1e556b1}\label{classHeightFieldShape_aceccce9f2e21821c5e4f34c6f1e556b1} 
const \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} \texorpdfstring{$\ast$}{*} {\bfseries Get\+Material} (uint inX, uint inY) const
\begin{DoxyCompactList}\small\item\em Overload to get the material at a particular location. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classVec3}{Vec3}} \mbox{\hyperlink{classHeightFieldShape_a3c8805d1ace6baaae1d399dd9eb8ba60}{Get\+Surface\+Normal}} (const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&in\+Sub\+Shape\+ID, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Local\+Surface\+Position) const override
\item 
virtual void \mbox{\hyperlink{classHeightFieldShape_afa5a9b8f5df9b2b8e33e8e1b268c6983}{Get\+Supporting\+Face}} (const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&in\+Sub\+Shape\+ID, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Direction, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale, \mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classShape_a95d3060318d33c1ef314c5b856a70cb8}{Supporting\+Face}} \&out\+Vertices) const override
\item 
\Hypertarget{classHeightFieldShape_ab7cc33f5afd734cf43238fe8550cc069}\label{classHeightFieldShape_ab7cc33f5afd734cf43238fe8550cc069} 
virtual void {\bfseries Get\+Submerged\+Volume} (\mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale, const \mbox{\hyperlink{classPlane}{Plane}} \&in\+Surface, float \&out\+Total\+Volume, float \&out\+Submerged\+Volume, \mbox{\hyperlink{classVec3}{Vec3}} \&out\+Center\+Of\+Buoyancy JPH\+\_\+\+IF\+\_\+\+DEBUG\+\_\+\+RENDERER(, \mbox{\hyperlink{classVec3}{RVec3\+Arg}} in\+Base\+Offset)) const override
\item 
virtual bool \mbox{\hyperlink{classHeightFieldShape_aa711d40a7ae29c563427f98233b664cc}{Cast\+Ray}} (const \mbox{\hyperlink{structRayCast}{Ray\+Cast}} \&in\+Ray, const \mbox{\hyperlink{classSubShapeIDCreator}{Sub\+Shape\+IDCreator}} \&in\+Sub\+Shape\+IDCreator, \mbox{\hyperlink{classRayCastResult}{Ray\+Cast\+Result}} \&io\+Hit) const override
\item 
virtual void \mbox{\hyperlink{classHeightFieldShape_ab9f32d7526764018b65ce9dd4820cd5c}{Cast\+Ray}} (const \mbox{\hyperlink{structRayCast}{Ray\+Cast}} \&in\+Ray, const \mbox{\hyperlink{classRayCastSettings}{Ray\+Cast\+Settings}} \&in\+Ray\+Cast\+Settings, const \mbox{\hyperlink{classSubShapeIDCreator}{Sub\+Shape\+IDCreator}} \&in\+Sub\+Shape\+IDCreator, \mbox{\hyperlink{classCollisionCollector}{Cast\+Ray\+Collector}} \&io\+Collector, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter=\{ \}) const override
\item 
virtual void \mbox{\hyperlink{classHeightFieldShape_a0ef4e39a103aada86908f80569553db6}{Collide\+Point}} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Point, const \mbox{\hyperlink{classSubShapeIDCreator}{Sub\+Shape\+IDCreator}} \&in\+Sub\+Shape\+IDCreator, \mbox{\hyperlink{classCollisionCollector}{Collide\+Point\+Collector}} \&io\+Collector, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter=\{ \}) const override
\item 
virtual void \mbox{\hyperlink{classHeightFieldShape_ae7ea99a3a32493dfa71f26892f29cead}{Collide\+Soft\+Body\+Vertices}} (\mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale, \mbox{\hyperlink{classSoftBodyVertex}{Soft\+Body\+Vertex}} \texorpdfstring{$\ast$}{*}io\+Vertices, uint in\+Num\+Vertices, float in\+Delta\+Time, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Displacement\+Due\+To\+Gravity, int in\+Colliding\+Shape\+Index) const override
\item 
virtual void \mbox{\hyperlink{classHeightFieldShape_a48e5e391e7c6e960fe1485f242496f66}{Get\+Triangles\+Start}} (\mbox{\hyperlink{structShape_1_1GetTrianglesContext}{Get\+Triangles\+Context}} \&io\+Context, const \mbox{\hyperlink{classAABox}{AABox}} \&in\+Box, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Position\+COM, \mbox{\hyperlink{classQuat}{Quat\+Arg}} in\+Rotation, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale) const override
\item 
virtual int \mbox{\hyperlink{classHeightFieldShape_a80530bc404f0d11b8cd804311426fb92}{Get\+Triangles\+Next}} (\mbox{\hyperlink{structShape_1_1GetTrianglesContext}{Get\+Triangles\+Context}} \&io\+Context, int in\+Max\+Triangles\+Requested, \mbox{\hyperlink{classFloat3}{Float3}} \texorpdfstring{$\ast$}{*}out\+Triangle\+Vertices, const \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}out\+Materials=nullptr) const override
\item 
\mbox{\hyperlink{classVec3}{Vec3}} \mbox{\hyperlink{classHeightFieldShape_a402509e2c2280d728b9e0a1290e680ba}{Get\+Position}} (uint inX, uint inY) const
\item 
\Hypertarget{classHeightFieldShape_abc679be9c4d45bd5217dc7ef9a1b1511}\label{classHeightFieldShape_abc679be9c4d45bd5217dc7ef9a1b1511} 
bool {\bfseries Is\+No\+Collision} (uint inX, uint inY) const
\begin{DoxyCompactList}\small\item\em Check if height field at sampled location (inX, inY) has collision (has a hole or not) \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classHeightFieldShape_a177f33234760b2fcf48a9b23e8a17fec}{Project\+Onto\+Surface}} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Local\+Position, \mbox{\hyperlink{classVec3}{Vec3}} \&out\+Surface\+Position, \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&out\+Sub\+Shape\+ID) const
\item 
void \mbox{\hyperlink{classHeightFieldShape_ae7f91dfccc248ac4a5f558acc788d461}{Get\+Heights}} (uint inX, uint inY, uint in\+SizeX, uint in\+SizeY, float \texorpdfstring{$\ast$}{*}out\+Heights, uint in\+Heights\+Stride) const
\item 
void \mbox{\hyperlink{classHeightFieldShape_afe91487842b1dc4fea520e677393cf4c}{Set\+Heights}} (uint inX, uint inY, uint in\+SizeX, uint in\+SizeY, const float \texorpdfstring{$\ast$}{*}in\+Heights, uint in\+Heights\+Stride, \mbox{\hyperlink{classTempAllocator}{Temp\+Allocator}} \&in\+Allocator, float in\+Active\+Edge\+Cos\+Threshold\+Angle=0.\+996195f)
\item 
virtual void \mbox{\hyperlink{classHeightFieldShape_af894acfc2c008687d3aa5062898df018}{Save\+Binary\+State}} (\mbox{\hyperlink{classStreamOut}{Stream\+Out}} \&in\+Stream) const override
\begin{DoxyCompactList}\small\item\em Saves the contents of the shape in binary form to in\+Stream. \end{DoxyCompactList}\item 
\Hypertarget{classHeightFieldShape_a5390ba67b26c28c898233ed661dc0dab}\label{classHeightFieldShape_a5390ba67b26c28c898233ed661dc0dab} 
virtual void {\bfseries Save\+Material\+State} (Physics\+Material\+List \&out\+Materials) const override
\item 
virtual void \mbox{\hyperlink{classHeightFieldShape_a795157310bf9e6b1cadbfd14ced0851b}{Restore\+Material\+State}} (const \mbox{\hyperlink{classRefConst}{Physics\+Material\+RefC}} \texorpdfstring{$\ast$}{*}in\+Materials, uint in\+Num\+Materials) override
\begin{DoxyCompactList}\small\item\em Restore the material references after calling s\+Restore\+From\+Binary\+State. Note that the exact same materials need to be provided in the same order as returned by Save\+Material\+State. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{structShape_1_1Stats}{Stats}} \mbox{\hyperlink{classHeightFieldShape_a3fb0aa9432c2f37fd49b809f3a37bb78}{Get\+Stats}} () const override
\begin{DoxyCompactList}\small\item\em Get stats of this shape. Use for logging / data collection purposes only. Does not add values from child shapes, use Get\+Stats\+Recursive for this. \end{DoxyCompactList}\item 
virtual float \mbox{\hyperlink{classHeightFieldShape_aefe0c0c9d3017a94ac8835e84e698e9a}{Get\+Volume}} () const override
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classShape}{Shape}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Shape} (EShape\+Type in\+Type, EShape\+Sub\+Type in\+Sub\+Type)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
{\bfseries Shape} (EShape\+Type in\+Type, EShape\+Sub\+Type in\+Sub\+Type, const \mbox{\hyperlink{classShapeSettings}{Shape\+Settings}} \&in\+Settings, \mbox{\hyperlink{classResult}{Shape\+Result}} \&out\+Result)
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+Shape} ()=default
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
EShape\+Type {\bfseries Get\+Type} () const
\begin{DoxyCompactList}\small\item\em Get type. \end{DoxyCompactList}\item 
EShape\+Sub\+Type {\bfseries Get\+Sub\+Type} () const
\item 
uint64 {\bfseries Get\+User\+Data} () const
\begin{DoxyCompactList}\small\item\em User data (to be used freely by the application) \end{DoxyCompactList}\item 
void {\bfseries Set\+User\+Data} (uint64 in\+User\+Data)
\item 
virtual \mbox{\hyperlink{classVec3}{Vec3}} \mbox{\hyperlink{classShape_a7e34b0626a40c31db0b2a761922adb1a}{Get\+Center\+Of\+Mass}} () const
\begin{DoxyCompactList}\small\item\em All shapes are centered around their center of mass. This function returns the center of mass position that needs to be applied to transform the shape to where it was created. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classAABox}{AABox}} \mbox{\hyperlink{classShape_a9f8379fa338802436700b86a07fab3be}{Get\+World\+Space\+Bounds}} (\mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale) const
\item 
\mbox{\hyperlink{classAABox}{AABox}} {\bfseries Get\+World\+Space\+Bounds} (\mbox{\hyperlink{classDMat44}{DMat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale) const
\begin{DoxyCompactList}\small\item\em Get world space bounds including convex radius. \end{DoxyCompactList}\item 
virtual uint64 \mbox{\hyperlink{classShape_a29de5bb2f770d7e521f0d939436faa1b}{Get\+Sub\+Shape\+User\+Data}} (const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&in\+Sub\+Shape\+ID) const
\begin{DoxyCompactList}\small\item\em Get the user data of a particular sub shape ID. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classTransformedShape}{Transformed\+Shape}} \mbox{\hyperlink{classShape_a80ec65fef5853ea01cad86e528bdca5d}{Get\+Sub\+Shape\+Transformed\+Shape}} (const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&in\+Sub\+Shape\+ID, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Position\+COM, \mbox{\hyperlink{classQuat}{Quat\+Arg}} in\+Rotation, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale, \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&out\+Remainder) const
\item 
virtual void \mbox{\hyperlink{classShape_ab3ab834243d410f4074036264928f0ff}{Get\+Submerged\+Volume}} (\mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale, const \mbox{\hyperlink{classPlane}{Plane}} \&in\+Surface, float \&out\+Total\+Volume, float \&out\+Submerged\+Volume, \mbox{\hyperlink{classVec3}{Vec3}} \&out\+Center\+Of\+Buoyancy) const =0
\item 
virtual void \mbox{\hyperlink{classShape_a878715858fc2494068183d9eb82d16b0}{Collect\+Transformed\+Shapes}} (const \mbox{\hyperlink{classAABox}{AABox}} \&in\+Box, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Position\+COM, \mbox{\hyperlink{classQuat}{Quat\+Arg}} in\+Rotation, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale, const \mbox{\hyperlink{classSubShapeIDCreator}{Sub\+Shape\+IDCreator}} \&in\+Sub\+Shape\+IDCreator, \mbox{\hyperlink{classCollisionCollector}{Transformed\+Shape\+Collector}} \&io\+Collector, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter) const
\item 
virtual void \mbox{\hyperlink{classShape_afad198eea6c3e9e08a5e8f8d646817a0}{Transform\+Shape}} (\mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classCollisionCollector}{Transformed\+Shape\+Collector}} \&io\+Collector) const
\item 
\mbox{\hyperlink{classResult}{Shape\+Result}} \mbox{\hyperlink{classShape_aca293aaf9bb3c999ad09687e11bfd70f}{Scale\+Shape}} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale) const
\item 
virtual \mbox{\hyperlink{structShape_1_1Stats}{Stats}} \mbox{\hyperlink{classShape_acd7b07e3fae19adc5836905a138552bc}{Get\+Stats\+Recursive}} (Visited\+Shapes \&io\+Visited\+Shapes) const
\begin{DoxyCompactList}\small\item\em Volume of this shape (m\texorpdfstring{$^\wedge$}{\string^}3). Note that for compound shapes the volume may be incorrect since child shapes can overlap which is not accounted for. \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{classShape_a705685386feede5b6e0473ee00f5cdc1}{Is\+Valid\+Scale}} (\mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual void {\bfseries Save\+Material\+State} (Physics\+Material\+List \&out\+Materials) const
\begin{DoxyCompactList}\small\item\em Outputs the material references that this shape has to out\+Materials. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classShape_a09215d250a425cca2e9b4bed32761bc4}{Save\+Sub\+Shape\+State}} (Shape\+List \&out\+Sub\+Shapes) const
\begin{DoxyCompactList}\small\item\em Outputs the shape references that this shape has to out\+Sub\+Shapes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classShape_ab4de39f5e4972919f1211ec73520b1d8}{Restore\+Sub\+Shape\+State}} (const \mbox{\hyperlink{classRefConst}{Shape\+RefC}} \texorpdfstring{$\ast$}{*}in\+Sub\+Shapes, uint in\+Num\+Shapes)
\begin{DoxyCompactList}\small\item\em Restore the shape references after calling s\+Restore\+From\+Binary\+State. Note that the exact same shapes need to be provided in the same order as returned by Save\+Sub\+Shape\+State. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
void {\bfseries Save\+With\+Children} (\mbox{\hyperlink{classStreamOut}{Stream\+Out}} \&in\+Stream, Shape\+To\+IDMap \&io\+Shape\+Map, Material\+To\+IDMap \&io\+Material\+Map) const
\begin{DoxyCompactList}\small\item\em Save this shape, all its children and its materials. Pass in an empty map in io\+Shape\+Map / io\+Material\+Map or reuse the same map while saving multiple shapes to the same stream in order to avoid writing duplicates. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classRefTarget}{Ref\+Target$<$ Shape $>$}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Ref\+Target} ()=default
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
{\bfseries Ref\+Target} (const \mbox{\hyperlink{classRefTarget}{Ref\+Target}} \&)
\item 
{\bfseries \texorpdfstring{$\sim$}{\string~}\+Ref\+Target} ()
\begin{DoxyCompactList}\small\item\em assert no one is referencing us \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classRefTarget_a3befa746ea517453572f6f4f5fc3b099}{Set\+Embedded}} () const
\item 
\mbox{\hyperlink{classRefTarget}{Ref\+Target}} \& {\bfseries operator=} (const \mbox{\hyperlink{classRefTarget}{Ref\+Target}} \&)
\begin{DoxyCompactList}\small\item\em Assignment operator. \end{DoxyCompactList}\item 
uint32 {\bfseries Get\+Ref\+Count} () const
\begin{DoxyCompactList}\small\item\em Get current refcount of this object. \end{DoxyCompactList}\item 
void {\bfseries Add\+Ref} () const
\begin{DoxyCompactList}\small\item\em Add or release a reference to this object. \end{DoxyCompactList}\item 
void {\bfseries Release} () const
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classNonCopyable}{Non\+Copyable}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Non\+Copyable} (const \mbox{\hyperlink{classNonCopyable}{Non\+Copyable}} \&)=delete
\item 
void {\bfseries operator=} (const \mbox{\hyperlink{classNonCopyable}{Non\+Copyable}} \&)=delete
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classHeightFieldShape_af3329a514758e5183b47ba29f6ffd869}\label{classHeightFieldShape_af3329a514758e5183b47ba29f6ffd869} 
static void {\bfseries s\+Register} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions inherited from \mbox{\hyperlink{classShape}{Shape}}}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classResult}{Shape\+Result}} {\bfseries s\+Restore\+From\+Binary\+State} (\mbox{\hyperlink{classStreamIn}{Stream\+In}} \&in\+Stream)
\begin{DoxyCompactList}\small\item\em Creates a \doxylink{classShape}{Shape} of the correct type and restores its contents from the binary stream in\+Stream. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classResult}{Shape\+Result}} {\bfseries s\+Restore\+With\+Children} (\mbox{\hyperlink{classStreamIn}{Stream\+In}} \&in\+Stream, IDTo\+Shape\+Map \&io\+Shape\+Map, IDTo\+Material\+Map \&io\+Material\+Map)
\begin{DoxyCompactList}\small\item\em Restore a shape, all its children and materials. Pass in an empty map in io\+Shape\+Map / io\+Material\+Map or reuse the same map while reading multiple shapes from the same stream in order to restore duplicates. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions inherited from \mbox{\hyperlink{classRefTarget}{Ref\+Target$<$ Shape $>$}}}
\begin{DoxyCompactItemize}
\item 
static int {\bfseries s\+Internal\+Get\+Ref\+Count\+Offset} ()
\begin{DoxyCompactList}\small\item\em INTERNAL HELPER FUNCTION USED BY SERIALIZATION. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classHeightFieldShape_aa37a7106a6f4527f65d9fbe28d192d27}{Restore\+Binary\+State}} (\mbox{\hyperlink{classStreamIn}{Stream\+In}} \&in\+Stream) override
\begin{DoxyCompactList}\small\item\em This function should not be called directly, it is used by s\+Restore\+From\+Binary\+State. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{classShape}{Shape}}}
\begin{DoxyCompactItemize}
\item 
using {\bfseries Shape\+Result} = \mbox{\hyperlink{classResult}{Shape\+Settings\+::\+Shape\+Result}}
\item 
using {\bfseries Supporting\+Face} = \mbox{\hyperlink{classStaticArray}{Static\+Array}}$<$ \mbox{\hyperlink{classVec3}{Vec3}}, 32 $>$
\begin{DoxyCompactList}\small\item\em Type definition for a supporting face. \end{DoxyCompactList}\item 
using {\bfseries Visited\+Shapes} = Unordered\+Set$<$ const \mbox{\hyperlink{classShape}{Shape}} \texorpdfstring{$\ast$}{*} $>$
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
using {\bfseries Shape\+To\+IDMap} = Stream\+Utils\+::\+Object\+To\+IDMap$<$ \mbox{\hyperlink{classShape}{Shape}} $>$
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
using {\bfseries IDTo\+Shape\+Map} = Stream\+Utils\+::\+IDTo\+Object\+Map$<$ \mbox{\hyperlink{classShape}{Shape}} $>$
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
using {\bfseries Material\+To\+IDMap} = Stream\+Utils\+::\+Object\+To\+IDMap$<$ \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} $>$
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
using {\bfseries IDTo\+Material\+Map} = Stream\+Utils\+::\+IDTo\+Object\+Map$<$ \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} $>$
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes inherited from \mbox{\hyperlink{classShape}{Shape}}}
\begin{DoxyCompactItemize}
\item 
static constexpr int {\bfseries c\+Get\+Triangles\+Min\+Triangles\+Requested} = 32
\begin{DoxyCompactList}\small\item\em This is the minimum amount of triangles that should be requested through Get\+Triangles\+Next. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Protected Member Functions inherited from \mbox{\hyperlink{classShape}{Shape}}}
\begin{DoxyCompactItemize}
\item 
static void {\bfseries s\+Collide\+Point\+Using\+Ray\+Cast} (const \mbox{\hyperlink{classShape}{Shape}} \&in\+Shape, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Point, const \mbox{\hyperlink{classSubShapeIDCreator}{Sub\+Shape\+IDCreator}} \&in\+Sub\+Shape\+IDCreator, \mbox{\hyperlink{classCollisionCollector}{Collide\+Point\+Collector}} \&io\+Collector, const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&in\+Shape\+Filter)
\begin{DoxyCompactList}\small\item\em A fallback version of Collide\+Point that uses a ray cast and counts the number of hits to determine if the point is inside the shape. Odd number of hits means inside, even number of hits means outside. \end{DoxyCompactList}\item 
static void {\bfseries s\+Collide\+Soft\+Body\+Vertices\+Using\+Ray\+Cast} (const \mbox{\hyperlink{classShape}{Shape}} \&in\+Shape, \mbox{\hyperlink{classMat44}{Mat44\+Arg}} in\+Center\+Of\+Mass\+Transform, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Scale, \mbox{\hyperlink{classSoftBodyVertex}{Soft\+Body\+Vertex}} \texorpdfstring{$\ast$}{*}io\+Vertices, uint in\+Num\+Vertices, float in\+Delta\+Time, \mbox{\hyperlink{classVec3}{Vec3\+Arg}} in\+Displacement\+Due\+To\+Gravity, int in\+Colliding\+Shape\+Index)
\begin{DoxyCompactList}\small\item\em A fallback version of Collide\+Soft\+Body\+Vertices that uses a raycast to collide the vertices with the shape. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classRefTarget}{Ref\+Target$<$ Shape $>$}}}
\begin{DoxyCompactItemize}
\item 
atomic$<$ uint32 $>$ {\bfseries m\+Ref\+Count}
\begin{DoxyCompactList}\small\item\em Current reference count. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Protected Attributes inherited from \mbox{\hyperlink{classRefTarget}{Ref\+Target$<$ Shape $>$}}}
\begin{DoxyCompactItemize}
\item 
static constexpr uint32 {\bfseries c\+Embedded}
\begin{DoxyCompactList}\small\item\em A large value that gets added to the refcount to mark the object as embedded. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A height field shape. Cannot be used as a dynamic object. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classHeightFieldShape_ab9f32d7526764018b65ce9dd4820cd5c}\label{classHeightFieldShape_ab9f32d7526764018b65ce9dd4820cd5c} 
\index{HeightFieldShape@{HeightFieldShape}!CastRay@{CastRay}}
\index{CastRay@{CastRay}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{CastRay()}{CastRay()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily virtual void Height\+Field\+Shape\+::\+Cast\+Ray (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structRayCast}{Ray\+Cast}} \&}]{in\+Ray,  }\item[{const \mbox{\hyperlink{classRayCastSettings}{Ray\+Cast\+Settings}} \&}]{in\+Ray\+Cast\+Settings,  }\item[{const \mbox{\hyperlink{classSubShapeIDCreator}{Sub\+Shape\+IDCreator}} \&}]{in\+Sub\+Shape\+IDCreator,  }\item[{\mbox{\hyperlink{classCollisionCollector}{Cast\+Ray\+Collector}} \&}]{io\+Collector,  }\item[{const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&}]{in\+Shape\+Filter = {\ttfamily \{~\}} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Cast a ray against this shape. Allows returning multiple hits through io\+Collector. Note that this version is more flexible but also slightly slower than the Cast\+Ray function that returns only a single hit. If you want the surface normal of the hit use Get\+Surface\+Normal(collected sub shape ID, in\+Ray.\+Get\+Point\+On\+Ray(collected faction)). 

Implements \mbox{\hyperlink{classShape_a54b33219a3685aa4b964f6b69a2cfa7d}{Shape}}.

\Hypertarget{classHeightFieldShape_aa711d40a7ae29c563427f98233b664cc}\label{classHeightFieldShape_aa711d40a7ae29c563427f98233b664cc} 
\index{HeightFieldShape@{HeightFieldShape}!CastRay@{CastRay}}
\index{CastRay@{CastRay}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{CastRay()}{CastRay()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily virtual bool Height\+Field\+Shape\+::\+Cast\+Ray (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structRayCast}{Ray\+Cast}} \&}]{in\+Ray,  }\item[{const \mbox{\hyperlink{classSubShapeIDCreator}{Sub\+Shape\+IDCreator}} \&}]{in\+Sub\+Shape\+IDCreator,  }\item[{\mbox{\hyperlink{classRayCastResult}{Ray\+Cast\+Result}} \&}]{io\+Hit }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Cast a ray against this shape, returns true if it finds a hit closer than io\+Hit.\+m\+Fraction and updates that fraction. Otherwise io\+Hit is left untouched and the function returns false. Note that the ray should be relative to the center of mass of this shape (i.\+e. subtract \doxylink{classShape_a7e34b0626a40c31db0b2a761922adb1a}{Shape\+::\+Get\+Center\+Of\+Mass()} from \doxylink{structRayCastT_ae66dc4b0c20b242f17bcf70cb5507e51}{Ray\+Cast\+::m\+Origin} if you want to cast against the shape in the space it was created). Convex objects will be treated as solid (meaning if the ray starts inside, you\textquotesingle{}ll get a hit fraction of 0) and back face hits against triangles are returned. If you want the surface normal of the hit use Get\+Surface\+Normal(io\+Hit.\+m\+Sub\+Shape\+ID2, in\+Ray.\+Get\+Point\+On\+Ray(io\+Hit.\+m\+Fraction)). 

Implements \mbox{\hyperlink{classShape_a955ec1953bc94c6c910dc4dc16114732}{Shape}}.

\Hypertarget{classHeightFieldShape_a0ef4e39a103aada86908f80569553db6}\label{classHeightFieldShape_a0ef4e39a103aada86908f80569553db6} 
\index{HeightFieldShape@{HeightFieldShape}!CollidePoint@{CollidePoint}}
\index{CollidePoint@{CollidePoint}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{CollidePoint()}{CollidePoint()}}
{\footnotesize\ttfamily virtual void Height\+Field\+Shape\+::\+Collide\+Point (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Point,  }\item[{const \mbox{\hyperlink{classSubShapeIDCreator}{Sub\+Shape\+IDCreator}} \&}]{in\+Sub\+Shape\+IDCreator,  }\item[{\mbox{\hyperlink{classCollisionCollector}{Collide\+Point\+Collector}} \&}]{io\+Collector,  }\item[{const \mbox{\hyperlink{classShapeFilter}{Shape\+Filter}} \&}]{in\+Shape\+Filter = {\ttfamily \{~\}} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Check if in\+Point is inside this shape. For this tests all shapes are treated as if they were solid. Note that in\+Point should be relative to the center of mass of this shape (i.\+e. subtract \doxylink{classShape_a7e34b0626a40c31db0b2a761922adb1a}{Shape\+::\+Get\+Center\+Of\+Mass()} from in\+Point if you want to test against the shape in the space it was created). For a mesh shape, this test will only provide sensible information if the mesh is a closed manifold. For each shape that collides, io\+Collector will receive a hit. 

Implements \mbox{\hyperlink{classShape_af6e77d16736434769d72152bf059a126}{Shape}}.

\Hypertarget{classHeightFieldShape_ae7ea99a3a32493dfa71f26892f29cead}\label{classHeightFieldShape_ae7ea99a3a32493dfa71f26892f29cead} 
\index{HeightFieldShape@{HeightFieldShape}!CollideSoftBodyVertices@{CollideSoftBodyVertices}}
\index{CollideSoftBodyVertices@{CollideSoftBodyVertices}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{CollideSoftBodyVertices()}{CollideSoftBodyVertices()}}
{\footnotesize\ttfamily virtual void Height\+Field\+Shape\+::\+Collide\+Soft\+Body\+Vertices (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMat44}{Mat44\+Arg}}}]{in\+Center\+Of\+Mass\+Transform,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Scale,  }\item[{\mbox{\hyperlink{classSoftBodyVertex}{Soft\+Body\+Vertex}} \texorpdfstring{$\ast$}{*}}]{io\+Vertices,  }\item[{uint}]{in\+Num\+Vertices,  }\item[{float}]{in\+Delta\+Time,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Displacement\+Due\+To\+Gravity,  }\item[{int}]{in\+Colliding\+Shape\+Index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Collides all vertices of a soft body with this shape and updates \doxylink{classSoftBodyVertex_ad875325c3ade4ca33d6b96716b8a2b07}{Soft\+Body\+Vertex\+::m\+Collision\+Plane}, \doxylink{classSoftBodyVertex_a887112c6a59e554fd15aac62b7e84dfe}{Soft\+Body\+Vertex\+::m\+Colliding\+Shape\+Index} and \doxylink{classSoftBodyVertex_a8277ada20f83ca568c1e6173720fbf23}{Soft\+Body\+Vertex\+::m\+Largest\+Penetration} if a collision with more penetration was found. 
\begin{DoxyParams}{Parameters}
{\em in\+Center\+Of\+Mass\+Transform} & Center of mass transform for this shape relative to the vertices. \\
\hline
{\em in\+Scale} & The scale to use for this shape \\
\hline
{\em io\+Vertices} & The vertices of the soft body \\
\hline
{\em in\+Num\+Vertices} & The number of vertices in io\+Vertices \\
\hline
{\em in\+Delta\+Time} & Delta time of this time step (can be used to extrapolate the position using the velocity of the particle) \\
\hline
{\em in\+Displacement\+Due\+To\+Gravity} & Displacement due to gravity during this time step \\
\hline
{\em in\+Colliding\+Shape\+Index} & Value to store in \doxylink{classSoftBodyVertex_a887112c6a59e554fd15aac62b7e84dfe}{Soft\+Body\+Vertex\+::m\+Colliding\+Shape\+Index} when a collision was found \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classShape_ac351f347171376cd988ec415748a78ff}{Shape}}.

\Hypertarget{classHeightFieldShape_ae7f91dfccc248ac4a5f558acc788d461}\label{classHeightFieldShape_ae7f91dfccc248ac4a5f558acc788d461} 
\index{HeightFieldShape@{HeightFieldShape}!GetHeights@{GetHeights}}
\index{GetHeights@{GetHeights}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{GetHeights()}{GetHeights()}}
{\footnotesize\ttfamily void Height\+Field\+Shape\+::\+Get\+Heights (\begin{DoxyParamCaption}\item[{uint}]{inX,  }\item[{uint}]{inY,  }\item[{uint}]{in\+SizeX,  }\item[{uint}]{in\+SizeY,  }\item[{float \texorpdfstring{$\ast$}{*}}]{out\+Heights,  }\item[{uint}]{in\+Heights\+Stride }\end{DoxyParamCaption}) const}

Get the height values of a block of data. Note that the height values are decompressed so will be slightly different from what the shape was originally created with. 
\begin{DoxyParams}{Parameters}
{\em inX} & Start X position, must be a multiple of m\+Block\+Size and in the range \mbox{[}0, m\+Sample\+Count -\/ 1\mbox{]} \\
\hline
{\em inY} & Start Y position, must be a multiple of m\+Block\+Size and in the range \mbox{[}0, m\+Sample\+Count -\/ 1\mbox{]} \\
\hline
{\em in\+SizeX} & Number of samples in X direction, must be a multiple of m\+Block\+Size and in the range \mbox{[}0, m\+Sample\+Count -\/ inX\mbox{]} \\
\hline
{\em in\+SizeY} & Number of samples in Y direction, must be a multiple of m\+Block\+Size and in the range \mbox{[}0, m\+Sample\+Count -\/ inX\mbox{]} \\
\hline
{\em out\+Heights} & Returned height values, must be at least in\+SizeX \texorpdfstring{$\ast$}{*} in\+SizeY floats. Values are returned in x-\/major order and can be c\+No\+Collision\+Value. \\
\hline
{\em in\+Heights\+Stride} & Stride in floats between two consecutive rows of out\+Heights. \\
\hline
\end{DoxyParams}
\Hypertarget{classHeightFieldShape_a6546d622ca1ff86ea3c3cf7dc39753d3}\label{classHeightFieldShape_a6546d622ca1ff86ea3c3cf7dc39753d3} 
\index{HeightFieldShape@{HeightFieldShape}!GetInnerRadius@{GetInnerRadius}}
\index{GetInnerRadius@{GetInnerRadius}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{GetInnerRadius()}{GetInnerRadius()}}
{\footnotesize\ttfamily virtual float Height\+Field\+Shape\+::\+Get\+Inner\+Radius (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns the radius of the biggest sphere that fits entirely in the shape. In case this shape consists of multiple sub shapes, it returns the smallest sphere of the parts. This can be used as a measure of how far the shape can be moved without risking going through geometry. 

Implements \mbox{\hyperlink{classShape_a249fa4e0fc7fdd25071be9f45db6a25a}{Shape}}.

\Hypertarget{classHeightFieldShape_ac416d47a2e131dd7d490a6b13ab9cc74}\label{classHeightFieldShape_ac416d47a2e131dd7d490a6b13ab9cc74} 
\index{HeightFieldShape@{HeightFieldShape}!GetLocalBounds@{GetLocalBounds}}
\index{GetLocalBounds@{GetLocalBounds}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{GetLocalBounds()}{GetLocalBounds()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{classAABox}{AABox}} Height\+Field\+Shape\+::\+Get\+Local\+Bounds (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Get local bounding box including convex radius, this box is centered around the center of mass rather than the world transform. 



Implements \mbox{\hyperlink{classShape_a30ea165596e01df087f6e4980ed6b0cb}{Shape}}.

\Hypertarget{classHeightFieldShape_acb87be8952e30539b4da5b219c1b0d05}\label{classHeightFieldShape_acb87be8952e30539b4da5b219c1b0d05} 
\index{HeightFieldShape@{HeightFieldShape}!GetMassProperties@{GetMassProperties}}
\index{GetMassProperties@{GetMassProperties}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{GetMassProperties()}{GetMassProperties()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{classMassProperties}{Mass\+Properties}} Height\+Field\+Shape\+::\+Get\+Mass\+Properties (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Calculate the mass and inertia of this shape. 



Implements \mbox{\hyperlink{classShape_a00d0953c120d9e175960c9e6629f108f}{Shape}}.

\Hypertarget{classHeightFieldShape_a184fbdeea49ebc60dca382f0288e86e7}\label{classHeightFieldShape_a184fbdeea49ebc60dca382f0288e86e7} 
\index{HeightFieldShape@{HeightFieldShape}!GetMaterial@{GetMaterial}}
\index{GetMaterial@{GetMaterial}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{GetMaterial()}{GetMaterial()}}
{\footnotesize\ttfamily virtual const \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} \texorpdfstring{$\ast$}{*} Height\+Field\+Shape\+::\+Get\+Material (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&}]{in\+Sub\+Shape\+ID }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Get the material assigned to a particular sub shape ID. 



Implements \mbox{\hyperlink{classShape_a7f92a050d292158b83ef016eb5d3f168}{Shape}}.

\Hypertarget{classHeightFieldShape_a402509e2c2280d728b9e0a1290e680ba}\label{classHeightFieldShape_a402509e2c2280d728b9e0a1290e680ba} 
\index{HeightFieldShape@{HeightFieldShape}!GetPosition@{GetPosition}}
\index{GetPosition@{GetPosition}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{GetPosition()}{GetPosition()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classVec3}{Vec3}} Height\+Field\+Shape\+::\+Get\+Position (\begin{DoxyParamCaption}\item[{uint}]{inX,  }\item[{uint}]{inY }\end{DoxyParamCaption}) const}

Get height field position at sampled location (inX, inY). where inX and inY are integers in the range inX e \mbox{[}0, m\+Sample\+Count -\/ 1\mbox{]} and inY e \mbox{[}0, m\+Sample\+Count -\/ 1\mbox{]}. \Hypertarget{classHeightFieldShape_a3fb0aa9432c2f37fd49b809f3a37bb78}\label{classHeightFieldShape_a3fb0aa9432c2f37fd49b809f3a37bb78} 
\index{HeightFieldShape@{HeightFieldShape}!GetStats@{GetStats}}
\index{GetStats@{GetStats}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{GetStats()}{GetStats()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{structShape_1_1Stats}{Stats}} Height\+Field\+Shape\+::\+Get\+Stats (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Get stats of this shape. Use for logging / data collection purposes only. Does not add values from child shapes, use Get\+Stats\+Recursive for this. 



Implements \mbox{\hyperlink{classShape_a87ae161e649ab6af75a60fe130dd195b}{Shape}}.

\Hypertarget{classHeightFieldShape_ab7c2e6fc0f60fa4290474d758473b3ab}\label{classHeightFieldShape_ab7c2e6fc0f60fa4290474d758473b3ab} 
\index{HeightFieldShape@{HeightFieldShape}!GetSubShapeIDBitsRecursive@{GetSubShapeIDBitsRecursive}}
\index{GetSubShapeIDBitsRecursive@{GetSubShapeIDBitsRecursive}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{GetSubShapeIDBitsRecursive()}{GetSubShapeIDBitsRecursive()}}
{\footnotesize\ttfamily virtual uint Height\+Field\+Shape\+::\+Get\+Sub\+Shape\+IDBits\+Recursive (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Get the max number of sub shape ID bits that are needed to be able to address any leaf shape in this shape. Used mainly for checking that it is smaller or equal than \doxylink{classSubShapeID_a74d6785fe41b99c0d783fb6e66c39f4d}{Sub\+Shape\+ID\+::\+Max\+Bits}. 



Implements \mbox{\hyperlink{classShape_aee463ecaa01e871524f5396871b5e8c6}{Shape}}.

\Hypertarget{classHeightFieldShape_afa5a9b8f5df9b2b8e33e8e1b268c6983}\label{classHeightFieldShape_afa5a9b8f5df9b2b8e33e8e1b268c6983} 
\index{HeightFieldShape@{HeightFieldShape}!GetSupportingFace@{GetSupportingFace}}
\index{GetSupportingFace@{GetSupportingFace}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{GetSupportingFace()}{GetSupportingFace()}}
{\footnotesize\ttfamily virtual void Height\+Field\+Shape\+::\+Get\+Supporting\+Face (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&}]{in\+Sub\+Shape\+ID,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Direction,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Scale,  }\item[{\mbox{\hyperlink{classMat44}{Mat44\+Arg}}}]{in\+Center\+Of\+Mass\+Transform,  }\item[{\mbox{\hyperlink{classShape_a95d3060318d33c1ef314c5b856a70cb8}{Supporting\+Face}} \&}]{out\+Vertices }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Get the vertices of the face that faces in\+Direction the most (includes any convex radius). Note that this function can only return faces of convex shapes or triangles, which is why a sub shape ID to get to that leaf must be provided. 
\begin{DoxyParams}{Parameters}
{\em in\+Sub\+Shape\+ID} & Sub shape ID of target shape \\
\hline
{\em in\+Direction} & Direction that the face should be facing (in local space to this shape) \\
\hline
{\em in\+Center\+Of\+Mass\+Transform} & \doxylink{structTransform}{Transform} to transform out\+Vertices with \\
\hline
{\em in\+Scale} & Scale of this shape \\
\hline
{\em out\+Vertices} & Resulting face. The returned face can be empty if the shape doesn\textquotesingle{}t have polygons to return (e.\+g. because it\textquotesingle{}s a sphere). The face will be returned in world space. \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classShape_a4f6591e1a1329278568bc99b035c9928}{Shape}}.

\Hypertarget{classHeightFieldShape_a3c8805d1ace6baaae1d399dd9eb8ba60}\label{classHeightFieldShape_a3c8805d1ace6baaae1d399dd9eb8ba60} 
\index{HeightFieldShape@{HeightFieldShape}!GetSurfaceNormal@{GetSurfaceNormal}}
\index{GetSurfaceNormal@{GetSurfaceNormal}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{GetSurfaceNormal()}{GetSurfaceNormal()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{classVec3}{Vec3}} Height\+Field\+Shape\+::\+Get\+Surface\+Normal (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&}]{in\+Sub\+Shape\+ID,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Local\+Surface\+Position }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Get the surface normal of a particular sub shape ID and point on surface (all vectors are relative to center of mass for this shape). Note\+: When you have a \doxylink{classCollideShapeResult}{Collide\+Shape\+Result} or \doxylink{classShapeCastResult}{Shape\+Cast\+Result} you should use -\/m\+Penetration\+Axis.\+Normalized() as contact normal as Get\+Surface\+Normal will only return face normals (and not vertex or edge normals). 

Implements \mbox{\hyperlink{classShape_adc7c6aeed1cde2ae1be099a4a5a4bd0c}{Shape}}.

\Hypertarget{classHeightFieldShape_a80530bc404f0d11b8cd804311426fb92}\label{classHeightFieldShape_a80530bc404f0d11b8cd804311426fb92} 
\index{HeightFieldShape@{HeightFieldShape}!GetTrianglesNext@{GetTrianglesNext}}
\index{GetTrianglesNext@{GetTrianglesNext}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{GetTrianglesNext()}{GetTrianglesNext()}}
{\footnotesize\ttfamily virtual int Height\+Field\+Shape\+::\+Get\+Triangles\+Next (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structShape_1_1GetTrianglesContext}{Get\+Triangles\+Context}} \&}]{io\+Context,  }\item[{int}]{in\+Max\+Triangles\+Requested,  }\item[{\mbox{\hyperlink{classFloat3}{Float3}} \texorpdfstring{$\ast$}{*}}]{out\+Triangle\+Vertices,  }\item[{const \mbox{\hyperlink{classPhysicsMaterial}{Physics\+Material}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{out\+Materials = {\ttfamily nullptr} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Call this repeatedly to get all triangles in the box. out\+Triangle\+Vertices should be large enough to hold 3 \texorpdfstring{$\ast$}{*} in\+Max\+Triangle\+Requested entries. out\+Materials (if it is not null) should contain in\+Max\+Triangles\+Requested entries. The function returns the amount of triangles that it found (which will be \texorpdfstring{$<$}{<}= in\+Max\+Triangles\+Requested), or 0 if there are no more triangles. Note that the function can return a value \texorpdfstring{$<$}{<} in\+Max\+Triangles\+Requested and still have more triangles to process (triangles can be returned in blocks). Note that the function may return triangles outside of the requested box, only coarse culling is performed on the returned triangles. 

Implements \mbox{\hyperlink{classShape_a4b6ba637f676d38c24bdb5da9a2f345f}{Shape}}.

\Hypertarget{classHeightFieldShape_a48e5e391e7c6e960fe1485f242496f66}\label{classHeightFieldShape_a48e5e391e7c6e960fe1485f242496f66} 
\index{HeightFieldShape@{HeightFieldShape}!GetTrianglesStart@{GetTrianglesStart}}
\index{GetTrianglesStart@{GetTrianglesStart}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{GetTrianglesStart()}{GetTrianglesStart()}}
{\footnotesize\ttfamily virtual void Height\+Field\+Shape\+::\+Get\+Triangles\+Start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structShape_1_1GetTrianglesContext}{Get\+Triangles\+Context}} \&}]{io\+Context,  }\item[{const \mbox{\hyperlink{classAABox}{AABox}} \&}]{in\+Box,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Position\+COM,  }\item[{\mbox{\hyperlink{classQuat}{Quat\+Arg}}}]{in\+Rotation,  }\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Scale }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

To start iterating over triangles, call this function first. io\+Context is a temporary buffer and should remain untouched until the last call to Get\+Triangles\+Next. in\+Box is the world space bounding in which you want to get the triangles. in\+Position\+COM/in\+Rotation/in\+Scale describes the transform of this shape. To get the actual triangles call Get\+Triangles\+Next. 

Implements \mbox{\hyperlink{classShape_a703f5419cf3f3cb216cbe0433ce1a625}{Shape}}.

\Hypertarget{classHeightFieldShape_aefe0c0c9d3017a94ac8835e84e698e9a}\label{classHeightFieldShape_aefe0c0c9d3017a94ac8835e84e698e9a} 
\index{HeightFieldShape@{HeightFieldShape}!GetVolume@{GetVolume}}
\index{GetVolume@{GetVolume}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{GetVolume()}{GetVolume()}}
{\footnotesize\ttfamily virtual float Height\+Field\+Shape\+::\+Get\+Volume (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classShape}{Shape}}.

\Hypertarget{classHeightFieldShape_ab850b5af741a24d3abc431d4b73d7caf}\label{classHeightFieldShape_ab850b5af741a24d3abc431d4b73d7caf} 
\index{HeightFieldShape@{HeightFieldShape}!MustBeStatic@{MustBeStatic}}
\index{MustBeStatic@{MustBeStatic}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{MustBeStatic()}{MustBeStatic()}}
{\footnotesize\ttfamily virtual bool Height\+Field\+Shape\+::\+Must\+Be\+Static (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Check if this shape can only be used to create a static body or if it can also be dynamic/kinematic. 



Reimplemented from \mbox{\hyperlink{classShape_a6abbf113475435c0c694d3199e352c3a}{Shape}}.

\Hypertarget{classHeightFieldShape_a177f33234760b2fcf48a9b23e8a17fec}\label{classHeightFieldShape_a177f33234760b2fcf48a9b23e8a17fec} 
\index{HeightFieldShape@{HeightFieldShape}!ProjectOntoSurface@{ProjectOntoSurface}}
\index{ProjectOntoSurface@{ProjectOntoSurface}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{ProjectOntoSurface()}{ProjectOntoSurface()}}
{\footnotesize\ttfamily bool Height\+Field\+Shape\+::\+Project\+Onto\+Surface (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classVec3}{Vec3\+Arg}}}]{in\+Local\+Position,  }\item[{\mbox{\hyperlink{classVec3}{Vec3}} \&}]{out\+Surface\+Position,  }\item[{\mbox{\hyperlink{classSubShapeID}{Sub\+Shape\+ID}} \&}]{out\+Sub\+Shape\+ID }\end{DoxyParamCaption}) const}

Projects in\+Local\+Position (a point in the space of the shape) along the Y axis onto the surface and returns it in out\+Surface\+Position. When there is no surface position (because of a hole or because the point is outside the heightfield) the function will return false. \Hypertarget{classHeightFieldShape_aa37a7106a6f4527f65d9fbe28d192d27}\label{classHeightFieldShape_aa37a7106a6f4527f65d9fbe28d192d27} 
\index{HeightFieldShape@{HeightFieldShape}!RestoreBinaryState@{RestoreBinaryState}}
\index{RestoreBinaryState@{RestoreBinaryState}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{RestoreBinaryState()}{RestoreBinaryState()}}
{\footnotesize\ttfamily virtual void Height\+Field\+Shape\+::\+Restore\+Binary\+State (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classStreamIn}{Stream\+In}} \&}]{in\+Stream }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



This function should not be called directly, it is used by s\+Restore\+From\+Binary\+State. 



Reimplemented from \mbox{\hyperlink{classShape_ac5e363e4fab915e43c78bd43ea8a51e3}{Shape}}.

\Hypertarget{classHeightFieldShape_a795157310bf9e6b1cadbfd14ced0851b}\label{classHeightFieldShape_a795157310bf9e6b1cadbfd14ced0851b} 
\index{HeightFieldShape@{HeightFieldShape}!RestoreMaterialState@{RestoreMaterialState}}
\index{RestoreMaterialState@{RestoreMaterialState}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{RestoreMaterialState()}{RestoreMaterialState()}}
{\footnotesize\ttfamily virtual void Height\+Field\+Shape\+::\+Restore\+Material\+State (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classRefConst}{Physics\+Material\+RefC}} \texorpdfstring{$\ast$}{*}}]{in\+Materials,  }\item[{uint}]{in\+Num\+Materials }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Restore the material references after calling s\+Restore\+From\+Binary\+State. Note that the exact same materials need to be provided in the same order as returned by Save\+Material\+State. 



Reimplemented from \mbox{\hyperlink{classShape_a6e823e7198f22ec824cacf9998d9904c}{Shape}}.

\Hypertarget{classHeightFieldShape_af894acfc2c008687d3aa5062898df018}\label{classHeightFieldShape_af894acfc2c008687d3aa5062898df018} 
\index{HeightFieldShape@{HeightFieldShape}!SaveBinaryState@{SaveBinaryState}}
\index{SaveBinaryState@{SaveBinaryState}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{SaveBinaryState()}{SaveBinaryState()}}
{\footnotesize\ttfamily virtual void Height\+Field\+Shape\+::\+Save\+Binary\+State (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classStreamOut}{Stream\+Out}} \&}]{in\+Stream }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Saves the contents of the shape in binary form to in\+Stream. 



Reimplemented from \mbox{\hyperlink{classShape_aa77d38652e25d56dc473e19e9cc2f8ad}{Shape}}.

\Hypertarget{classHeightFieldShape_afe91487842b1dc4fea520e677393cf4c}\label{classHeightFieldShape_afe91487842b1dc4fea520e677393cf4c} 
\index{HeightFieldShape@{HeightFieldShape}!SetHeights@{SetHeights}}
\index{SetHeights@{SetHeights}!HeightFieldShape@{HeightFieldShape}}
\doxysubsubsection{\texorpdfstring{SetHeights()}{SetHeights()}}
{\footnotesize\ttfamily void Height\+Field\+Shape\+::\+Set\+Heights (\begin{DoxyParamCaption}\item[{uint}]{inX,  }\item[{uint}]{inY,  }\item[{uint}]{in\+SizeX,  }\item[{uint}]{in\+SizeY,  }\item[{const float \texorpdfstring{$\ast$}{*}}]{in\+Heights,  }\item[{uint}]{in\+Heights\+Stride,  }\item[{\mbox{\hyperlink{classTempAllocator}{Temp\+Allocator}} \&}]{in\+Allocator,  }\item[{float}]{in\+Active\+Edge\+Cos\+Threshold\+Angle = {\ttfamily 0.996195f} }\end{DoxyParamCaption})}

Set the height values of a block of data. Note that this requires decompressing and recompressing a border of size m\+Block\+Size in the negative x/y direction so will cause some precision loss. 
\begin{DoxyParams}{Parameters}
{\em inX} & Start X position, must be a multiple of m\+Block\+Size and in the range \mbox{[}0, m\+Sample\+Count -\/ 1\mbox{]} \\
\hline
{\em inY} & Start Y position, must be a multiple of m\+Block\+Size and in the range \mbox{[}0, m\+Sample\+Count -\/ 1\mbox{]} \\
\hline
{\em in\+SizeX} & Number of samples in X direction, must be a multiple of m\+Block\+Size and in the range \mbox{[}0, m\+Sample\+Count -\/ inX\mbox{]} \\
\hline
{\em in\+SizeY} & Number of samples in Y direction, must be a multiple of m\+Block\+Size and in the range \mbox{[}0, m\+Sample\+Count -\/ inX\mbox{]} \\
\hline
{\em in\+Heights} & The new height values to set, must be an array of in\+SizeX \texorpdfstring{$\ast$}{*} in\+SizeY floats, can be c\+No\+Collision\+Value. \\
\hline
{\em in\+Heights\+Stride} & Stride in floats between two consecutive rows of out\+Heights. \\
\hline
{\em in\+Allocator} & Allocator to use for temporary memory \\
\hline
{\em in\+Active\+Edge\+Cos\+Threshold\+Angle} & Cosine of the threshold angle (if the angle between the two triangles is bigger than this, the edge is active, note that a concave edge is always inactive). \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
includes/jolt/\+Physics/\+Collision/\+Shape/Height\+Field\+Shape.\+h\end{DoxyCompactItemize}
