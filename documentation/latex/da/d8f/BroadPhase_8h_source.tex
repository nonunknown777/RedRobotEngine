\doxysection{Broad\+Phase.\+h}
\hypertarget{BroadPhase_8h_source}{}\label{BroadPhase_8h_source}\index{includes/jolt/Physics/Collision/BroadPhase/BroadPhase.h@{includes/jolt/Physics/Collision/BroadPhase/BroadPhase.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Jolt\ Physics\ Library\ (https://github.com/jrouwe/JoltPhysics)}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ SPDX-\/FileCopyrightText:\ 2021\ Jorrit\ Rouwe}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ SPDX-\/License-\/Identifier:\ MIT}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/BroadPhase/BroadPhaseQuery.h>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/BroadPhase/BroadPhaseLayer.h>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ JPH\_NAMESPACE\_BEGIN}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{comment}{//\ Shorthand\ function\ to\ ifdef\ out\ code\ if\ broadphase\ stats\ tracking\ is\ off}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#ifdef\ JPH\_TRACK\_BROADPHASE\_STATS}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\ \ \ \ \#define\ JPH\_IF\_TRACK\_BROADPHASE\_STATS(...)\ \_\_VA\_ARGS\_\_}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\ \ \ \ \#define\ JPH\_IF\_TRACK\_BROADPHASE\_STATS(...)}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ JPH\_TRACK\_BROADPHASE\_STATS}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classBodyManager}{BodyManager}};}
\DoxyCodeLine{00020\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structBodyPair}{BodyPair}};}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{using\ }\mbox{\hyperlink{classCollisionCollector}{BodyPairCollector}}\ =\ \mbox{\hyperlink{classCollisionCollector}{CollisionCollector<BodyPair,\ CollisionCollectorTraitsCollideShape>}};}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{class\ }JPH\_EXPORT\ \mbox{\hyperlink{classBroadPhase}{BroadPhase}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classBroadPhaseQuery}{BroadPhaseQuery}}}
\DoxyCodeLine{00026\ \{}
\DoxyCodeLine{00027\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_ad6b23ee0d0890136c3add81e64ac2efd}{Init}}(\mbox{\hyperlink{classBodyManager}{BodyManager}}\ *inBodyManager,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classBroadPhaseLayerInterface}{BroadPhaseLayerInterface}}\ \&inLayerInterface);}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_ab209cd12e5b3c915ed9d9c65e5d34089}{Optimize}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{/*\ Optionally\ overridden\ by\ implementation\ */}\ \}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_a4772ae4d99f16342a494b7c1e0066d8d}{FrameSync}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{/*\ Optionally\ overridden\ by\ implementation\ */}\ \}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_a09a84eceb64acb6636984a06bbb7a73a}{LockModifications}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{/*\ Optionally\ overridden\ by\ implementation\ */}\ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structBroadPhase_1_1UpdateState}{UpdateState}}\ \{\ \textcolor{keywordtype}{void}\ *mData[4];\ \};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{structBroadPhase_1_1UpdateState}{UpdateState}}\ \ \mbox{\hyperlink{classBroadPhase_af28614224a9ae6463bce9f2039468852}{UpdatePrepare}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structBroadPhase_1_1UpdateState}{UpdateState}}();\ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_ab78bec1eb43c0ff847eaf489bd2e95a2}{UpdateFinalize}}([[maybe\_unused]]\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structBroadPhase_1_1UpdateState}{UpdateState}}\ \&inUpdateState)\ \ \{\ \textcolor{comment}{/*\ Optionally\ overridden\ by\ implementation\ */}\ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_a588463ac5567b3cc721c45cdb90138d6}{UnlockModifications}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{/*\ Optionally\ overridden\ by\ implementation\ */}\ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classBroadPhase_ae7d00a18a41401f177a2a1d111265b10}{AddState}}\ =\ \textcolor{keywordtype}{void}\ *;}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classBroadPhase_ae7d00a18a41401f177a2a1d111265b10}{AddState}}\ \ \ \ \mbox{\hyperlink{classBroadPhase_adc636ae60807c46011ed3674b6a983c2}{AddBodiesPrepare}}([[maybe\_unused]]\ \mbox{\hyperlink{classBodyID}{BodyID}}\ *ioBodies,\ [[maybe\_unused]]\ \textcolor{keywordtype}{int}\ inNumber)\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};\ \}\ \textcolor{comment}{//\ By\ default\ the\ broadphase\ doesn't\ support\ this}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_a07f0fba42d45520a9bc2d22f2a636584}{AddBodiesFinalize}}(\mbox{\hyperlink{classBodyID}{BodyID}}\ *ioBodies,\ \textcolor{keywordtype}{int}\ inNumber,\ \mbox{\hyperlink{classBroadPhase_ae7d00a18a41401f177a2a1d111265b10}{AddState}}\ inAddState)\ =\ 0;}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_a031638360b44d1a9b2176590796eb2a6}{AddBodiesAbort}}([[maybe\_unused]]\ \mbox{\hyperlink{classBodyID}{BodyID}}\ *ioBodies,\ [[maybe\_unused]]\ \textcolor{keywordtype}{int}\ inNumber,\ [[maybe\_unused]]\ \mbox{\hyperlink{classBroadPhase_ae7d00a18a41401f177a2a1d111265b10}{AddState}}\ inAddState)\ \ \{\ \textcolor{comment}{/*\ By\ default\ nothing\ needs\ to\ be\ done\ */}\ \}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_adfcebfeb40995d6a122dd53730eec6fd}{RemoveBodies}}(\mbox{\hyperlink{classBodyID}{BodyID}}\ *ioBodies,\ \textcolor{keywordtype}{int}\ inNumber)\ =\ 0;}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_a1a88ea16a35689cad897fcffa428a2ed}{NotifyBodiesAABBChanged}}(\mbox{\hyperlink{classBodyID}{BodyID}}\ *ioBodies,\ \textcolor{keywordtype}{int}\ inNumber,\ \textcolor{keywordtype}{bool}\ inTakeLock\ =\ \textcolor{keyword}{true})\ =\ 0;}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_a9acfe24c8f30529d412a26174dba503c}{NotifyBodiesLayerChanged}}(\mbox{\hyperlink{classBodyID}{BodyID}}\ *ioBodies,\ \textcolor{keywordtype}{int}\ inNumber)\ =\ 0;}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_aecd92cc792c15c624b97eeeac11cc468}{FindCollidingPairs}}(\mbox{\hyperlink{classBodyID}{BodyID}}\ *ioActiveBodies,\ \textcolor{keywordtype}{int}\ inNumActiveBodies,\ \textcolor{keywordtype}{float}\ inSpeculativeContactDistance,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classObjectVsBroadPhaseLayerFilter}{ObjectVsBroadPhaseLayerFilter}}\ \&inObjectVsBroadPhaseLayerFilter,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classObjectLayerPairFilter}{ObjectLayerPairFilter}}\ \&inObjectLayerPairFilter,\ \mbox{\hyperlink{classCollisionCollector}{BodyPairCollector}}\ \&ioPairCollector)\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_a324830206fb4032c6a6670fea6c15143}{CastAABoxNoLock}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structAABoxCast}{AABoxCast}}\ \&inBox,\ \mbox{\hyperlink{classCollisionCollector}{CastShapeBodyCollector}}\ \&ioCollector,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classBroadPhaseLayerFilter}{BroadPhaseLayerFilter}}\ \&inBroadPhaseLayerFilter,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classObjectLayerFilter}{ObjectLayerFilter}}\ \&inObjectLayerFilter)\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classAABox}{AABox}}\ \ \ \ \ \ \mbox{\hyperlink{classBroadPhase_ac1c7ee25257e8b1c1e89f6bd610d77fb}{GetBounds}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \textcolor{preprocessor}{\#ifdef\ JPH\_TRACK\_BROADPHASE\_STATS}}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ ReportStats()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{/*\ Can\ be\ implemented\ by\ derived\ classes\ */}\ \}}
\DoxyCodeLine{00105\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ JPH\_TRACK\_BROADPHASE\_STATS}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{classBodyManager}{BodyManager}}\ *\ \ \ \ \ \ \ \ mBodyManager\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00110\ \};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ JPH\_NAMESPACE\_END}

\end{DoxyCode}
