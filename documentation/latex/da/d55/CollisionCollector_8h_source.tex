\doxysection{Collision\+Collector.\+h}
\hypertarget{CollisionCollector_8h_source}{}\label{CollisionCollector_8h_source}\index{includes/jolt/Physics/Collision/CollisionCollector.h@{includes/jolt/Physics/Collision/CollisionCollector.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Jolt\ Physics\ Library\ (https://github.com/jrouwe/JoltPhysics)}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ SPDX-\/FileCopyrightText:\ 2021\ Jorrit\ Rouwe}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ SPDX-\/License-\/Identifier:\ MIT}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ JPH\_NAMESPACE\_BEGIN}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classBody}{Body}};}
\DoxyCodeLine{00010\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classTransformedShape}{TransformedShape}};}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classCollisionCollectorTraitsCastRay}{CollisionCollectorTraitsCastRay}}}
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{classCollisionCollectorTraitsCastRay_ad2a01c00dc5dc3fae86b1b2c08ddfae6}{InitialEarlyOutFraction}}\ =\ 1.0f\ +\ FLT\_EPSILON;\ }
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{classCollisionCollectorTraitsCastRay_afa6f91ce29ad08f2e10f02de6b6f88c8}{ShouldEarlyOutFraction}}\ =\ 0.0f;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00019\ \};}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classCollisionCollectorTraitsCastShape}{CollisionCollectorTraitsCastShape}}}
\DoxyCodeLine{00023\ \{}
\DoxyCodeLine{00024\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{classCollisionCollectorTraitsCastShape_a05bb7735aee24a1dbb7da03e0b43323d}{InitialEarlyOutFraction}}\ =\ 1.0f\ +\ FLT\_EPSILON;\ }
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{classCollisionCollectorTraitsCastShape_a0e140c58d35f83e0992dd50e7f51bb20}{ShouldEarlyOutFraction}}\ =\ -\/FLT\_MAX;\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00028\ \};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00031\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classCollisionCollectorTraitsCollideShape}{CollisionCollectorTraitsCollideShape}}}
\DoxyCodeLine{00032\ \{}
\DoxyCodeLine{00033\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{classCollisionCollectorTraitsCollideShape_ab3c91ac7a729d543b263c51194826488}{InitialEarlyOutFraction}}\ =\ FLT\_MAX;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{classCollisionCollectorTraitsCollideShape_ae17bd05b85c1d2e11adcbd1dad050299}{ShouldEarlyOutFraction}}\ =\ -\/FLT\_MAX;\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00037\ \};}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00040\ \textcolor{keyword}{using\ }\mbox{\hyperlink{classCollisionCollectorTraitsCollideShape}{CollisionCollectorTraitsCollidePoint}}\ =\ \mbox{\hyperlink{classCollisionCollectorTraitsCollideShape}{CollisionCollectorTraitsCollideShape}};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ ResultTypeArg,\ \textcolor{keyword}{class}\ TraitsType>}
\DoxyCodeLine{00044\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classCollisionCollector}{CollisionCollector}}}
\DoxyCodeLine{00045\ \{}
\DoxyCodeLine{00046\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classCollisionCollector_aca5d333c728a1e1768694c8845d86783}{ResultType}}\ =\ ResultTypeArg;}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_a1da599bacd865c579f31e64676e36206}{CollisionCollector}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ ResultTypeArg2>}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{explicit}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_a7d7b02e890a7ea24b0030027ce4851f9}{CollisionCollector}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classCollisionCollector}{CollisionCollector<ResultTypeArg2,\ TraitsType>}}\ \&inRHS)\ :\ mEarlyOutFraction(inRHS.\mbox{\hyperlink{classCollisionCollector_ab972bb0e68e602c5eea898dfb7166d07}{GetEarlyOutFraction}}()),\ mContext(inRHS.GetContext())\ \{\ \}}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_a1da599bacd865c579f31e64676e36206}{CollisionCollector}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classCollisionCollector}{CollisionCollector<ResultTypeArg,\ TraitsType>}}\ \&inRHS)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keyword}{virtual}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_a428497d94c0d54c4fb4e7ce6a016fc0d}{\string~CollisionCollector}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_a77f6668a80319dfb85f68b97c7b6d103}{Reset}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ mEarlyOutFraction\ =\ TraitsType::InitialEarlyOutFraction;\ \}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_ac2986bb5d0b4f6147d2507571ee3a014}{OnBody}}([[maybe\_unused]]\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classBody}{Body}}\ \&inBody)\ \ \ \ \ \ \ \{\ \textcolor{comment}{/*\ Collects\ nothing\ by\ default\ */}\ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_ada5357990f959132a05d4d4d21f8c7b3}{SetContext}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformedShape}{TransformedShape}}\ *inContext)\ \{\ mContext\ =\ inContext;\ \}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformedShape}{TransformedShape}}\ *GetContext()\textcolor{keyword}{\ const\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ mContext;\ \}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_a762c35402676662897e50dd8224e496e}{AddHit}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classCollisionCollector_aca5d333c728a1e1768694c8845d86783}{ResultType}}\ \&inResult)\ =\ 0;}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_ac46233c07f2d69db516879fbbcef8be1}{UpdateEarlyOutFraction}}(\textcolor{keywordtype}{float}\ inFraction)\ \ \ \ \ \ \{\ JPH\_ASSERT(inFraction\ <=\ mEarlyOutFraction);\ mEarlyOutFraction\ =\ inFraction;\ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_a07e4d9859fe39cfde6674ebb3ece445a}{ResetEarlyOutFraction}}(\textcolor{keywordtype}{float}\ inFraction\ =\ TraitsType::InitialEarlyOutFraction)\ \{\ mEarlyOutFraction\ =\ inFraction;\ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_a04a9260170d7c96389b50c6f6843c8b5}{ForceEarlyOut}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ mEarlyOutFraction\ =\ TraitsType::ShouldEarlyOutFraction;\ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_a45cb1cfbb5ec957d3c66b65d2333d825}{ShouldEarlyOut}}()\textcolor{keyword}{\ const\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ mEarlyOutFraction\ <=\ TraitsType::ShouldEarlyOutFraction;\ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{float}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_ab972bb0e68e602c5eea898dfb7166d07}{GetEarlyOutFraction}}()\textcolor{keyword}{\ const\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ mEarlyOutFraction;\ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{float}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classCollisionCollector_aeb1fb262127298ec8bc296ead30a2e77}{GetPositiveEarlyOutFraction}}()\textcolor{keyword}{\ const\ \ \ \ \ \ \ \ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ max(FLT\_MIN,\ mEarlyOutFraction);\ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordtype}{float}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mEarlyOutFraction\ =\ TraitsType::InitialEarlyOutFraction;}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformedShape}{TransformedShape}}\ *mContext\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00100\ \};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ JPH\_NAMESPACE\_END}

\end{DoxyCode}
