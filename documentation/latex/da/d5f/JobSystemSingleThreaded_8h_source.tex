\doxysection{Job\+System\+Single\+Threaded.\+h}
\hypertarget{JobSystemSingleThreaded_8h_source}{}\label{JobSystemSingleThreaded_8h_source}\index{includes/jolt/Core/JobSystemSingleThreaded.h@{includes/jolt/Core/JobSystemSingleThreaded.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Jolt\ Physics\ Library\ (https://github.com/jrouwe/JoltPhysics)}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ SPDX-\/FileCopyrightText:\ 2023\ Jorrit\ Rouwe}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ SPDX-\/License-\/Identifier:\ MIT}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <Jolt/Core/JobSystem.h>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <Jolt/Core/FixedSizeFreeList.h>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ JPH\_NAMESPACE\_BEGIN}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }JPH\_EXPORT\ \mbox{\hyperlink{classJobSystemSingleThreaded}{JobSystemSingleThreaded}}\ final\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classJobSystem}{JobSystem}}}
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00016\ \ \ \ \ JPH\_OVERRIDE\_NEW\_DELETE}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_ac04954b37964301fdc8c569fff04a6eb}{JobSystemSingleThreaded}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keyword}{explicit}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded}{JobSystemSingleThreaded}}(uint\ inMaxJobs)\ \ \ \ \ \ \ \ \ \ \{\ Init(inMaxJobs);\ \}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_a703b97ab18b3d2ea8be86c621e269049}{Init}}(uint\ inMaxJobs);}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{comment}{//\ See\ JobSystem}}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_a4e99aebfb2308cf3c4bdd8e54bb71799}{GetMaxConcurrency}}()\textcolor{keyword}{\ const\ override\ \ \ \ \ \ \ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ 1;\ \}}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classJobSystem_1_1JobHandle}{JobHandle}}\ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_aeb1a658b232b51fc2b85ad330d635114}{CreateJob}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *inName,\ \mbox{\hyperlink{classColor}{ColorArg}}\ inColor,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classJobSystem_ae31ef61a509934f03d4705aec19c61f5}{JobFunction}}\ \&inJobFunction,\ uint32\ inNumDependencies\ =\ 0)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classJobSystem_1_1Barrier}{Barrier}}\ *\ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_ab139f52a2294cae049a0cc5fe6f96c1d}{CreateBarrier}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_a19d614f2623e9ba92e2595ce0a8f5ca4}{DestroyBarrier}}(\mbox{\hyperlink{classJobSystem_1_1Barrier}{Barrier}}\ *inBarrier)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_a6647ac6cbc0d3c57ba788fe38eaab591}{WaitForJobs}}(\mbox{\hyperlink{classJobSystem_1_1Barrier}{Barrier}}\ *inBarrier)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{comment}{//\ Dummy\ implementation\ of\ Barrier,\ all\ jobs\ are\ executed\ immediately}}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classJobSystemSingleThreaded_1_1BarrierImpl}{BarrierImpl}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classJobSystem_1_1Barrier}{Barrier}}}
\DoxyCodeLine{00036\ \ \ \ \ \{}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ JPH\_OVERRIDE\_NEW\_DELETE}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ See\ Barrier}}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_1_1BarrierImpl_a777f9190686403c3a8d0796c0fe56077}{AddJob}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classJobSystem_1_1JobHandle}{JobHandle}}\ \&inJob)\textcolor{keyword}{\ override\ \ \ \ \ \ \ \ \ \ }\{\ \textcolor{comment}{/*\ We\ don't\ need\ to\ track\ jobs\ */}\ \}}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_1_1BarrierImpl_a124bc867efebec305deb57931370dc28}{AddJobs}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classJobSystem_1_1JobHandle}{JobHandle}}\ *inHandles,\ uint\ inNumHandles)\textcolor{keyword}{\ override\ }\{\ \textcolor{comment}{/*\ We\ don't\ need\ to\ track\ jobs\ */}\ \}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_1_1BarrierImpl_ad13990ca369c5cb94826dd026a447733}{OnJobFinished}}(\mbox{\hyperlink{classJobSystem_1_1Job}{Job}}\ *inJob)\textcolor{keyword}{\ override\ \ \ \ \ \ \ \ \ \ \ \ \ \ }\{\ \textcolor{comment}{/*\ We\ don't\ need\ to\ track\ jobs\ */}\ \}}
\DoxyCodeLine{00047\ \ \ \ \ \};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{comment}{//\ See\ JobSystem}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_a1dfe9fbc605a326ae45b93ba9a65f3e4}{QueueJob}}(\mbox{\hyperlink{classJobSystem_1_1Job}{Job}}\ *inJob)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_a3db6fa8af3ffc7f644c8c1a4ce79bfac}{QueueJobs}}(\mbox{\hyperlink{classJobSystem_1_1Job}{Job}}\ **inJobs,\ uint\ inNumJobs)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_a6b8299d377697a5d2c76fd94f9c34d68}{FreeJob}}(\mbox{\hyperlink{classJobSystem_1_1Job}{Job}}\ *inJob)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00055\ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_1_1BarrierImpl}{BarrierImpl}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classJobSystemSingleThreaded_a0ef030c1327f4ebf4eb7c5ef383003d1}{mDummyBarrier}};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classFixedSizeFreeList}{AvailableJobs}}\ =\ \mbox{\hyperlink{classFixedSizeFreeList}{FixedSizeFreeList<Job>}};}
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{classFixedSizeFreeList}{AvailableJobs}}\ \ \ \ \ \ \ \ \ \ mJobs;}
\DoxyCodeLine{00060\ \};}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ JPH\_NAMESPACE\_END}

\end{DoxyCode}
